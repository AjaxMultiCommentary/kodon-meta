var TE=Object.defineProperty;var Rc=i=>{throw TypeError(i)};var SE=(i,e,t)=>e in i?TE(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var nt=(i,e,t)=>SE(i,typeof e!="symbol"?e+"":e,t),OE=(i,e,t)=>e.has(i)||Rc("Cannot "+t);var Ic=(i,e,t)=>e.has(i)?Rc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t);var Ds=(i,e,t)=>(OE(i,e,"access private method"),t);import{b as kE,f as rt,a as Me,e as Ei,d as Mt}from"./DmyKEZGP.js";import{o as vv}from"./ByL6133P.js";import{K as bv,L as Fn,as as _v,s as kn,h as At,l as yv,b as bf,g as re,a6 as CE,N as RE,P as IE,Q as Nc,R as gi,i as Gr,al as NE,S as Lf,U as Qi,V as xv,at as ho,ao as Av,Z as _f,d as yf,au as Bf,av as Dc,aw as Pf,a2 as DE,ax as Fc,aj as wv,ay as FE,az as LE,an as BE,aA as PE,aB as Vi,aC as qE,j as UE,M as Ev,w as qf,aD as ME,X as Tv,x as Sv,aE as zE,aF as Ov,G as jE,aG as GE,aH as HE,aI as XE,aJ as $E,aK as WE,aL as VE,Y as kv,a0 as KE,aM as JE,p as zt,v as Cr,q as yt,t as ot,a as jt,c as Oe,r as Ee,o as Ue,u as ut,a9 as YE,n as Ot,aN as QE,aO as Cv,aP as Rv,ar as ZE,aQ as eT}from"./BlctBW5m.js";import{i as tT,a as rT,c as iT,d as Nr,b as nT,n as sT,e as aT,f as oT,l as Iv,s as ht,g as Lc}from"./5srhlj_4.js";import{_ as lT,b as uT,i as tt,p as It,r as Nv,c as fT}from"./B9t7VMOR.js";import{h as xf}from"./BEn7z2Fg.js";import{b as mT}from"./BZBE9yOR.js";import"./C9anGRGK.js";function or(i,e){return e}function pT(i,e,t,r){for(var n=[],s=e.length,o=0;o<s;o++)LE(e[o].e,n,!0);var l=s>0&&n.length===0&&t!==null;if(l){var f=t.parentNode;BE(f),f.append(t),r.clear(),si(i,e[0].prev,e[s-1].next)}PE(n,()=>{for(var m=0;m<s;m++){var p=e[m];l||(r.delete(p.k),si(i,p.prev,p.next)),Vi(p.e,!l)}})}function Zt(i,e,t,r,n,s=null){var o=i,l={flags:e,items:new Map,first:null},f=(e&_v)!==0;if(f){var m=i;o=At?kn(yv(m)):m.appendChild(bv())}At&&bf();var p=null,d=!1,g=CE(()=>{var h=t();return wv(h)?h:h==null?[]:Av(h)});Fn(()=>{var h=re(g),_=h.length;if(d&&_===0)return;d=_===0;let E=!1;if(At){var b=RE(o)===IE;b!==(_===0)&&(o=Nc(),kn(o),gi(!1),E=!0)}if(At){for(var S=null,x,O=0;O<_;O++){if(Gr.nodeType===8&&Gr.data===NE){o=Gr,E=!0,gi(!1);break}var w=h[O],T=r(w,O);x=Dv(Gr,l,S,null,w,T,O,n,e,t),l.items.set(T,x),S=x}_>0&&kn(Nc())}At||cT(h,l,o,n,e,r,t),s!==null&&(_===0?p?Lf(p):p=Qi(()=>s(o)):p!==null&&xv(p,()=>{p=null})),E&&gi(!0),re(g)}),At&&(o=Gr)}function cT(i,e,t,r,n,s,o){var Y,K,se,F;var l=(n&FE)!==0,f=(n&(Bf|Pf))!==0,m=i.length,p=e.items,d=e.first,g=d,h,_=null,E,b=[],S=[],x,O,w,T;if(l)for(T=0;T<m;T+=1)x=i[T],O=s(x,T),w=p.get(O),w!==void 0&&((Y=w.a)==null||Y.measure(),(E??(E=new Set)).add(w));for(T=0;T<m;T+=1){if(x=i[T],O=s(x,T),w=p.get(O),w===void 0){var q=g?g.e.nodes_start:t;_=Dv(q,e,_,_===null?e.first:_.next,x,O,T,r,n,o),p.set(O,_),b=[],S=[],g=_.next;continue}if(f&&hT(w,x,T,n),(w.e.f&ho)!==0&&(Lf(w.e),l&&((K=w.a)==null||K.unfix(),(E??(E=new Set)).delete(w))),w!==g){if(h!==void 0&&h.has(w)){if(b.length<S.length){var N=S[0],W;_=N.prev;var C=b[0],I=b[b.length-1];for(W=0;W<b.length;W+=1)Bc(b[W],N,t);for(W=0;W<S.length;W+=1)h.delete(S[W]);si(e,C.prev,I.next),si(e,_,C),si(e,I,N),g=N,_=I,T-=1,b=[],S=[]}else h.delete(w),Bc(w,g,t),si(e,w.prev,w.next),si(e,w,_===null?e.first:_.next),si(e,_,w),_=w;continue}for(b=[],S=[];g!==null&&g.k!==O;)(g.e.f&ho)===0&&(h??(h=new Set)).add(g),S.push(g),g=g.next;if(g===null)continue;w=g}b.push(w),_=w,g=w.next}if(g!==null||h!==void 0){for(var z=h===void 0?[]:Av(h);g!==null;)(g.e.f&ho)===0&&z.push(g),g=g.next;var X=z.length;if(X>0){var ee=(n&_v)!==0&&m===0?t:null;if(l){for(T=0;T<X;T+=1)(se=z[T].a)==null||se.measure();for(T=0;T<X;T+=1)(F=z[T].a)==null||F.fix()}pT(e,z,ee,p)}}l&&_f(()=>{var G;if(E!==void 0)for(w of E)(G=w.a)==null||G.apply()}),yf.first=e.first&&e.first.e,yf.last=_&&_.e}function hT(i,e,t,r){(r&Bf)!==0&&Dc(i.v,e),(r&Pf)!==0?Dc(i.i,t):i.i=t}function Dv(i,e,t,r,n,s,o,l,f,m){var p=(f&Bf)!==0,d=(f&qE)===0,g=p?d?DE(n):Fc(n):n,h=(f&Pf)===0?o:Fc(o),_={i:h,v:g,k:s,a:null,e:null,prev:t,next:r};try{return _.e=Qi(()=>l(i,g,h,m),At),_.e.prev=t&&t.e,_.e.next=r&&r.e,t===null?e.first=_:(t.next=_,t.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Bc(i,e,t){for(var r=i.next?i.next.e.nodes_start:t,n=e?e.e.nodes_start:t,s=i.e.nodes_start;s!==r;){var o=UE(s);n.before(s),s=o}}function si(i,e,t){e===null?i.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Fv(i,e,...t){var r=i,n=qf,s;Fn(()=>{n!==(n=e())&&(s&&(Vi(s),s=null),s=Qi(()=>n(r,...t)))},Ev),At&&(r=Gr)}function Lv(i,e,t,r,n,s){let o=At;At&&bf();var l,f,m=null;At&&Gr.nodeType===1&&(m=Gr,bf());var p=At?Gr:i,d;Fn(()=>{const g=e()||null;var h=t||g==="svg"?ME:null;g!==l&&(d&&(g===null?xv(d,()=>{d=null,f=null}):g===f?Lf(d):Vi(d)),g&&g!==f&&(d=Qi(()=>{if(m=At?m:h?document.createElementNS(h,g):document.createElement(g),kE(m,m),r){At&&tT(g)&&m.append(document.createComment(""));var _=At?yv(m):m.appendChild(bv());At&&(_===null?gi(!1):kn(_)),r(m,_)}yf.nodes_end=m,p.before(m)})),l=g,l&&(f=l))},Ev),o&&(gi(!0),kn(p))}function dT(i,e){var t=void 0,r;Fn(()=>{t!==(t=e())&&(r&&(Vi(r),r=null),t&&(r=Qi(()=>{Tv(()=>t(i))})))})}function Bv(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var n=i.length;for(e=0;e<n;e++)i[e]&&(t=Bv(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function gT(){for(var i,e,t=0,r="",n=arguments.length;t<n;t++)(i=arguments[t])&&(e=Bv(i))&&(r&&(r+=" "),r+=e);return r}function Ti(i){return typeof i=="object"?gT(i):i??""}const Pc=[...` 	
\r\fÂ \v\uFEFF`];function vT(i,e,t){var r=i==null?"":""+i;if(e&&(r=r?r+" "+e:e),t){for(var n in t)if(t[n])r=r?r+" "+n:n;else if(r.length)for(var s=n.length,o=0;(o=r.indexOf(n,o))>=0;){var l=o+s;(o===0||Pc.includes(r[o-1]))&&(l===r.length||Pc.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function qc(i,e=!1){var t=e?" !important;":";",r="";for(var n in i){var s=i[n];s!=null&&s!==""&&(r+=" "+n+": "+s+t)}return r}function go(i){return i[0]!=="-"||i[1]!=="-"?i.toLowerCase():i}function bT(i,e){if(e){var t="",r,n;if(Array.isArray(e)?(r=e[0],n=e[1]):r=e,i){i=String(i).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,l=!1,f=[];r&&f.push(...Object.keys(r).map(go)),n&&f.push(...Object.keys(n).map(go));var m=0,p=-1;const E=i.length;for(var d=0;d<E;d++){var g=i[d];if(l?g==="/"&&i[d-1]==="*"&&(l=!1):s?s===g&&(s=!1):g==="/"&&i[d+1]==="*"?l=!0:g==='"'||g==="'"?s=g:g==="("?o++:g===")"&&o--,!l&&s===!1&&o===0){if(g===":"&&p===-1)p=d;else if(g===";"||d===E-1){if(p!==-1){var h=go(i.substring(m,p).trim());if(!f.includes(h)){g!==";"&&d++;var _=i.substring(m,d).trim();t+=" "+_+";"}}m=d+1,p=-1}}}}return r&&(t+=qc(r)),n&&(t+=qc(n,!0)),t=t.trim(),t===""?null:t}return i==null?null:String(i)}function $t(i,e,t,r,n,s){var o=i.__className;if(At||o!==t||o===void 0){var l=vT(t,r,s);(!At||l!==i.getAttribute("class"))&&(l==null?i.removeAttribute("class"):e?i.className=l:i.setAttribute("class",l)),i.__className=t}else if(s&&n!==s)for(var f in s){var m=!!s[f];(n==null||m!==!!n[f])&&i.classList.toggle(f,m)}return s}function vo(i,e={},t,r){for(var n in t){var s=t[n];e[n]!==s&&(t[n]==null?i.style.removeProperty(n):i.style.setProperty(n,s,r))}}function _T(i,e,t,r){var n=i.__style;if(At||n!==e){var s=bT(e,r);(!At||s!==i.getAttribute("style"))&&(s==null?i.removeAttribute("style"):i.style.cssText=s),i.__style=e}else r&&(Array.isArray(r)?(vo(i,t==null?void 0:t[0],r[0]),vo(i,t==null?void 0:t[1],r[1],"important")):vo(i,t,r));return r}function Af(i,e,t){if(i.multiple){if(e==null)return;if(!wv(e))return zE();for(var r of i.options)r.selected=e.includes(Uc(r));return}for(r of i.options){var n=Uc(r);if(Ov(n,e)){r.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function yT(i,e){let t=!0;Tv(()=>{e&&Af(i,Sv(e),t),t=!1;var r=new MutationObserver(()=>{var n=i.__value;Af(i,n)});return r.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Uc(i){return"__value"in i?i.__value:i.value}const $i=Symbol("class"),yn=Symbol("style"),Pv=Symbol("is custom element"),qv=Symbol("is html");function Ms(i){if(At){var e=!1,t=()=>{if(!e){if(e=!0,i.hasAttribute("value")){var r=i.value;dt(i,"value",null),i.value=r}if(i.hasAttribute("checked")){var n=i.checked;dt(i,"checked",null),i.checked=n}}};i.__on_r=t,WE(t),aT()}}function Mc(i,e){var t=Uf(i);t.checked!==(t.checked=e??void 0)&&(i.checked=e)}function xT(i,e){e?i.hasAttribute("selected")||i.setAttribute("selected",""):i.removeAttribute("selected")}function dt(i,e,t,r){var n=Uf(i);At&&(n[e]=i.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&i.nodeName==="LINK")||n[e]!==(n[e]=t)&&(e==="loading"&&(i[$E]=t),t==null?i.removeAttribute(e):typeof t!="string"&&Uv(i).includes(e)?i[e]=t:i.setAttribute(e,t))}function AT(i,e,t,r,n=!1){var s=Uf(i),o=s[Pv],l=!s[qv];let f=At&&o;f&&gi(!1);var m=e||{},p=i.tagName==="OPTION";for(var d in e)d in t||(t[d]=null);t.class?t.class=Ti(t.class):(r||t[$i])&&(t.class=null),t[yn]&&(t.style??(t.style=null));var g=Uv(i);for(const O in t){let w=t[O];if(p&&O==="value"&&w==null){i.value=i.__value="",m[O]=w;continue}if(O==="class"){var h=i.namespaceURI==="http://www.w3.org/1999/xhtml";$t(i,h,w,r,e==null?void 0:e[$i],t[$i]),m[O]=w,m[$i]=t[$i];continue}if(O==="style"){_T(i,w,e==null?void 0:e[yn],t[yn]),m[O]=w,m[yn]=t[yn];continue}var _=m[O];if(w!==_){m[O]=w;var E=O[0]+O[1];if(E!=="$$")if(E==="on"){const T={},q="$$"+O;let N=O.slice(2);var b=oT(N);if(rT(N)&&(N=N.slice(0,-7),T.capture=!0),!b&&_){if(w!=null)continue;i.removeEventListener(N,m[q],T),m[q]=null}if(w!=null)if(b)i[`__${N}`]=w,Nr([N]);else{let W=function(C){m[O].call(this,C)};m[q]=iT(N,i,W,T)}else b&&(i[`__${N}`]=void 0)}else if(O==="style")dt(i,O,w);else if(O==="autofocus")nT(i,!!w);else if(!o&&(O==="__value"||O==="value"&&w!=null))i.value=i.__value=w;else if(O==="selected"&&p)xT(i,w);else{var S=O;l||(S=sT(S));var x=S==="defaultValue"||S==="defaultChecked";if(w==null&&!o&&!x)if(s[O]=null,S==="value"||S==="checked"){let T=i;const q=e===void 0;if(S==="value"){let N=T.defaultValue;T.removeAttribute(S),T.defaultValue=N,T.value=T.__value=q?N:null}else{let N=T.defaultChecked;T.removeAttribute(S),T.defaultChecked=N,T.checked=q?N:!1}}else i.removeAttribute(O);else x||g.includes(S)&&(o||typeof w!="string")?i[S]=w:typeof w!="function"&&dt(i,S,w)}}}return f&&gi(!0),m}function wf(i,e,t=[],r,n=!1,s=jE){const o=t.map(s);var l=void 0,f={},m=i.nodeName==="SELECT",p=!1;Fn(()=>{var d=e(...o.map(re));AT(i,l,d,r,n),p&&m&&"value"in d&&Af(i,d.value,!1);for(let h of Object.getOwnPropertySymbols(f))d[h]||Vi(f[h]);for(let h of Object.getOwnPropertySymbols(d)){var g=d[h];h.description===GE&&(!l||g!==l[h])&&(f[h]&&Vi(f[h]),f[h]=Qi(()=>dT(i,()=>g)))}l=d}),m&&yT(i,()=>l.value),p=!0}function Uf(i){return i.__attributes??(i.__attributes={[Pv]:i.nodeName.includes("-"),[qv]:i.namespaceURI===HE})}var zc=new Map;function Uv(i){var e=zc.get(i.nodeName);if(e)return e;zc.set(i.nodeName,e=[]);for(var t,r=i,n=Element.prototype;n!==r;){t=VE(r);for(var s in t)t[s].set&&e.push(s);r=XE(r)}return e}function wT(i,e,t=e){var r=JE();Iv(i,"input",n=>{var s=n?i.defaultValue:i.value;if(s=_o(i)?yo(s):s,t(s),r&&s!==(s=e())){var o=i.selectionStart,l=i.selectionEnd;i.value=s??"",l!==null&&(i.selectionStart=o,i.selectionEnd=Math.min(l,i.value.length))}}),(At&&i.defaultValue!==i.value||Sv(e)==null&&i.value)&&t(_o(i)?yo(i.value):i.value),kv(()=>{var n=e();_o(i)&&n===yo(i.value)||i.type==="date"&&!n&&!i.value||n!==i.value&&(i.value=n??"")})}const bo=new Set;function ET(i,e,t,r,n=r){var s=t.getAttribute("type")==="checkbox",o=i;let l=!1;if(e!==null)for(var f of e)o=o[f]??(o[f]=[]);o.push(t),Iv(t,"change",()=>{var m=t.__value;s&&(m=jc(o,m,t.checked)),n(m)},()=>n(s?[]:null)),kv(()=>{var m=r();if(At&&t.defaultChecked!==t.checked){l=!0;return}s?(m=m||[],t.checked=m.includes(t.__value)):t.checked=Ov(t.__value,m)}),KE(()=>{var m=o.indexOf(t);m!==-1&&o.splice(m,1)}),bo.has(o)||(bo.add(o),_f(()=>{o.sort((m,p)=>m.compareDocumentPosition(p)===4?-1:1),bo.delete(o)})),_f(()=>{if(l){var m;if(s)m=jc(o,m,t.checked);else{var p=o.find(d=>d.checked);m=p==null?void 0:p.__value}n(m)}})}function jc(i,e,t){for(var r=new Set,n=0;n<i.length;n+=1)i[n].checked&&r.add(i[n].__value);return t||r.delete(e),Array.from(r)}function _o(i){var e=i.type;return e==="number"||e==="range"}function yo(i){return i===""?null:+i}const TT=/((?<book>\d+)\.)?(?<page>\d+)(?<column>[ABCDE])/i,ST=new RegExp("(?<token>\\p{Letter}+)(\\[(?<index>\\d+)\\])?","iu");class Hr{constructor(e){nt(this,"__urn");nt(this,"collection");nt(this,"workComponent");nt(this,"passageComponent");nt(this,"textGroup");nt(this,"work");nt(this,"version");nt(this,"exemplar");nt(this,"citations",[]);nt(this,"integerCitations",[]);nt(this,"tokens",[]);nt(this,"tokenIndexes",[]);const[t,r,n,s,o]=e.split(":"),[l,f,m,p]=s.split(".");this.__urn=e,this.collection=n,this.workComponent=s,this.textGroup=l,this.work=f,this.version=m,this.exemplar=p,this.passageComponent=o,o&&this.setPassages(o)}setPassages(e){this.citations=e.split("-").map(r=>r.split("@")[0]),this.integerCitations=this.citations.map(OT);const t=e.split("-").map(r=>{var s,o,l;const n=r.split("@")[1];if(n){const f=ST.exec(n);if((s=f==null?void 0:f.groups)!=null&&s.token)return{index:parseInt(((o=f==null?void 0:f.groups)==null?void 0:o.index)||"1"),token:(l=f==null?void 0:f.groups)==null?void 0:l.token}}});this.tokens=t.map(r=>r&&r.token),this.tokenIndexes=t.map(r=>r&&r.index)}contains(e){return this.integerCitations[0].every((t,r)=>t<=e.integerCitations[0][r])&&this.integerCitations[this.integerCitations.length-1].every((t,r)=>t>=e.integerCitations[e.integerCitations.length-1][r])}isEqual(e){return this.integerCitations[0].every((t,r)=>t===e.integerCitations[0][r])&&this.integerCitations[1].every((t,r)=>t===e.integerCitations[1][r])}hasEqualEnd(e){return this.integerCitations[this.integerCitations.length-1].every((t,r)=>t===e.integerCitations[e.integerCitations.length-1][r])}hasEqualStart(e){return this.integerCitations[0].every((t,r)=>e.integerCitations[0][r]===t)}toJSON(){return{collection:this.collection,workComponent:this.workComponent,textGroup:this.textGroup,work:this.work,version:this.version,exemplar:this.exemplar,passageComponent:this.passageComponent,citations:this.citations,integerCitations:this.integerCitations,tokens:this.tokens,tokenIndexes:this.tokenIndexes,__urn:this.__urn}}toString(){return this.__urn}}function OT(i){const e=TT.exec(i);if(e&&e.groups){const t=e.groups.book,r=e.groups.page,n=e.groups.column;return t?[parseInt(t),parseInt(r),Gc(n)]:[parseInt(r),Gc(n)]}return i.split(".").map(t=>parseInt(t))}function Gc(i){switch(i){case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;default:return 0}}function kT(){return this.log.length}function CT(i=1){if(i<=0||i>this.currentVersion())return null;{const[e,t]=this.log[i-1],r=new this.constructor(JSON.parse(e),JSON.parse(t));return r.log=this.log.slice(0,i),r}}function RT(i=1){return this.retrieveVersion(this.currentVersion()-i)}function IT(){return this.retrieveVersion(this.currentVersion())}function NT(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}const DT=Object.freeze(Object.defineProperty({__proto__:null,currentVersion:kT,retrieveLastVersion:IT,retrieveVersion:CT,save:NT,undo:RT},Symbol.toStringTag,{value:"Module"})),Hc=["real","string"],Xc=["json","html","string","rtf"],$c=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],Wc=["string","function"];function Xs(i){if(typeof i!="object")throw new TypeError("Options not an object!");const{format:e,type:t,style:r,lang:n,append:s,prepend:o}=i;if(e&&!Hc.includes(e))throw new TypeError(`Option format ("${e}") should be one of: ${Hc}`);if(t&&!Xc.includes(t))throw new TypeError(`Option type ("${t}") should be one of: ${Xc}`);if(r&&!$c.includes(r)&&!/^citation/.test(r))throw new TypeError(`Option style ("${r}") should be one of: ${$c}`);if(n&&typeof n!="string")throw new TypeError(`Option lang should be a string, but is a ${typeof n}`);if(o&&!Wc.includes(typeof o))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof o}`);if(s&&!Wc.includes(typeof s))throw new TypeError(`Option append should be a string or a function, but is a ${typeof s}`);if(/^citation/.test(r)&&t==="json")throw new Error(`Combination type/style of json/citation-* is not valid: ${t}/${r}`);return!0}function FT(i){if(typeof i!="object")throw new TypeError("Options should be an object");if(i.output)Xs(i.output);else{if(i.maxChainLength&&typeof i.maxChainLength!="number")throw new TypeError("Option maxChainLength should be a number");if(i.forceType&&typeof i.forceType!="string")throw new TypeError("Option forceType should be a string");if(i.generateGraph!=null&&typeof i.generateGraph!="boolean")throw new TypeError("Option generateGraph should be a boolean");if(i.strict!=null&&typeof i.strict!="boolean")throw new TypeError("Option strict should be a boolean");if(i.target!=null&&typeof i.target!="string")throw new TypeError("Option target should be a boolean")}return!0}const LT={format:"real",type:"json",style:"csl",lang:"en-US"};function BT(i,e){return Xs(i),e&&this.save(),Object.assign(this._options,i),this}const PT=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:LT,options:BT},Symbol.toStringTag,{value:"Module"}));function Ef(i){switch(i){case void 0:return"Undefined";case null:return"Null";default:return i.constructor.name}}function Mv(i){switch(typeof i){case"string":return"String";case"object":if(Array.isArray(i))return"Array";if(Ef(i)==="Object")return"SimpleObject";if(Ef(i)!=="Null")return"ComplexObject";default:return"Primitive"}}const qT=Object.freeze(Object.defineProperty({__proto__:null,dataTypeOf:Mv,typeOf:Ef},Symbol.toStringTag,{value:"Module"}));function zv(i,e){if(i._graph){const t=e.findIndex(({type:r})=>r==="@else/list+object");t!==-1&&e.splice(t+1,0,...i._graph.slice(0,-1))}return i._graph=e,i}function jv(i){return delete i._graph,i}const UT=Object.freeze(Object.defineProperty({__proto__:null,applyGraph:zv,removeGraph:jv},Symbol.toStringTag,{value:"Module"})),Rr={_output(i,e,t){this._log.push(e,t),!(this._levels.indexOf(i)<this._levels.indexOf(this.level))&&this._console.log(e,...t)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const i of Rr._levels)Rr[i]=(e,...t)=>Rr._output(i,e,t);typeof console.Console=="function"?Rr._console=new console.Console(process.stderr):Rr._console=console;const Ir={},bi={},ji={};function Vc(i,e){switch(e){case"Array":return i.length===0||i.every(t=>Xr(t)==="@csl/object")?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function Gv(i=[],e){for(const t of i)if(Ir[t].predicate(e))return Gv(Ir[t].extensions,e)||t}function Xr(i){const e=Mv(i);return e==="Array"&&i.length===0?Vc(i,e):Gv(bi[e],i)||Vc(i,e)}function Hv(i,{dataType:e,predicate:t,extends:r}){let n=[];i in ji&&(n=ji[i],delete ji[i],Rr.debug("[core]",`Subclasses "${n}" finally registered to parent type "${i}"`));const s={predicate:t,extensions:n};if(Ir[i]=s,r){const o=Ir[r];o?o.extensions.push(i):(ji[r]||(ji[r]=[]),ji[r].push(i),Rr.debug("[core]",`Subclass "${i}" is waiting on parent type "${r}"`))}else(bi[e]||(bi[e]=[])).push(i)}function MT(i){return Object.prototype.hasOwnProperty.call(Ir,i)}function Xv(i){delete Ir[i],[...Object.keys(bi).map(t=>bi[t]),...Object.keys(Ir).map(t=>Ir[t].extensions).filter(t=>t.length>0)].forEach(t=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)})}function zT(){return Object.keys(Ir)}function jT(){const i=e=>({name:e,children:Ir[e].extensions.map(i)});return{name:"Type tree",children:Object.keys(bi).map(e=>({name:e,children:bi[e].map(i)}))}}const $v=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function GT(i,e,t){return(e=HT(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function HT(i){var e=XT(i,"string");return typeof e=="symbol"?e:e+""}function XT(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}class Wv{constructor(e){GT(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError(`dataType was ${e}; expected one of ${this.validDataTypes}`)}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||typeof e=="function"))throw new TypeError(`predicate was ${typeof e}; expected RegExp or function`)}validateTokenList(){const e=this.data.tokenList;if(e&&typeof e!="object")throw new TypeError(`tokenList was ${typeof e}; expected object or RegExp`)}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&typeof e!="object")throw new TypeError(`propertyConstraint was ${typeof e}; expected array or object`)}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&typeof e!="string")throw new TypeError(`elementConstraint was ${typeof e}; expected string`)}validateExtends(){const e=this.data.extends;if(e&&typeof e!="string")throw new TypeError(`extends was ${typeof e}; expected string`)}validate(){if(this.data===null||typeof this.data!="object")throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(e)e instanceof RegExp&&(e={token:e});else return[];const{token:t,split:r=/\s+/,trim:n=!0,every:s=!0}=e,o=m=>n?m.trim():m,l=s?"every":"some";return[m=>o(m).split(r)[l](p=>t.test(p))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map(({props:t,match:r,value:n})=>{switch(t=[].concat(t),r){case"any":case"some":return s=>t.some(o=>o in s&&(!n||n(s[o])));case"none":return s=>!t.some(o=>o in s&&(!n||n(s[o])));case"every":default:return s=>t.every(o=>o in s&&(!n||n(s[o])))}})}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every(r=>Xr(r)===e)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return e.length===0?()=>!0:e.length===1?e[0]:t=>e.every(r=>r(t))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class Tf{constructor(e,{async:t}={}){this.parser=e,this.async=t}validate(){const e=this.parser;if(typeof e!="function")throw new TypeError(`parser was ${typeof e}; expected function`)}}class Vv{constructor(e,t={}){this.format=e,t.parseType&&(this.typeParser=new Wv(t.parseType)),t.parse&&(this.dataParser=new Tf(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new Tf(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!$v.test(e))throw new TypeError(`format name was "${e}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}const $T=Object.freeze(Object.defineProperty({__proto__:null,DataParser:Tf,FormatParser:Vv,TypeParser:Wv},Symbol.toStringTag,{value:"Module"}));var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xo={},yr={},Kc;function WT(){if(Kc)return yr;Kc=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=yr.parse=yr.types=yr.scope=void 0;function i(w,T){return r(w)||t(w,T)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(w,T){var q=[],N=!0,W=!1,C=void 0;try{for(var I=w[Symbol.iterator](),z;!(N=(z=I.next()).done)&&(q.push(z.value),!(T&&q.length===T));N=!0);}catch(X){W=!0,C=X}finally{try{!N&&I.return!=null&&I.return()}finally{if(W)throw C}}return q}function r(w){if(Array.isArray(w))return w}const n=w=>w.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),s=w=>`(?:${w.join("|")})\\b`,o=(w,T)=>new RegExp(`(?:^| )(${w}$)`,T),l=["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"],f=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],m=["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"],p=s(l.map(n)),d=s(f.map(n)),g=s(m),h=new RegExp(`^((?:${p} )*)(.*)$`,"i"),_=o(`(?:${d}, )*(?:${d})`,"i"),E=o(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),b=o(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${g}.*|\\S*)`),S=function(T=""){typeof T!="string"&&(T=T+"");let q="",N="",W="";if(/[^.], /.test(T)){const G=T.split(", ");W=G.shift();const V=RegExp(d).exec(G.join(", "));q=G.splice(V&&V.index!==0?0:-1,1)[0],N=G.join(", ")}else{const G=T.split(_,2),V=G.shift().split(b,2);q=V[0],W=V[1],N=G.pop()}const C=q.match(h),I=i(C,3),z=I[1],X=I[2],ee=N,Y=W.split(E,2).reverse(),K=i(Y,2),se=K[0],F=K[1];if(!X&&se)return se.includes(" ")?{literal:se}:{family:se};if(se){const G={"dropping-particle":z,given:X,suffix:ee,"non-dropping-particle":F,family:se};return Object.keys(G).forEach(V=>{G[V]||delete G[V]}),G}else return{literal:T}};yr.default=yr.parse=S;const x="@name";yr.scope=x;const O="@name";return yr.types=O,yr}var xn={},Jc;function VT(){if(Jc)return xn;Jc=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0;const i=["dropping-particle","given"],e=["suffix"],t=["non-dropping-particle","family"];var n=function(o,l=!1){const f=m=>m.map(p=>o[p]||"").filter(Boolean).join(" ");if(o.literal)return o.literal;if(l){const m=f(e)?`, ${f(e)}`:"",p=f(i)?`, ${f(i)}`:"";return f(t)+m+p}else return`${f([...i,...e,...t])}`};return xn.default=n,xn}var Yc;function KT(){return Yc||(Yc=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(i,"format",{enumerable:!0,get:function(){return t.default}});var e=r(WT()),t=r(VT());function r(n){return n&&n.__esModule?n:{default:n}}}(xo)),xo}var Kv=KT();function Qc(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Sf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qc(Object(t),!0).forEach(function(r){JT(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Qc(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function JT(i,e,t){return(e=YT(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function YT(i){var e=QT(i,"string");return typeof e=="symbol"?e:e+""}function QT(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}const ZT=1,bt=2,ni=3,Jv=4,Ao={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},Zc={author:bt,chair:bt,"collection-editor":bt,compiler:bt,composer:bt,"container-author":bt,contributor:bt,curator:bt,director:bt,editor:bt,"editorial-director":bt,"executive-producer":bt,guest:bt,host:bt,interviewer:bt,illustrator:bt,narrator:bt,organizer:bt,"original-author":bt,performer:bt,producer:bt,"reviewed-author":bt,recipient:bt,"script-writer":bt,"series-creator":bt,translator:bt,accessed:ni,"available-date":ni,container:ni,"event-date":ni,issued:ni,"original-date":ni,submitted:ni,type:Jv,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function Yv(i,e){if(typeof i=="object"&&i!==null&&(i.literal||i.given||i.family))return(i.ORCID||i.orcid||i._ORCID)&&(i=Sf({_orcid:i.ORCID||i.orcid||i._ORCID},i),delete i.ORCID,delete i.orcid,delete i._ORCID),i;if(e){if(typeof i=="string")return Kv.parse(i)}else return}function eS(i,e){if(i instanceof Array){const t=i.map(r=>Yv(r,e)).filter(Boolean);return t.length?t:void 0}}function wo(i,e){return i.every(t=>typeof t=="number")?i:!e||i.some(t=>isNaN(parseInt(t)))?void 0:i.map(t=>parseInt(t))}function tS(i,e){const t="date-parts";if(!(typeof i!="object"||i===null)){if(i[t]instanceof Array&&i[t].every(r=>r instanceof Array)){const r=i[t].map(n=>wo(n,e)).filter(Boolean);return r.length?Sf(Sf({},i),{},{"date-parts":r}):void 0}else if(i instanceof Array&&i.every(r=>r[t]instanceof Array)){const r=i.map(n=>wo(n[t],e)).filter(Boolean);return r.length?{"date-parts":r}:void 0}else if(i[t]instanceof Array){const r=wo(i[t],e);return r&&{"date-parts":[r]}}else if("literal"in i||"raw"in i)return i}}function Qv(i,e){if(i=Mf("language",i,e),Ao[i]===!0)return i;if(e){if(i in Ao)return Ao[i];if(i.toLowerCase()!==i)return Qv(i.toLowerCase(),e)}}function Mf(i,e,t){const r=[].concat(Zc[i]);switch(Zc[i]){case ZT:return Yv(e,t);case bt:return eS(e,t);case ni:return tS(e,t);case Jv:return Qv(e,t)}if(t){if(typeof e=="string"&&r.includes("number")&&!r.includes("string")&&!isNaN(+e))return parseFloat(e);if(typeof e=="number"&&r.includes("string")&&!r.includes("number"))return e.toString();if(Array.isArray(e)&&e.length)return Mf(i,e[0],t)}if(r.includes(typeof e))return e}function Zv(i,e=!0){return i.map(function(t){const r={};for(const n in t){const s=Mf(n,t[n],e);s!==void 0&&(r[n]=s)}return r})}const rS=Object.freeze(Object.defineProperty({__proto__:null,clean:Zv},Symbol.toStringTag,{value:"Module"})),Ki={},Ji={},Of={"@csl/object":i=>[i],"@csl/list+object":i=>i,"@else/list+object":i=>i.map(e=>{const t=Xr(e);return Bn(e,t)}).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},kf={"@else/list+object":i=>Promise.all(i.map(e=>{const t=Xr(e);return $s(e,t)})).then(e=>e.flat())};function Bn(i,e){if(typeof Ki[e]=="function")return Ki[e](i);if(typeof Of[e]=="function")return Of[e](i);throw new TypeError(`No synchronous parser found for ${e}`)}async function $s(i,e){if(typeof Ji[e]=="function")return Ji[e](i);if(typeof kf[e]=="function")return kf[e](i);if(eb(e,!1))return Bn(i,e);throw new TypeError(`No parser found for ${e}`)}function Cf(i,{parser:e,async:t}){t?Ji[i]=e:Ki[i]=e}function eb(i,e){return e?Ji[i]||kf[i]:Ki[i]||Of[i]}function Rf(i,e){delete(e?Ji:Ki)[i]}function iS(i){return Object.keys(i?Ji:Ki)}const _i={};function nS(i,e){const t=new Vv(i,e);t.validate();const r=_i[i]||(_i[i]={});t.typeParser&&(Hv(i,t.typeParser),r.type=!0),t.dataParser&&(Cf(i,t.dataParser),r.data=!0),t.asyncDataParser&&(Cf(i,t.asyncDataParser),r.asyncData=!0),e.outputs&&(r.outputs=e.outputs)}function tb(i){return _i[i]}function sS(i){const e=_i[i];e&&(e.type&&Xv(i),e.data&&Rf(i),e.asyncData&&Rf(i,!0),delete _i[i])}function aS(i){return i in _i}function oS(){return Object.keys(_i)}function eh(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function rb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eh(Object(t),!0).forEach(function(r){lS(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):eh(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function lS(i,e,t){return(e=uS(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function uS(i){var e=fS(i,"string");return typeof e=="symbol"?e:e+""}function fS(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ib(i){return Array.isArray(i)?i.map(ib):(i=rb({},i),"event"in i&&(i["event-title"]=i.event,delete i.event),i.type==="book"&&"version"in i&&(i.type="software"),i)}function In(i){return Array.isArray(i)?i.map(In):(i=rb({},i),"event-title"in i&&(i.event=i["event-title"],delete i["event-title"]),i.type==="software"&&(i.type="book"),i)}function Yi(i,e=new Set){if(typeof i!="object"||i===null||i.constructor!==Object&&i.constructor!==Array)return i;if(e.has(i))throw new TypeError("Recursively copying circular structure");e.add(i);let t;if(i.constructor===Array)t=i.map(r=>Yi(r,e));else{const r={};for(const n in i)r[n]=Yi(i[n],e);t=r}return e.delete(i),t}var Eo={},An={},th;function mS(){if(th)return An;th=1,An.byteLength=l,An.toByteArray=m,An.fromByteArray=g;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,s=r.length;n<s;++n)i[n]=r[n],e[r.charCodeAt(n)]=n;e[45]=62,e[95]=63;function o(h){var _=h.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=h.indexOf("=");E===-1&&(E=_);var b=E===_?0:4-E%4;return[E,b]}function l(h){var _=o(h),E=_[0],b=_[1];return(E+b)*3/4-b}function f(h,_,E){return(_+E)*3/4-E}function m(h){var _,E=o(h),b=E[0],S=E[1],x=new t(f(h,b,S)),O=0,w=S>0?b-4:b,T;for(T=0;T<w;T+=4)_=e[h.charCodeAt(T)]<<18|e[h.charCodeAt(T+1)]<<12|e[h.charCodeAt(T+2)]<<6|e[h.charCodeAt(T+3)],x[O++]=_>>16&255,x[O++]=_>>8&255,x[O++]=_&255;return S===2&&(_=e[h.charCodeAt(T)]<<2|e[h.charCodeAt(T+1)]>>4,x[O++]=_&255),S===1&&(_=e[h.charCodeAt(T)]<<10|e[h.charCodeAt(T+1)]<<4|e[h.charCodeAt(T+2)]>>2,x[O++]=_>>8&255,x[O++]=_&255),x}function p(h){return i[h>>18&63]+i[h>>12&63]+i[h>>6&63]+i[h&63]}function d(h,_,E){for(var b,S=[],x=_;x<E;x+=3)b=(h[x]<<16&16711680)+(h[x+1]<<8&65280)+(h[x+2]&255),S.push(p(b));return S.join("")}function g(h){for(var _,E=h.length,b=E%3,S=[],x=16383,O=0,w=E-b;O<w;O+=x)S.push(d(h,O,O+x>w?w:O+x));return b===1?(_=h[E-1],S.push(i[_>>2]+i[_<<4&63]+"==")):b===2&&(_=(h[E-2]<<8)+h[E-1],S.push(i[_>>10]+i[_>>4&63]+i[_<<2&63]+"=")),S.join("")}return An}var Fs={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var rh;function pS(){return rh||(rh=1,Fs.read=function(i,e,t,r,n){var s,o,l=n*8-r-1,f=(1<<l)-1,m=f>>1,p=-7,d=t?n-1:0,g=t?-1:1,h=i[e+d];for(d+=g,s=h&(1<<-p)-1,h>>=-p,p+=l;p>0;s=s*256+i[e+d],d+=g,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=r;p>0;o=o*256+i[e+d],d+=g,p-=8);if(s===0)s=1-m;else{if(s===f)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-m}return(h?-1:1)*o*Math.pow(2,s-r)},Fs.write=function(i,e,t,r,n,s){var o,l,f,m=s*8-n-1,p=(1<<m)-1,d=p>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,_=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+d>=1?e+=g/f:e+=g*Math.pow(2,1-d),e*f>=2&&(o++,f/=2),o+d>=p?(l=0,o=p):o+d>=1?(l=(e*f-1)*Math.pow(2,n),o=o+d):(l=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;i[t+h]=l&255,h+=_,l/=256,n-=8);for(o=o<<n|l,m+=n;m>0;i[t+h]=o&255,h+=_,o/=256,m-=8);i[t+h-_]|=E*128}),Fs}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ih;function cS(){return ih||(ih=1,function(i){var e=mS(),t=pS(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=x,i.INSPECT_MAX_BYTES=50;var n=2147483647;i.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var B=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(B,A),B.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(B){if(B>n)throw new RangeError('The value "'+B+'" is invalid for option "size"');var A=new Uint8Array(B);return Object.setPrototypeOf(A,l.prototype),A}function l(B,A,k){if(typeof B=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(B)}return f(B,A,k)}l.poolSize=8192;function f(B,A,k){if(typeof B=="string")return g(B,A);if(ArrayBuffer.isView(B))return _(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Be(B,ArrayBuffer)||B&&Be(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(B,SharedArrayBuffer)||B&&Be(B.buffer,SharedArrayBuffer)))return E(B,A,k);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=B.valueOf&&B.valueOf();if(U!=null&&U!==B)return l.from(U,A,k);var H=b(B);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return l.from(B[Symbol.toPrimitive]("string"),A,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}l.from=function(B,A,k){return f(B,A,k)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function m(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function p(B,A,k){return m(B),B<=0?o(B):A!==void 0?typeof k=="string"?o(B).fill(A,k):o(B).fill(A):o(B)}l.alloc=function(B,A,k){return p(B,A,k)};function d(B){return m(B),o(B<0?0:S(B)|0)}l.allocUnsafe=function(B){return d(B)},l.allocUnsafeSlow=function(B){return d(B)};function g(B,A){if((typeof A!="string"||A==="")&&(A="utf8"),!l.isEncoding(A))throw new TypeError("Unknown encoding: "+A);var k=O(B,A)|0,U=o(k),H=U.write(B,A);return H!==k&&(U=U.slice(0,H)),U}function h(B){for(var A=B.length<0?0:S(B.length)|0,k=o(A),U=0;U<A;U+=1)k[U]=B[U]&255;return k}function _(B){if(Be(B,Uint8Array)){var A=new Uint8Array(B);return E(A.buffer,A.byteOffset,A.byteLength)}return h(B)}function E(B,A,k){if(A<0||B.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<A+(k||0))throw new RangeError('"length" is outside of buffer bounds');var U;return A===void 0&&k===void 0?U=new Uint8Array(B):k===void 0?U=new Uint8Array(B,A):U=new Uint8Array(B,A,k),Object.setPrototypeOf(U,l.prototype),U}function b(B){if(l.isBuffer(B)){var A=S(B.length)|0,k=o(A);return k.length===0||B.copy(k,0,0,A),k}if(B.length!==void 0)return typeof B.length!="number"||Ve(B.length)?o(0):h(B);if(B.type==="Buffer"&&Array.isArray(B.data))return h(B.data)}function S(B){if(B>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return B|0}function x(B){return+B!=B&&(B=0),l.alloc(+B)}l.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==l.prototype},l.compare=function(A,k){if(Be(A,Uint8Array)&&(A=l.from(A,A.offset,A.byteLength)),Be(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),!l.isBuffer(A)||!l.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===k)return 0;for(var U=A.length,H=k.length,ae=0,pe=Math.min(U,H);ae<pe;++ae)if(A[ae]!==k[ae]){U=A[ae],H=k[ae];break}return U<H?-1:H<U?1:0},l.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(A,k){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return l.alloc(0);var U;if(k===void 0)for(k=0,U=0;U<A.length;++U)k+=A[U].length;var H=l.allocUnsafe(k),ae=0;for(U=0;U<A.length;++U){var pe=A[U];if(Be(pe,Uint8Array))ae+pe.length>H.length?l.from(pe).copy(H,ae):Uint8Array.prototype.set.call(H,pe,ae);else if(l.isBuffer(pe))pe.copy(H,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=pe.length}return H};function O(B,A){if(l.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Be(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var k=B.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&k===0)return 0;for(var H=!1;;)switch(A){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Se(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return je(B).length;default:if(H)return U?-1:Se(B).length;A=(""+A).toLowerCase(),H=!0}}l.byteLength=O;function w(B,A,k){var U=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,A>>>=0,k<=A))return"";for(B||(B="utf8");;)switch(B){case"hex":return V(this,A,k);case"utf8":case"utf-8":return Y(this,A,k);case"ascii":return F(this,A,k);case"latin1":case"binary":return G(this,A,k);case"base64":return ee(this,A,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,A,k);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function T(B,A,k){var U=B[A];B[A]=B[k],B[k]=U}l.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<A;k+=2)T(this,k,k+1);return this},l.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<A;k+=4)T(this,k,k+3),T(this,k+1,k+2);return this},l.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<A;k+=8)T(this,k,k+7),T(this,k+1,k+6),T(this,k+2,k+5),T(this,k+3,k+4);return this},l.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?Y(this,0,A):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(A){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:l.compare(this,A)===0},l.prototype.inspect=function(){var A="",k=i.INSPECT_MAX_BYTES;return A=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(A+=" ... "),"<Buffer "+A+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(A,k,U,H,ae){if(Be(A,Uint8Array)&&(A=l.from(A,A.offset,A.byteLength)),!l.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(k===void 0&&(k=0),U===void 0&&(U=A?A.length:0),H===void 0&&(H=0),ae===void 0&&(ae=this.length),k<0||U>A.length||H<0||ae>this.length)throw new RangeError("out of range index");if(H>=ae&&k>=U)return 0;if(H>=ae)return-1;if(k>=U)return 1;if(k>>>=0,U>>>=0,H>>>=0,ae>>>=0,this===A)return 0;for(var pe=ae-H,Pe=U-k,v=Math.min(pe,Pe),J=this.slice(H,ae),le=A.slice(k,U),ge=0;ge<v;++ge)if(J[ge]!==le[ge]){pe=J[ge],Pe=le[ge];break}return pe<Pe?-1:Pe<pe?1:0};function q(B,A,k,U,H){if(B.length===0)return-1;if(typeof k=="string"?(U=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,Ve(k)&&(k=H?0:B.length-1),k<0&&(k=B.length+k),k>=B.length){if(H)return-1;k=B.length-1}else if(k<0)if(H)k=0;else return-1;if(typeof A=="string"&&(A=l.from(A,U)),l.isBuffer(A))return A.length===0?-1:N(B,A,k,U,H);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(B,A,k):Uint8Array.prototype.lastIndexOf.call(B,A,k):N(B,[A],k,U,H);throw new TypeError("val must be string, number or Buffer")}function N(B,A,k,U,H){var ae=1,pe=B.length,Pe=A.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(B.length<2||A.length<2)return-1;ae=2,pe/=2,Pe/=2,k/=2}function v(ke,D){return ae===1?ke[D]:ke.readUInt16BE(D*ae)}var J;if(H){var le=-1;for(J=k;J<pe;J++)if(v(B,J)===v(A,le===-1?0:J-le)){if(le===-1&&(le=J),J-le+1===Pe)return le*ae}else le!==-1&&(J-=J-le),le=-1}else for(k+Pe>pe&&(k=pe-Pe),J=k;J>=0;J--){for(var ge=!0,he=0;he<Pe;he++)if(v(B,J+he)!==v(A,he)){ge=!1;break}if(ge)return J}return-1}l.prototype.includes=function(A,k,U){return this.indexOf(A,k,U)!==-1},l.prototype.indexOf=function(A,k,U){return q(this,A,k,U,!0)},l.prototype.lastIndexOf=function(A,k,U){return q(this,A,k,U,!1)};function W(B,A,k,U){k=Number(k)||0;var H=B.length-k;U?(U=Number(U),U>H&&(U=H)):U=H;var ae=A.length;U>ae/2&&(U=ae/2);for(var pe=0;pe<U;++pe){var Pe=parseInt(A.substr(pe*2,2),16);if(Ve(Pe))return pe;B[k+pe]=Pe}return pe}function C(B,A,k,U){return Le(Se(A,B.length-k),B,k,U)}function I(B,A,k,U){return Le(Ie(A),B,k,U)}function z(B,A,k,U){return Le(je(A),B,k,U)}function X(B,A,k,U){return Le(Ne(A,B.length-k),B,k,U)}l.prototype.write=function(A,k,U,H){if(k===void 0)H="utf8",U=this.length,k=0;else if(U===void 0&&typeof k=="string")H=k,U=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(U)?(U=U>>>0,H===void 0&&(H="utf8")):(H=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-k;if((U===void 0||U>ae)&&(U=ae),A.length>0&&(U<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var pe=!1;;)switch(H){case"hex":return W(this,A,k,U);case"utf8":case"utf-8":return C(this,A,k,U);case"ascii":case"latin1":case"binary":return I(this,A,k,U);case"base64":return z(this,A,k,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,A,k,U);default:if(pe)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),pe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(B,A,k){return A===0&&k===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(A,k))}function Y(B,A,k){k=Math.min(B.length,k);for(var U=[],H=A;H<k;){var ae=B[H],pe=null,Pe=ae>239?4:ae>223?3:ae>191?2:1;if(H+Pe<=k){var v,J,le,ge;switch(Pe){case 1:ae<128&&(pe=ae);break;case 2:v=B[H+1],(v&192)===128&&(ge=(ae&31)<<6|v&63,ge>127&&(pe=ge));break;case 3:v=B[H+1],J=B[H+2],(v&192)===128&&(J&192)===128&&(ge=(ae&15)<<12|(v&63)<<6|J&63,ge>2047&&(ge<55296||ge>57343)&&(pe=ge));break;case 4:v=B[H+1],J=B[H+2],le=B[H+3],(v&192)===128&&(J&192)===128&&(le&192)===128&&(ge=(ae&15)<<18|(v&63)<<12|(J&63)<<6|le&63,ge>65535&&ge<1114112&&(pe=ge))}}pe===null?(pe=65533,Pe=1):pe>65535&&(pe-=65536,U.push(pe>>>10&1023|55296),pe=56320|pe&1023),U.push(pe),H+=Pe}return se(U)}var K=4096;function se(B){var A=B.length;if(A<=K)return String.fromCharCode.apply(String,B);for(var k="",U=0;U<A;)k+=String.fromCharCode.apply(String,B.slice(U,U+=K));return k}function F(B,A,k){var U="";k=Math.min(B.length,k);for(var H=A;H<k;++H)U+=String.fromCharCode(B[H]&127);return U}function G(B,A,k){var U="";k=Math.min(B.length,k);for(var H=A;H<k;++H)U+=String.fromCharCode(B[H]);return U}function V(B,A,k){var U=B.length;(!A||A<0)&&(A=0),(!k||k<0||k>U)&&(k=U);for(var H="",ae=A;ae<k;++ae)H+=Je[B[ae]];return H}function me(B,A,k){for(var U=B.slice(A,k),H="",ae=0;ae<U.length-1;ae+=2)H+=String.fromCharCode(U[ae]+U[ae+1]*256);return H}l.prototype.slice=function(A,k){var U=this.length;A=~~A,k=k===void 0?U:~~k,A<0?(A+=U,A<0&&(A=0)):A>U&&(A=U),k<0?(k+=U,k<0&&(k=0)):k>U&&(k=U),k<A&&(k=A);var H=this.subarray(A,k);return Object.setPrototypeOf(H,l.prototype),H};function ue(B,A,k){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+A>k)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(A,k,U){A=A>>>0,k=k>>>0,U||ue(A,k,this.length);for(var H=this[A],ae=1,pe=0;++pe<k&&(ae*=256);)H+=this[A+pe]*ae;return H},l.prototype.readUintBE=l.prototype.readUIntBE=function(A,k,U){A=A>>>0,k=k>>>0,U||ue(A,k,this.length);for(var H=this[A+--k],ae=1;k>0&&(ae*=256);)H+=this[A+--k]*ae;return H},l.prototype.readUint8=l.prototype.readUInt8=function(A,k){return A=A>>>0,k||ue(A,1,this.length),this[A]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(A,k){return A=A>>>0,k||ue(A,2,this.length),this[A]|this[A+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(A,k){return A=A>>>0,k||ue(A,2,this.length),this[A]<<8|this[A+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},l.prototype.readIntLE=function(A,k,U){A=A>>>0,k=k>>>0,U||ue(A,k,this.length);for(var H=this[A],ae=1,pe=0;++pe<k&&(ae*=256);)H+=this[A+pe]*ae;return ae*=128,H>=ae&&(H-=Math.pow(2,8*k)),H},l.prototype.readIntBE=function(A,k,U){A=A>>>0,k=k>>>0,U||ue(A,k,this.length);for(var H=k,ae=1,pe=this[A+--H];H>0&&(ae*=256);)pe+=this[A+--H]*ae;return ae*=128,pe>=ae&&(pe-=Math.pow(2,8*k)),pe},l.prototype.readInt8=function(A,k){return A=A>>>0,k||ue(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},l.prototype.readInt16LE=function(A,k){A=A>>>0,k||ue(A,2,this.length);var U=this[A]|this[A+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(A,k){A=A>>>0,k||ue(A,2,this.length);var U=this[A+1]|this[A]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},l.prototype.readInt32BE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},l.prototype.readFloatLE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),t.read(this,A,!0,23,4)},l.prototype.readFloatBE=function(A,k){return A=A>>>0,k||ue(A,4,this.length),t.read(this,A,!1,23,4)},l.prototype.readDoubleLE=function(A,k){return A=A>>>0,k||ue(A,8,this.length),t.read(this,A,!0,52,8)},l.prototype.readDoubleBE=function(A,k){return A=A>>>0,k||ue(A,8,this.length),t.read(this,A,!1,52,8)};function M(B,A,k,U,H,ae){if(!l.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>H||A<ae)throw new RangeError('"value" argument is out of bounds');if(k+U>B.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(A,k,U,H){if(A=+A,k=k>>>0,U=U>>>0,!H){var ae=Math.pow(2,8*U)-1;M(this,A,k,U,ae,0)}var pe=1,Pe=0;for(this[k]=A&255;++Pe<U&&(pe*=256);)this[k+Pe]=A/pe&255;return k+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(A,k,U,H){if(A=+A,k=k>>>0,U=U>>>0,!H){var ae=Math.pow(2,8*U)-1;M(this,A,k,U,ae,0)}var pe=U-1,Pe=1;for(this[k+pe]=A&255;--pe>=0&&(Pe*=256);)this[k+pe]=A/Pe&255;return k+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,1,255,0),this[k]=A&255,k+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,2,65535,0),this[k]=A&255,this[k+1]=A>>>8,k+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,2,65535,0),this[k]=A>>>8,this[k+1]=A&255,k+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,4,4294967295,0),this[k+3]=A>>>24,this[k+2]=A>>>16,this[k+1]=A>>>8,this[k]=A&255,k+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,4,4294967295,0),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=A&255,k+4},l.prototype.writeIntLE=function(A,k,U,H){if(A=+A,k=k>>>0,!H){var ae=Math.pow(2,8*U-1);M(this,A,k,U,ae-1,-ae)}var pe=0,Pe=1,v=0;for(this[k]=A&255;++pe<U&&(Pe*=256);)A<0&&v===0&&this[k+pe-1]!==0&&(v=1),this[k+pe]=(A/Pe>>0)-v&255;return k+U},l.prototype.writeIntBE=function(A,k,U,H){if(A=+A,k=k>>>0,!H){var ae=Math.pow(2,8*U-1);M(this,A,k,U,ae-1,-ae)}var pe=U-1,Pe=1,v=0;for(this[k+pe]=A&255;--pe>=0&&(Pe*=256);)A<0&&v===0&&this[k+pe+1]!==0&&(v=1),this[k+pe]=(A/Pe>>0)-v&255;return k+U},l.prototype.writeInt8=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,1,127,-128),A<0&&(A=255+A+1),this[k]=A&255,k+1},l.prototype.writeInt16LE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,2,32767,-32768),this[k]=A&255,this[k+1]=A>>>8,k+2},l.prototype.writeInt16BE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,2,32767,-32768),this[k]=A>>>8,this[k+1]=A&255,k+2},l.prototype.writeInt32LE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,4,2147483647,-2147483648),this[k]=A&255,this[k+1]=A>>>8,this[k+2]=A>>>16,this[k+3]=A>>>24,k+4},l.prototype.writeInt32BE=function(A,k,U){return A=+A,k=k>>>0,U||M(this,A,k,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=A&255,k+4};function te(B,A,k,U,H,ae){if(k+U>B.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ie(B,A,k,U,H){return A=+A,k=k>>>0,H||te(B,A,k,4),t.write(B,A,k,U,23,4),k+4}l.prototype.writeFloatLE=function(A,k,U){return ie(this,A,k,!0,U)},l.prototype.writeFloatBE=function(A,k,U){return ie(this,A,k,!1,U)};function we(B,A,k,U,H){return A=+A,k=k>>>0,H||te(B,A,k,8),t.write(B,A,k,U,52,8),k+8}l.prototype.writeDoubleLE=function(A,k,U){return we(this,A,k,!0,U)},l.prototype.writeDoubleBE=function(A,k,U){return we(this,A,k,!1,U)},l.prototype.copy=function(A,k,U,H){if(!l.isBuffer(A))throw new TypeError("argument should be a Buffer");if(U||(U=0),!H&&H!==0&&(H=this.length),k>=A.length&&(k=A.length),k||(k=0),H>0&&H<U&&(H=U),H===U||A.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),A.length-k<H-U&&(H=A.length-k+U);var ae=H-U;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,U,H):Uint8Array.prototype.set.call(A,this.subarray(U,H),k),ae},l.prototype.fill=function(A,k,U,H){if(typeof A=="string"){if(typeof k=="string"?(H=k,k=0,U=this.length):typeof U=="string"&&(H=U,U=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!l.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(A.length===1){var ae=A.charCodeAt(0);(H==="utf8"&&ae<128||H==="latin1")&&(A=ae)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(k<0||this.length<k||this.length<U)throw new RangeError("Out of range index");if(U<=k)return this;k=k>>>0,U=U===void 0?this.length:U>>>0,A||(A=0);var pe;if(typeof A=="number")for(pe=k;pe<U;++pe)this[pe]=A;else{var Pe=l.isBuffer(A)?A:l.from(A,H),v=Pe.length;if(v===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(pe=0;pe<U-k;++pe)this[pe+k]=Pe[pe%v]}return this};var Re=/[^+/0-9A-Za-z-_]/g;function Te(B){if(B=B.split("=")[0],B=B.trim().replace(Re,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function Se(B,A){A=A||1/0;for(var k,U=B.length,H=null,ae=[],pe=0;pe<U;++pe){if(k=B.charCodeAt(pe),k>55295&&k<57344){if(!H){if(k>56319){(A-=3)>-1&&ae.push(239,191,189);continue}else if(pe+1===U){(A-=3)>-1&&ae.push(239,191,189);continue}H=k;continue}if(k<56320){(A-=3)>-1&&ae.push(239,191,189),H=k;continue}k=(H-55296<<10|k-56320)+65536}else H&&(A-=3)>-1&&ae.push(239,191,189);if(H=null,k<128){if((A-=1)<0)break;ae.push(k)}else if(k<2048){if((A-=2)<0)break;ae.push(k>>6|192,k&63|128)}else if(k<65536){if((A-=3)<0)break;ae.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((A-=4)<0)break;ae.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return ae}function Ie(B){for(var A=[],k=0;k<B.length;++k)A.push(B.charCodeAt(k)&255);return A}function Ne(B,A){for(var k,U,H,ae=[],pe=0;pe<B.length&&!((A-=2)<0);++pe)k=B.charCodeAt(pe),U=k>>8,H=k%256,ae.push(H),ae.push(U);return ae}function je(B){return e.toByteArray(Te(B))}function Le(B,A,k,U){for(var H=0;H<U&&!(H+k>=A.length||H>=B.length);++H)A[H+k]=B[H];return H}function Be(B,A){return B instanceof A||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===A.name}function Ve(B){return B!==B}var Je=function(){for(var B="0123456789abcdef",A=new Array(256),k=0;k<16;++k)for(var U=k*16,H=0;H<16;++H)A[U+H]=B[k]+B[H];return A}()}(Eo)),Eo}var To,nh;function hS(){if(nh)return To;nh=1;const{Buffer:i}=cS();function e(...d){const g=new e.Request(...d),h=new XMLHttpRequest;h.withCredentials=g.credentials==="include",h.timeout=g[t].timeout,h.open(g.method,g.url,!1);let _=!1;try{h.responseType="arraybuffer"}catch{h.overrideMimeType("text/plain; charset=x-user-defined"),_=!0}for(const x of g.headers)h.setRequestHeader(...x);h.send(g.body||null);let E=h.getAllResponseHeaders();E=E&&E.split(`\r
`).filter(Boolean).map(x=>x.split(": ",2));let b=h.response;if(_){const x=i.alloc(b.length);for(let O=0;O<b.length;O++)x[O]=b.charCodeAt(O)&255;b=x}const S=new e.Response(b,{headers:E,status:h.status,statusText:h.statusText});return S[t].url=h.responseURL,S[t].redirected=h.responseURL!==g.url,S}const t=Symbol("SyncFetch Internals"),r=["mode","cache","redirect","referrer","integrity"],n={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class s{constructor(g,h={}){for(const _ of r)if(_ in h)throw new TypeError(`option ${_} not supported`);if(h.credentials==="same-origin")throw new TypeError("option credentials with value 'same-origin' not supported");if(this[t]={method:h.method||"GET",headers:new e.Headers(h.headers),body:h.body?i.from(h.body):null,credentials:h.credentials||"omit",timeout:h.timeout||0},typeof g=="string")this[t].url=g;else if(g instanceof s)this[t].url=g.url,h.method||(this[t].method=g.method),h.headers||(this[t].headers=g.headers),h.body||(this[t].body=g[t].body),h.credentials||(this[t].credentials=g.credentials);else throw new TypeError("Request input should be a URL string or a Request object")}get cache(){return"default"}get credentials(){return this[t].credentials}get destination(){return""}get headers(){return this[t].headers}get integrity(){return""}get method(){return this[t].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[t].url}clone(){return f(this),new s(this.url,this[t])}}class o{constructor(g,h={}){this[t]={body:g?i.from(g):null,bodyUsed:!1,headers:new e.Headers(h.headers),status:h.status,statusText:h.statusText}}get headers(){return this[t].headers}get ok(){const g=this[t].status;return g>=200&&g<300}get redirected(){return this[t].redirected}get status(){return this[t].status}get statusText(){return this[t].statusText}get url(){return this[t].url}clone(){return this.redirect(this[t].url,this[t].status)}redirect(g,h){f(this);const _=new o(this[t].body,{headers:this[t].headers,status:h||this[t].status,statusText:n[h]||this[t].statusText});return _[t].url=g||this[t].url,_[t].redirected=this[t].redirected,_}}class l{constructor(g){this[t]={body:i.from(g),bodyUsed:!1}}get bodyUsed(){return this[t].bodyUsed}static mixin(g){for(const h of Object.getOwnPropertyNames(l.prototype)){if(h==="constructor")continue;const _=Object.getOwnPropertyDescriptor(l.prototype,h);Object.defineProperty(g,h,{..._,enumerable:!0})}}arrayBuffer(){const g=m(this);return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)}blob(){const g=this.headers&&this.headers.get("content-type");return new Blob([m(this)],g&&{type:g})}text(){return m(this).toString()}json(){try{return JSON.parse(m(this).toString())}catch(g){throw new TypeError(`invalid json response body at ${this.url} reason: ${g.message}`,"invalid-json")}}buffer(){return m(this).clone()}}function f(d){if(d.bodyUsed)throw new TypeError(`body used already for: ${d.url}`)}function m(d){return f(d),d[t].bodyUsed=!0,d[t].body||i.alloc(0)}l.mixin(s.prototype),l.mixin(o.prototype);class p{constructor(g){if(g instanceof e.Headers)this[t]={...g[t]};else if(this[t]={},Array.isArray(g))for(const[h,_]of g)this.append(h,_);else if(typeof g=="object")for(const h in g)this.set(h,g[h])}append(g,h){g=g.toLowerCase(),this[t][g]||(this[t][g]=[]),this[t][g].push(h)}delete(g){delete this[t][g.toLowerCase()]}set(g,h){this[t][g.toLowerCase()]=[h]}entries(){const g=[];for(const h in this[t])for(const _ of this[t][h])g.push([h,_]);return g}get(g){return g=g.toLowerCase(),g in this[t]?this[t][g].join(", "):null}keys(){return Object.keys(this[t])}has(g){return g.toLowerCase()in this[t]}values(){const g=[];for(const h in this[t])for(const _ of this[t][h])g.push(_);return g}*[Symbol.iterator](){for(const g in this[t])for(const h of this[t][g])yield[g,h]}}return e.Headers=p,e.Request=s,e.Response=o,To=e,To}hS();var En={exports:{}},dS=En.exports,sh;function gS(){return sh||(sh=1,function(i,e){(function(t){function r(n){var s=n&&n.Promise||t.Promise,o=n&&n.XMLHttpRequest||t.XMLHttpRequest;return function(){var l=Object.create(t,{fetch:{value:void 0,writable:!0}});return function(f,m){m(e)}(this,function(f){var m=typeof l<"u"&&l||typeof self<"u"&&self||typeof m<"u"&&m,p={searchParams:"URLSearchParams"in m,iterable:"Symbol"in m&&"iterator"in Symbol,blob:"FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in m,arrayBuffer:"ArrayBuffer"in m};function d(F){return F&&DataView.prototype.isPrototypeOf(F)}if(p.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(F){return F&&g.indexOf(Object.prototype.toString.call(F))>-1};function _(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function E(F){return typeof F!="string"&&(F=String(F)),F}function b(F){var G={next:function(){var V=F.shift();return{done:V===void 0,value:V}}};return p.iterable&&(G[Symbol.iterator]=function(){return G}),G}function S(F){this.map={},F instanceof S?F.forEach(function(G,V){this.append(V,G)},this):Array.isArray(F)?F.forEach(function(G){this.append(G[0],G[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(G){this.append(G,F[G])},this)}S.prototype.append=function(F,G){F=_(F),G=E(G);var V=this.map[F];this.map[F]=V?V+", "+G:G},S.prototype.delete=function(F){delete this.map[_(F)]},S.prototype.get=function(F){return F=_(F),this.has(F)?this.map[F]:null},S.prototype.has=function(F){return this.map.hasOwnProperty(_(F))},S.prototype.set=function(F,G){this.map[_(F)]=E(G)},S.prototype.forEach=function(F,G){for(var V in this.map)this.map.hasOwnProperty(V)&&F.call(G,this.map[V],V,this)},S.prototype.keys=function(){var F=[];return this.forEach(function(G,V){F.push(V)}),b(F)},S.prototype.values=function(){var F=[];return this.forEach(function(G){F.push(G)}),b(F)},S.prototype.entries=function(){var F=[];return this.forEach(function(G,V){F.push([V,G])}),b(F)},p.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function x(F){if(F.bodyUsed)return s.reject(new TypeError("Already read"));F.bodyUsed=!0}function O(F){return new s(function(G,V){F.onload=function(){G(F.result)},F.onerror=function(){V(F.error)}})}function w(F){var G=new FileReader,V=O(G);return G.readAsArrayBuffer(F),V}function T(F){var G=new FileReader,V=O(G);return G.readAsText(F),V}function q(F){for(var G=new Uint8Array(F),V=new Array(G.length),me=0;me<G.length;me++)V[me]=String.fromCharCode(G[me]);return V.join("")}function N(F){if(F.slice)return F.slice(0);var G=new Uint8Array(F.byteLength);return G.set(new Uint8Array(F)),G.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:p.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:p.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():p.arrayBuffer&&p.blob&&d(F)?(this._bodyArrayBuffer=N(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||h(F))?this._bodyArrayBuffer=N(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var F=x(this);if(F)return F;if(this._bodyBlob)return s.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return s.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return s.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=x(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?s.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):s.resolve(this._bodyArrayBuffer))}else return this.blob().then(w)}),this.text=function(){var F=x(this);if(F)return F;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return s.resolve(q(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return s.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(F){var G=F.toUpperCase();return C.indexOf(G)>-1?G:F}function z(F,G){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');G=G||{};var V=G.body;if(F instanceof z){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,G.headers||(this.headers=new S(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!V&&F._bodyInit!=null&&(V=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new S(G.headers)),this.method=I(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(V),(this.method==="GET"||this.method==="HEAD")&&(G.cache==="no-store"||G.cache==="no-cache")){var me=/([?&])_=[^&]*/;if(me.test(this.url))this.url=this.url.replace(me,"$1_="+new Date().getTime());else{var ue=/\?/;this.url+=(ue.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function X(F){var G=new FormData;return F.trim().split("&").forEach(function(V){if(V){var me=V.split("="),ue=me.shift().replace(/\+/g," "),M=me.join("=").replace(/\+/g," ");G.append(decodeURIComponent(ue),decodeURIComponent(M))}}),G}function ee(F){var G=new S,V=F.replace(/\r?\n[\t ]+/g," ");return V.split("\r").map(function(me){return me.indexOf(`
`)===0?me.substr(1,me.length):me}).forEach(function(me){var ue=me.split(":"),M=ue.shift().trim();if(M){var te=ue.join(":").trim();G.append(M,te)}}),G}W.call(z.prototype);function Y(F,G){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in G?G.statusText:"",this.headers=new S(G.headers),this.url=G.url||"",this._initBody(F)}W.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},Y.error=function(){var F=new Y(null,{status:0,statusText:""});return F.type="error",F};var K=[301,302,303,307,308];Y.redirect=function(F,G){if(K.indexOf(G)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:G,headers:{location:F}})},f.DOMException=m.DOMException;try{new f.DOMException}catch{f.DOMException=function(G,V){this.message=G,this.name=V;var me=Error(G);this.stack=me.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function se(F,G){return new s(function(V,me){var ue=new z(F,G);if(ue.signal&&ue.signal.aborted)return me(new f.DOMException("Aborted","AbortError"));var M=new o;function te(){M.abort()}M.onload=function(){var we={status:M.status,statusText:M.statusText,headers:ee(M.getAllResponseHeaders()||"")};we.url="responseURL"in M?M.responseURL:we.headers.get("X-Request-URL");var Re="response"in M?M.response:M.responseText;setTimeout(function(){V(new Y(Re,we))},0)},M.onerror=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},M.onabort=function(){setTimeout(function(){me(new f.DOMException("Aborted","AbortError"))},0)};function ie(we){try{return we===""&&m.location.href?m.location.href:we}catch{return we}}M.open(ue.method,ie(ue.url),!0),ue.credentials==="include"?M.withCredentials=!0:ue.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(p.blob?M.responseType="blob":p.arrayBuffer&&ue.headers.get("Content-Type")&&ue.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(M.responseType="arraybuffer")),G&&typeof G.headers=="object"&&!(G.headers instanceof S)?Object.getOwnPropertyNames(G.headers).forEach(function(we){M.setRequestHeader(we,E(G.headers[we]))}):ue.headers.forEach(function(we,Re){M.setRequestHeader(Re,we)}),ue.signal&&(ue.signal.addEventListener("abort",te),M.onreadystatechange=function(){M.readyState===4&&ue.signal.removeEventListener("abort",te)}),M.send(typeof ue._bodyInit>"u"?null:ue._bodyInit)})}se.polyfill=!0,m.fetch||(m.fetch=se,m.Headers=S,m.Request=z,m.Response=Y),f.Headers=S,f.Request=z,f.Response=Y,f.fetch=se,Object.defineProperty(f,"__esModule",{value:!0})}),{fetch:l.fetch,Headers:l.Headers,Request:l.Request,Response:l.Response,DOMException:l.DOMException}}()}i.exports=r})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof Sr<"u"?Sr:dS)}(En,En.exports)),En.exports}var vS=gS();const bS=Ln(vS),_S="0.7.18",yS={version:_S},xS=typeof location<"u"&&typeof navigator<"u",{fetch:fI,Headers:mI}=typeof fetch=="function"&&xS?{fetch,Headers}:bS();let AS=`Citation.js/${yS.version}`;typeof process<"u"&&process&&process.release&&process.release.name==="node"&&process.version&&(AS+=` Node.js/${process.version}`);function nb(i,e){let t;for(;t===void 0||i.includes(t);)t=`${e}${Math.random().toString().slice(2)}`;return t}class Ws{constructor(e={}){this.data=e}set(e,t){return this.data[e]=t,this}add(...e){return this.set(...e)}delete(e){return delete this.data[e],this}remove(...e){return this.delete(...e)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}}function wS(i){return i.reduce((e,t)=>{const r=e[e.length-1];return r&&r.type===t.type?r.count=r.count+1||2:e.push(t),e},[]).map(e=>(e.count>1?e.count+"x ":"")+e.type).join(" -> ")}class sb{constructor(e,t={}){this.options=Object.assign({generateGraph:!0,forceType:Xr(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data=typeof e=="object"?Yi(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(this.iteration!==0){const e=tb(this.type);e&&e.outputs?this.type=e.outputs:this.type=Xr(this.data),this.graph.push({type:this.type})}return this.error||this.type===this.options.target?!1:this.iteration>=this.options.maxChainLength?(this.error=new RangeError(`Max. number of parsing iterations reached (${wS(this.graph)})`),!1):(this.iteration++,!0)}end(){if(this.error){if(Rr.error("[core]",this.error.message),this.options.strict!==!1)throw this.error;return[]}else return this.options.target==="@csl/list+object"?ib(this.data).map(this.options.generateGraph?e=>zv(e,this.graph):jv):this.data}}const ab=(...i)=>{const e=new sb(...i);for(;e.iterate();)try{e.data=Bn(e.data,e.type)}catch(t){e.error=t}return e.end()},ES=i=>{const e=Xr(i),t=e.match(/array|object/)?Yi(i):i;return Bn(t,e)},ob=async(...i)=>{const e=new sb(...i);for(;e.iterate();)e.data=await $s(e.data,e.type).catch(t=>{e.error=t});return e.end()},TS=async i=>{const e=Xr(i),t=e.match(/array|object/)?Yi(i):i;return $s(t,e)},SS=Object.assign({},qT,UT,$T,rS),OS=Object.freeze(Object.defineProperty({__proto__:null,add:nS,addDataParser:Cf,addTypeParser:Hv,chain:ab,chainAsync:ob,chainLink:ES,chainLinkAsync:TS,data:Bn,dataAsync:$s,get:tb,has:aS,hasDataParser:eb,hasTypeParser:MT,list:oS,listDataParser:iS,listTypeParser:zT,remove:sS,removeDataParser:Rf,removeTypeParser:Xv,treeTypeParser:jT,type:Xr,typeMatcher:$v,util:SS},Symbol.toStringTag,{value:"Module"}));function kS(i,e={},t=!1){return(e===!0||t===!0)&&this.save(),this.data.push(...ab(i,e)),this.data.filter(r=>!Object.prototype.hasOwnProperty.call(r,"id")).forEach(r=>{r.id=nb(this.getIds(),"temp_id_")}),this}async function CS(i,e={},t=!1){return(e===!0||t===!0)&&this.save(),this.data.push(...await ob(i,e)),this.data.filter(r=>!Object.prototype.hasOwnProperty.call(r,"id")).forEach(r=>{r.id=nb(this.getIds(),"temp_id_")}),this}function RS(i,e={},t=!1){return(e===!0||t===!0)&&this.save(),this.data=[],typeof e!="boolean"?this.add(i,e):this.add(i)}async function IS(i,e={},t=!1){return(e===!0||t===!0)&&this.save(),this.data=[],typeof e!="boolean"?this.addAsync(i,e):this.addAsync(i)}function NS(i){return i&&this.save(),this.data=[],this._options={},this}const DS=Object.freeze(Object.defineProperty({__proto__:null,add:kS,addAsync:CS,reset:NS,set:RS,setAsync:IS},Symbol.toStringTag,{value:"Module"}));function lb(i){if("citation-label"in i)return i["citation-label"];let e="";return i.author&&(e+=i.author[0].family||i.author[0].literal),i.issued&&i.issued["date-parts"]&&i.issued["date-parts"][0]&&(e+=i.issued["date-parts"][0][0]),i["year-suffix"]?e+=i["year-suffix"]:i.title&&(e+=i.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e}const FS={label(i){return i.reduce((e,t)=>(e[t.id]=lb(t),e),{})}};function ah(i,e,t=e==="label"){let r=t?lb(i):i[e];switch(e){case"author":case"editor":return r.map(n=>n.literal||n.family||Kv.format(n));case"accessed":case"issued":return r["date-parts"][0];case"page":return r.split("-").map(n=>parseInt(n));case"edition":case"issue":case"volume":return r=parseInt(r),isNaN(r)?-1/0:r;default:return r||-1/0}}function LS(i,e,t,r=/^!/.test(t)){t=t.replace(/^!/,"");const n=ah(i,t),s=ah(e,t);return(r?-1:1)*(n>s?1:n<s?-1:0)}function BS(...i){return(e,t)=>{const r=i.slice();let n=0;for(;!n&&r.length;)n=LS(e,t,r.shift());return n}}function PS(i=[],e){return e&&this.save(),this.data.sort(typeof i=="function"?i:BS(...i,"label")),this}const qS=Object.freeze(Object.defineProperty({__proto__:null,sort:PS},Symbol.toStringTag,{value:"Module"}));function US(i,e){if(typeof i!="string")throw new TypeError(`Invalid output format name, expected string, got ${typeof i}`);if(typeof e!="function")throw new TypeError(`Invalid formatter, expected function, got ${typeof e}`)}const yi=new Ws;function MS(i,e){US(i,e),yi.set(i,e)}function zS(i){yi.remove(i)}function jS(i){return yi.has(i)}function GS(){return yi.list()}function ub(i,e,...t){if(!yi.has(i))throw new Error(`Output format "${i}" unavailable`);return yi.get(i)(e,...t)}const HS=Object.freeze(Object.defineProperty({__proto__:null,add:MS,format:ub,has:jS,list:GS,register:yi,remove:zS},Symbol.toStringTag,{value:"Module"}));function XS(){return this.data.map(i=>i.id)}function $S(i,...e){return ub(i,Zv(this.data),...e)}function WS(i={}){Xs(i);const e=Object.assign({},this.defaultOptions,this._options.output,i),{type:t,style:r}=e,[n,s]=r.split("-"),o=n==="citation"?"bibliography":n==="csl"?"data":n,l=t==="string"?"text":t==="json"?"object":t;let f;switch(o){case"bibliography":{const{lang:d,append:g,prepend:h}=e;f={template:s,lang:d,format:l,append:g,prepend:h};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":f={type:l};break;default:throw new Error(`Invalid style "${o}"`)}const m=this.format(o,Object.assign(f,i._newOptions)),{format:p}=e;if(p==="real"&&l==="html"&&typeof document<"u"&&typeof document.createElement=="function"){const d=document.createElement("div");return d.innerHTML=m,d.firstChild}else return p==="string"&&typeof m=="object"?JSON.stringify(m):m}const VS=Object.freeze(Object.defineProperty({__proto__:null,format:$S,get:WS,getIds:XS},Symbol.toStringTag,{value:"Module"}));function KS(i,e,t){typeof e=="function"&&!t&&(t=e,e=void 0);const r=new this().setAsync(i,e);if(typeof t=="function"){r.then(t);return}else return r}const JS=Object.freeze(Object.defineProperty({__proto__:null,async:KS,validateOptions:FT,validateOutputOptions:Xs},Symbol.toStringTag,{value:"Module"}));function Nn(i,e={}){return this instanceof Nn?(this._options=e,this.log=[],this.data=[],this.set(i,e),this.options(e),this):new Nn(i,e)}Object.assign(Nn.prototype,DT,PT,DS,qS,VS);Nn.prototype[Symbol.iterator]=function*(){yield*this.data};Object.assign(Nn,JS);function YS(i,e){if(typeof i!="string")throw new TypeError(`Invalid dict name, expected string, got ${typeof i}`);if(typeof e!="object")throw new TypeError(`Invalid dict, expected object, got ${typeof e}`);for(const t in e){const r=e[t];if(!Array.isArray(r)||r.some(n=>typeof n!="string"))throw new TypeError(`Invalid dict entry "${t}", expected array of strings`)}}const xi=new Ws({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["",`
`],entry:["",`
`],list:[`
`,""],listItem:["	",`
`]}});function QS(i,e){YS(i,e),xi.set(i,e)}function ZS(i){xi.remove(i)}function eO(i){return xi.has(i)}function tO(){return xi.list()}function fb(i){if(!xi.has(i))throw new Error(`Dict "${i}" unavailable`);return xi.get(i)}const rO={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},iO={wr_start:"",wr_end:`
`,en_start:"",en_end:`
`,ul_start:`
`,ul_end:"",li_start:"	",li_end:`
`},nO=Object.freeze(Object.defineProperty({__proto__:null,add:QS,get:fb,has:eO,htmlDict:rO,list:tO,register:xi,remove:ZS,textDict:iO},Symbol.toStringTag,{value:"Module"})),Pn={};function sO(i,e){Pn[i]=e}function aO(i){return Pn[i]}function oO(i){return Object.prototype.hasOwnProperty.call(Pn,i)}function lO(i){delete Pn[i]}function uO(){return Object.keys(Pn)}const fO=Object.freeze(Object.defineProperty({__proto__:null,add:sO,get:aO,has:oO,list:uO,remove:lO},Symbol.toStringTag,{value:"Module"})),oh={input:OS,output:HS,dict:nO,config:fO},mO={};function mb(i,e={}){const t=mO[i]={};for(const r in e){if(r==="config"){t.config={[i]:e.config},oh.config.add(i,e.config);continue}const n=t[r]={},s=e[r];for(const o in s){const l=s[o];n[o]=!0,oh[r].add(o,l)}}}function So(){return[]}const pO=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function cO(i){if(typeof i!="string")return JSON.parse(i);try{return JSON.parse(i)}catch{return Rr.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),pO.forEach(([t,r])=>{i=i.replace(t,r)}),JSON.parse(i)}}function hO(i){return i.val()||i.text()||i.html()}function dO(i){return i.value||i.textContent}const gO="@else",vO={"@empty/text":{parse:So,parseType:{dataType:"String",predicate:i=>i===""}},"@empty/whitespace+text":{parse:So,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:So,parseType:{dataType:"Primitive",predicate:i=>i==null}},"@else/json":{parse:cO,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:hO,parseType:{dataType:"ComplexObject",predicate(i){return typeof jQuery<"u"&&i instanceof jQuery}}},"@else/html":{parse:dO,parseType:{dataType:"ComplexObject",predicate(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}}}};function pb(i,e,t){return i+(e<t.length-1?",":"")}function cb(i,e){const t=Array.isArray(i);let r;return t?r=i.map(n=>lh(n,e)):r=Object.keys(i).filter(n=>JSON.stringify(i[n])).map(n=>`"${n}": ${lh(i[n],e)}`),r=r.map(pb).map(n=>e.listItem.join(n)),r=e.list.join(r.join("")),t?`[${r}]`:`{${r}}`}function lh(i,e){return typeof i=="object"&&i!==null?i.length===0?"[]":Object.keys(i).length===0?"{}":cb(i,e):JSON.stringify(i)}function bO(i,e){let t=i.map(r=>cb(r,e));return t=t.map(pb).map(r=>e.entry.join(r)),t=t.join(""),e.bibliographyContainer.join(`[${t}]`)}const _O={data(i,{type:e,format:t=e||"text",version:r="1.0.2"}={}){return r<"1.0.2"&&(i=In(i)),t==="object"?Yi(i):t==="text"?JSON.stringify(i,null,2):(Rr.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),bO(i,fb(t)))},ndjson(i,{version:e="1.0.2"}={}){return e<"1.0.2"&&(i=In(i)),i.map(t=>JSON.stringify(t)).join(`
`)}},yO=Object.assign({},_O,FS);mb(gO,{input:vO,output:yO});function zf(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Si=zf();function hb(i){Si=i}const db=/[&<>"']/,xO=new RegExp(db.source,"g"),gb=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,AO=new RegExp(gb.source,"g"),wO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uh=i=>wO[i];function ar(i,e){if(e){if(db.test(i))return i.replace(xO,uh)}else if(gb.test(i))return i.replace(AO,uh);return i}const EO=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function TO(i){return i.replace(EO,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const SO=/(^|[^\[])\^/g;function gt(i,e){let t=typeof i=="string"?i:i.source;e=e||"";const r={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(SO,"$1"),t=t.replace(n,o),r},getRegex:()=>new RegExp(t,e)};return r}function fh(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}const Cn={exec:()=>null};function mh(i,e){const t=i.replace(/\|/g,(s,o,l)=>{let f=!1,m=o;for(;--m>=0&&l[m]==="\\";)f=!f;return f?"|":" |"}),r=t.split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function Ls(i,e,t){const r=i.length;if(r===0)return"";let n=0;for(;n<r&&i.charAt(r-n-1)===e;)n++;return i.slice(0,r-n)}function OO(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<i.length;r++)if(i[r]==="\\")r++;else if(i[r]===e[0])t++;else if(i[r]===e[1]&&(t--,t<0))return r;return-1}function ph(i,e,t,r){const n=e.href,s=e.title?ar(e.title):null,o=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:t,href:n,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:t,href:n,title:s,text:ar(o)}}function kO(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(n=>{const s=n.match(/^\s+/);if(s===null)return n;const[o]=s;return o.length>=r.length?n.slice(r.length):n}).join(`
`)}class zs{constructor(e){nt(this,"options");nt(this,"rules");nt(this,"lexer");this.options=e||Si}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ls(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],n=kO(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const n=Ls(r,"#");(this.options.pedantic||!n||/ $/.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Ls(r.replace(/^ *>[ \t]?/gm,""),`
`);const n=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const n=r.length>1,s={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",f="",m=!1;for(;e;){let p=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),g=e.split(`
`,1)[0],h=0;this.options.pedantic?(h=2,f=d.trimStart()):(h=t[2].search(/[^ ]/),h=h>4?1:h,f=d.slice(h),h+=t[1].length);let _=!1;if(!d&&/^ *$/.test(g)&&(l+=g+`
`,e=e.substring(g.length+1),p=!0),!p){const S=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,h-1)}}#`);for(;e;){const T=e.split(`
`,1)[0];if(g=T,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),O.test(g)||w.test(g)||S.test(g)||x.test(e))break;if(g.search(/[^ ]/)>=h||!g.trim())f+=`
`+g.slice(h);else{if(_||d.search(/[^ ]/)>=4||O.test(d)||w.test(d)||x.test(d))break;f+=`
`+g}!_&&!g.trim()&&(_=!0),l+=T+`
`,e=e.substring(T.length+1),d=g.slice(h)}}s.loose||(m?s.loose=!0:/\n *\n *$/.test(l)&&(m=!0));let E=null,b;this.options.gfm&&(E=/^\[[ xX]\] /.exec(f),E&&(b=E[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!E,checked:b,loose:!1,text:f,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=l.trimEnd(),s.items[s.items.length-1].text=f.trimEnd(),s.raw=s.raw.trimEnd();for(let p=0;p<s.items.length;p++)if(this.lexer.state.top=!1,s.items[p].tokens=this.lexer.blockTokens(s.items[p].text,[]),!s.loose){const d=s.items[p].tokens.filter(h=>h.type==="space"),g=d.length>0&&d.some(h=>/\n.*\n/.test(h.raw));s.loose=g}if(s.loose)for(let p=0;p<s.items.length;p++)s.items[p].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=mh(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const l of n)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of r)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of s)o.rows.push(mh(l,o.header.length).map(f=>({text:f,tokens:this.lexer.inline(f)})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ar(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Ls(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=OO(t[2],"()");if(o>-1){const f=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,f).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);o&&(n=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(r)?n=n.slice(1):n=n.slice(1,-1)),ph(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const n=(r[2]||r[1]).replace(/\s+/g," "),s=t[n.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return ph(r,s,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...n[0]].length-1;let l,f,m=o,p=0;const d=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(n=d.exec(t))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(f=[...l].length,n[3]||n[4]){m+=f;continue}else if((n[5]||n[6])&&o%3&&!((o+f)%3)){p+=f;continue}if(m-=f,m>0)continue;f=Math.min(f,f+m+p);const g=[...n[0]][0].length,h=e.slice(0,o+n.index+g+f);if(Math.min(o,f)%2){const E=h.slice(1,-1);return{type:"em",raw:h,text:E,tokens:this.lexer.inlineTokens(E)}}const _=h.slice(2,-2);return{type:"strong",raw:h,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const n=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return n&&s&&(r=r.substring(1,r.length-1)),r=ar(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=ar(t[1]),n="mailto:"+r):(r=ar(t[1]),n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let n,s;if(t[2]==="@")n=ar(t[0]),s="mailto:"+n;else{let o;do o=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(o!==t[0]);n=ar(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=ar(t[0]),{type:"text",raw:t[0],text:r}}}}const CO=/^(?: *(?:\n|$))+/,RO=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,IO=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,NO=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,vb=/(?:[*+-]|\d{1,9}[.)])/,bb=gt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,vb).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),jf=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DO=/^[^\n]+/,Gf=/(?!\s*\])(?:\\.|[^\[\]\\])+/,FO=gt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Gf).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),LO=gt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,vb).getRegex(),Vs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hf=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,BO=gt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Hf).replace("tag",Vs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_b=gt(jf).replace("hr",qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vs).getRegex(),PO=gt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_b).getRegex(),Xf={blockquote:PO,code:RO,def:FO,fences:IO,heading:NO,hr:qn,html:BO,lheading:bb,list:LO,newline:CO,paragraph:_b,table:Cn,text:DO},ch=gt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vs).getRegex(),qO={...Xf,table:ch,paragraph:gt(jf).replace("hr",qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ch).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vs).getRegex()},UO={...Xf,html:gt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Hf).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gt(jf).replace("hr",qn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bb).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},yb=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,MO=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xb=/^( {2,}|\\)\n(?!\s*$)/,zO=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Un="\\p{P}\\p{S}",jO=gt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Un).getRegex(),GO=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,HO=gt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Un).getRegex(),XO=gt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Un).getRegex(),$O=gt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Un).getRegex(),WO=gt(/\\([punct])/,"gu").replace(/punct/g,Un).getRegex(),VO=gt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),KO=gt(Hf).replace("(?:-->|$)","-->").getRegex(),JO=gt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",KO).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),js=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,YO=gt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",js).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ab=gt(/^!?\[(label)\]\[(ref)\]/).replace("label",js).replace("ref",Gf).getRegex(),wb=gt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Gf).getRegex(),QO=gt("reflink|nolink(?!\\()","g").replace("reflink",Ab).replace("nolink",wb).getRegex(),$f={_backpedal:Cn,anyPunctuation:WO,autolink:VO,blockSkip:GO,br:xb,code:MO,del:Cn,emStrongLDelim:HO,emStrongRDelimAst:XO,emStrongRDelimUnd:$O,escape:yb,link:YO,nolink:wb,punctuation:jO,reflink:Ab,reflinkSearch:QO,tag:JO,text:zO,url:Cn},ZO={...$f,link:gt(/^!?\[(label)\]\((.*?)\)/).replace("label",js).getRegex(),reflink:gt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",js).getRegex()},If={...$f,escape:gt(yb).replace("])","~|])").getRegex(),url:gt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},e2={...If,br:gt(xb).replace("{2,}","*").getRegex(),text:gt(If.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Bs={normal:Xf,gfm:qO,pedantic:UO},wn={normal:$f,gfm:If,breaks:e2,pedantic:ZO};class Or{constructor(e){nt(this,"tokens");nt(this,"options");nt(this,"state");nt(this,"tokenizer");nt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Si,this.options.tokenizer=this.options.tokenizer||new zs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Bs.normal,inline:wn.normal};this.options.pedantic?(t.block=Bs.pedantic,t.inline=wn.pedantic):this.options.gfm&&(t.block=Bs.gfm,this.options.breaks?t.inline=wn.breaks:t.inline=wn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Bs,inline:wn}}static lex(e,t){return new Or(t).lex(e)}static lexInline(e,t){return new Or(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,f,m)=>f+"    ".repeat(m.length));let r,n,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const f=e.slice(1);let m;this.options.extensions.startBlock.forEach(p=>{m=p.call({lexer:this},f),typeof m=="number"&&m>=0&&(l=Math.min(l,m))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){n=t[t.length-1],o&&n.type==="paragraph"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,n,s,o=e,l,f,m;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(f||(m=""),f=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(r=p.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,o,m)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const d=e.slice(1);let g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},d),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(s=e.substring(0,p+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(m=r.raw.slice(-1)),f=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}}class Gs{constructor(e){nt(this,"options");this.options=e||Si}code(e,t,r){var s;const n=(s=(t||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+ar(n)+'">'+(r?e:ar(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:ar(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){const n=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+n+s+`>
`+e+"</"+n+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){const n=fh(e);if(n===null)return r;e=n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){const n=fh(e);if(n===null)return r;e=n;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class Wf{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class kr{constructor(e){nt(this,"options");nt(this,"renderer");nt(this,"textRenderer");this.options=e||Si,this.options.renderer=this.options.renderer||new Gs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Wf}static parse(e,t){return new kr(t).parse(e)}static parseInline(e,t){return new kr(t).parseInline(e)}parse(e,t=!0){let r="";for(let n=0;n<e.length;n++){const s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=l||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,TO(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let l="",f="";for(let p=0;p<o.header.length;p++)f+=this.renderer.tablecell(this.parseInline(o.header[p].tokens),{header:!0,align:o.align[p]});l+=this.renderer.tablerow(f);let m="";for(let p=0;p<o.rows.length;p++){const d=o.rows[p];f="";for(let g=0;g<d.length;g++)f+=this.renderer.tablecell(this.parseInline(d[g].tokens),{header:!1,align:o.align[g]});m+=this.renderer.tablerow(f)}r+=this.renderer.table(l,m);continue}case"blockquote":{const o=s,l=this.parse(o.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const o=s,l=o.ordered,f=o.start,m=o.loose;let p="";for(let d=0;d<o.items.length;d++){const g=o.items[d],h=g.checked,_=g.task;let E="";if(g.task){const b=this.renderer.checkbox(!!h);m?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b+" "}):E+=b+" "}E+=this.parse(g.tokens,m),p+=this.renderer.listitem(E,_,!!h)}r+=this.renderer.list(p,l,f);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,l=o.tokens?this.parseInline(o.tokens):o.text;for(;n+1<e.length&&e[n+1].type==="text";)o=e[++n],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=t?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let n=0;n<e.length;n++){const s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=t.text(o.text);break}case"html":{const o=s;r+=t.html(o.text);break}case"link":{const o=s;r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=s;r+=t.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=s;r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=s;r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{const o=s;r+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=s;r+=t.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Rn{constructor(e){nt(this,"options");this.options=e||Si}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}nt(Rn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var wi,Nf,Eb;class t2{constructor(...e){Ic(this,wi);nt(this,"defaults",zf());nt(this,"options",this.setOptions);nt(this,"parse",Ds(this,wi,Nf).call(this,Or.lex,kr.parse));nt(this,"parseInline",Ds(this,wi,Nf).call(this,Or.lexInline,kr.parseInline));nt(this,"Parser",kr);nt(this,"Renderer",Gs);nt(this,"TextRenderer",Wf);nt(this,"Lexer",Or);nt(this,"Tokenizer",zs);nt(this,"Hooks",Rn);this.use(...e)}walkTokens(e,t){var n,s;let r=[];for(const o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const f of l.header)r=r.concat(this.walkTokens(f.tokens,t));for(const f of l.rows)for(const m of f)r=r.concat(this.walkTokens(m.tokens,t));break}case"list":{const l=o;r=r.concat(this.walkTokens(l.items,t));break}default:{const l=o;(s=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(f=>{const m=l[f].flat(1/0);r=r.concat(this.walkTokens(m,t))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...l){let f=s.renderer.apply(this,l);return f===!1&&(f=o.apply(this,l)),f}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),n.extensions=t),r.renderer){const s=this.defaults.renderer||new Gs(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,f=r.renderer[l],m=s[l];s[l]=(...p)=>{let d=f.apply(s,p);return d===!1&&(d=m.apply(s,p)),d||""}}n.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new zs(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,f=r.tokenizer[l],m=s[l];s[l]=(...p)=>{let d=f.apply(s,p);return d===!1&&(d=m.apply(s,p)),d}}n.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Rn;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,f=r.hooks[l],m=s[l];Rn.passThroughHooks.has(o)?s[l]=p=>{if(this.defaults.async)return Promise.resolve(f.call(s,p)).then(g=>m.call(s,g));const d=f.call(s,p);return m.call(s,d)}:s[l]=(...p)=>{let d=f.apply(s,p);return d===!1&&(d=m.apply(s,p)),d}}n.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;n.walkTokens=function(l){let f=[];return f.push(o.call(this,l)),s&&(f=f.concat(s.call(this,l))),f}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Or.lex(e,t??this.defaults)}parser(e,t){return kr.parse(e,t??this.defaults)}}wi=new WeakSet,Nf=function(e,t){return(r,n)=>{const s={...n},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=Ds(this,wi,Eb).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(f=>e(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>t(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let f=e(r,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let m=t(f,o);return o.hooks&&(m=o.hooks.postprocess(m)),m}catch(f){return l(f)}}},Eb=function(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+ar(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}};const Ai=new t2;function mt(i,e){return Ai.parse(i,e)}mt.options=mt.setOptions=function(i){return Ai.setOptions(i),mt.defaults=Ai.defaults,hb(mt.defaults),mt};mt.getDefaults=zf;mt.defaults=Si;mt.use=function(...i){return Ai.use(...i),mt.defaults=Ai.defaults,hb(mt.defaults),mt};mt.walkTokens=function(i,e){return Ai.walkTokens(i,e)};mt.parseInline=Ai.parseInline;mt.Parser=kr;mt.parser=kr.parse;mt.Renderer=Gs;mt.TextRenderer=Wf;mt.Lexer=Or;mt.lexer=Or.lex;mt.Tokenizer=zs;mt.Hooks=Rn;mt.parse=mt;mt.options;mt.setOptions;mt.use;mt.walkTokens;mt.parseInline;kr.parse;Or.lex;const r2={"en-US":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">personal communication</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">personal communication</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">â</term><term name="close-quote">â</term><term name="open-inner-quote">â</term><term name="close-inner-quote">â</term><term name="page-range-delimiter">â</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix" form="short">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator" form="short">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation" form="short">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation" form="short">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule" form="short">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene" form="short">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table" form="short">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp" form="short"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator" form="short">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>Â¶</single><multiple>Â¶Â¶</multiple></term><term name="section" form="symbol"><single>Â§</single><multiple>Â§Â§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term>
<!-- LONG MONTH FORMS --><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term>
<!-- SEASONS --><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms>
</locale>
`,"nl-NL":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persoonlijke communicatie</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>druk</single><multiple>drukken</multiple></term><term name="edition" form="short">dr.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persoonlijke communicatie</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">AD</term><term name="bc">BC</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">â</term><term name="close-quote">â</term><term name="open-inner-quote">â</term><term name="close-inner-quote">â</term><term name="page-range-delimiter">â</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio's</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple></term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina's</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina's</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>Â¶</single><multiple>Â¶Â¶</multiple></term><term name="section" form="symbol"><single>Â§</single><multiple>Â§Â§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">onder redactie van</term><term name="editorial-director" form="verb">onder redactie van</term><term name="illustrator" form="verb">geÃ¯llustreerd door</term><term name="interviewer" form="verb">geÃ¯nterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">onder redactie van</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geÃ¯llustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>
<!-- LONG MONTH FORMS --><term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term>
<!-- SEASONS --><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms>
</locale>
`,"fr-FR":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>GrÃ©goire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">publication en ligne anticipÃ©e</term><term name="album">album</term><term name="audio-recording">enregistrement audio</term><term name="film">film</term><term name="henceforth">dÃ©sormais</term><term name="loc-cit">loc.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">sans lieu</term><term name="no-place" form="short">s.&#160;l.</term><term name="no-publisher">sans nom</term> <!-- sine nomine --><term name="no-publisher" form="short">s.&#160;n.</term><term name="on">sur</term><term name="op-cit">op.&#160;cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">Ã©dition originale</term><term name="personal-communication">communication personnelle</term><term name="podcast">podcast</term><term name="podcast-episode">Ã©pisode de podcast</term><term name="preprint">prÃ©publication</term><term name="radio-broadcast">Ã©mission de radio</term><term name="radio-series">sÃ©rie radiophonique</term><term name="radio-series-episode">Ã©pisode de sÃ©rie radiophonique</term><term name="special-issue">numÃ©ro spÃ©cial</term><term name="special-section">section spÃ©ciale</term><term name="television-broadcast">Ã©mission de tÃ©lÃ©vision</term><term name="television-series">sÃ©rie tÃ©lÃ©visÃ©e</term><term name="television-series-episode">Ã©pisode de sÃ©rie tÃ©lÃ©visÃ©e</term><term name="video">vidÃ©o</term><term name="working-paper">document de travail</term><term name="accessed">consultÃ© le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">citÃ©</term><term name="edition" gender="feminine"><single>Ã©dition</single><multiple>Ã©ditions</multiple></term><term name="edition" form="short">Ã©d.</term><term name="et-al">et al.</term><term name="forthcoming">Ã  paraÃ®tre</term><term name="from">Ã  l'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">prÃ©sentÃ© Ã </term><term name="reference"><single>rÃ©fÃ©rence</single><multiple>rÃ©fÃ©rences</multiple></term><term name="reference" form="short"><single>rÃ©f.</single><multiple>rÃ©f.</multiple></term><term name="retrieved">consultÃ©</term><term name="scale">Ã©chelle</term><term name="version">version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">article</term><term name="article-journal">article de revue</term><term name="article-magazine">article de magazine</term><term name="article-newspaper">article de presse</term><term name="bill">projet de loi</term><term name="book">livre</term><term name="broadcast">Ã©mission</term><term name="chapter">chapitre de livre</term><term name="classic">classique</term><term name="collection">collection</term><term name="dataset">jeu de donnÃ©es</term><term name="document">document</term><term name="entry">entrÃ©e</term><term name="entry-dictionary">entrÃ©e de dictionnaire</term><term name="entry-encyclopedia">entrÃ©e d'encyclopÃ©die</term><term name="event">Ã©vÃ©nement</term><!-- figure is in the list of locator terms --><term name="graphic">image</term><term name="hearing">audience</term><term name="interview">interview</term><term name="legal_case">affaire</term><term name="legislation">acte juridique</term><term name="manuscript">manuscrit</term><term name="map">carte</term><term name="motion_picture">enregistrement vidÃ©o</term><term name="musical_score">partition</term><term name="pamphlet">pamphlet</term><term name="paper-conference">article de colloque</term><term name="patent">brevet</term><term name="performance">interprÃ©tation</term><term name="periodical">pÃ©riodique</term><term name="personal_communication">communication personnelle</term><term name="post">billet</term><term name="post-weblog">billet de blog</term><term name="regulation">rÃ¨glement</term><term name="report">rapport</term><term name="review">recension</term><term name="review-book">recension de livre</term><term name="software">logiciel</term><term name="song">chanson</term><term name="speech">prÃ©sentation</term><term name="standard">norme</term><term name="thesis">thÃ¨se</term><term name="treaty">traitÃ©</term><term name="webpage">page web</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">art. de revue</term><term name="article-magazine" form="short">art. de mag.</term><term name="article-newspaper" form="short">art. de presse</term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap. de liv.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">ms</term><term name="motion_picture" form="short">enr. vidÃ©o</term><term name="report" form="short">rap.</term><term name="review" form="short">recens.</term><term name="review-book" form="short">recens. de liv.</term><term name="song" form="short">enr. audio</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="bce">av. n. Ã¨.</term><term name="ce">n. Ã¨.</term>
<!-- PUNCTUATION --><term name="open-quote">Â«&#160;</term><term name="close-quote">&#160;Â»</term><term name="open-inner-quote">â</term><term name="close-inner-quote">â</term><term name="page-range-delimiter">&#8209;</term> <!-- non-breaking hyphen --><term name="colon">&#160;:</term><term name="comma">,</term><term name="semicolon">&#160;;</term>
<!-- ORDINALS --><term name="ordinal">áµ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">Ê³áµ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">áµÊ³</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxiÃ¨me</term><term name="long-ordinal-03">troisiÃ¨me</term><term name="long-ordinal-04">quatriÃ¨me</term><term name="long-ordinal-05">cinquiÃ¨me</term><term name="long-ordinal-06">sixiÃ¨me</term><term name="long-ordinal-07">septiÃ¨me</term><term name="long-ordinal-08">huitiÃ¨me</term><term name="long-ordinal-09">neuviÃ¨me</term><term name="long-ordinal-10">dixiÃ¨me</term>
<!-- LONG LOCATOR FORMS --><term name="act"><single>acte</single><multiple>actes</multiple></term><term name="appendix"><single>appendice</single><multiple>appendices</multiple></term><term name="article-locator"><single>article</single><multiple>articles</multiple></term><term name="canon"><single>canon</single><multiple>canons</multiple></term><term name="elocation"><single>emplacement</single><multiple>emplacements</multiple></term><term name="equation"><single>Ã©quation</single><multiple>Ã©quations</multiple></term><term name="rule"><single>rÃ¨gle</single><multiple>rÃ¨gles</multiple></term><term name="scene"><single>scÃ¨ne</single><multiple>scÃ¨nes</multiple></term><term name="table"><single>tableau</single><multiple>tableaux</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>titre</single><multiple>titres</multiple></term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numÃ©ro</single><multiple>numÃ©ros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix"><single>append.</single><multiple>append.</multiple></term><term name="article-locator"><single>art.</single><multiple>art.</multiple></term><term name="elocation"><single>emplact</single><multiple>emplact</multiple></term><term name="equation"><single>eq.</single><multiple>eq.</multiple></term><term name="rule"><single>rÃ¨gle</single><multiple>rÃ¨gles</multiple></term><term name="scene"><single>sc.</single><multiple>sc.</multiple></term><term name="table"><single>tab.</single><multiple>tab.</multiple></term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple></term><term name="title-locator"><single>tit.</single><multiple>tit.</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fáµ</single><multiple>fáµË¢</multiple></term><term name="issue" form="short"><single>náµ</single><multiple>náµË¢</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>Â§</single><multiple>Â§</multiple></term><term name="section" form="symbol"><single>Â§</single><multiple>Â§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>prÃ©sident</single><multiple>prÃ©sidents</multiple></term><term name="compiler"><single>compilateur</single><multiple>compilateurs</multiple></term><term name="contributor"><single>contributeur</single><multiple>contributeurs</multiple></term><term name="curator"><single>commissaire</single><multiple>commissaires</multiple></term><term name="executive-producer"><single>producteur exÃ©cutif</single><multiple>producteurs exÃ©cutifs</multiple></term><term name="guest"><single>invitÃ©</single><multiple>invitÃ©s</multiple></term><term name="host"><single>hÃ´te</single><multiple>hÃ´tes</multiple></term><term name="narrator"><single>narrateur</single><multiple>narrateurs</multiple></term><term name="organizer"><single>organisateur</single><multiple>organisateurs</multiple></term><term name="performer"><single>interprÃ¨te</single><multiple>interprÃ¨tes</multiple></term><term name="producer"><single>producteur</single><multiple>producteurs</multiple></term><term name="script-writer"><single>scÃ©nariste</single><multiple>scÃ©naristes</multiple></term><term name="series-creator"><single>crÃ©ateur de sÃ©rie</single><multiple>crÃ©ateurs de sÃ©rie</multiple></term><term name="director"><single>rÃ©alisateur</single><multiple>rÃ©alisateurs</multiple></term><term name="editor"><single>Ã©diteur</single><multiple>Ã©diteurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>Ã©diteur et traducteur</single><multiple>Ã©diteurs et traducteurs</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>compil.</single><multiple>compil.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contrib.</multiple></term><term name="curator" form="short"><single>commiss.</single><multiple>commiss.</multiple></term><term name="executive-producer" form="short"><single>prod. exÃ©.</single><multiple>prod. exÃ©.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narr.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>org.</multiple></term><term name="performer" form="short"><single>interpr.</single><multiple>interpr.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prod.</multiple></term><term name="script-writer" form="short"><single>scÃ©nar.</single><multiple>scÃ©nar.</multiple></term><term name="series-creator" form="short"><single>crÃ©at.</single><multiple>crÃ©at.</multiple></term><term name="director" form="short"><single>rÃ©al.</single><multiple>rÃ©al.</multiple></term><term name="editor" form="short"><single>Ã©d.</single><multiple>Ã©d.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>Ã©d. et trad.</single><multiple>Ã©d. et trad.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">prÃ©sidÃ© par</term><term name="compiler" form="verb">compilÃ© par</term><term name="contributor" form="verb">avec</term><term name="curator" form="verb">organisÃ© par</term><term name="executive-producer" form="verb">production exÃ©cutive par</term><term name="guest" form="verb">avec pour invitÃ©</term><term name="host" form="verb">animÃ© par</term><term name="narrator" form="verb">lu par</term><term name="organizer" form="verb">organisÃ© par</term><term name="performer" form="verb">interprÃ©tÃ© par</term><term name="producer" form="verb">produit par</term><term name="script-writer" form="verb">scÃ©nario de</term><term name="series-creator" form="verb">crÃ©Ã© par</term><term name="container-author" form="verb">par</term><term name="director" form="verb">rÃ©alisÃ© par</term><term name="editor" form="verb">Ã©ditÃ© par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustrÃ© par</term><term name="interviewer" form="verb">entretien rÃ©alisÃ© par</term><term name="recipient" form="verb">Ã </term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">Ã©ditÃ© et traduit par</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">compil. par</term><term name="contributor" form="verb-short">ac</term><term name="curator" form="verb-short">org. par</term><term name="executive-producer" form="verb-short">prod. exÃ©. par</term><term name="guest" form="verb-short">ac pr inv.</term><term name="host" form="verb-short">anim. par</term><term name="narrator" form="verb-short">lu par</term><term name="organizer" form="verb-short">org. par</term><term name="performer" form="verb-short">interpr. par</term><term name="producer" form="verb-short">prod. par</term><term name="script-writer" form="verb-short">scÃ©nar. de</term><term name="series-creator" form="verb-short">crÃ©Ã© par</term><term name="director" form="verb-short">rÃ©al. par</term><term name="editor" form="verb-short">Ã©d. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">Ã©d. et trad. par</term>
<!-- LONG MONTH FORMS --><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">fÃ©vrier</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">aoÃ»t</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">octobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">dÃ©cembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">janv.</term><term name="month-02" form="short">fÃ©vr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">aoÃ»t</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dÃ©c.</term>
<!-- SEASONS --><term name="season-01">printemps</term><term name="season-02">Ã©tÃ©</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms>
</locale>
`,"de-DE":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">persÃ¶nliche Kommunikation</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfÃ¼gbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">MaÃstab</term><term name="version">Version</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">persÃ¶nliche Kommunikation</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">&#160;n.&#160;Chr.</term><term name="bc">&#160;v.&#160;Chr.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">â</term><term name="close-quote">â</term><term name="open-inner-quote">â</term><term name="close-inner-quote">â</term><term name="page-range-delimiter">â</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fÃ¼nfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>Buch</single><multiple>BÃ¼cher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>BlÃ¤tter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>AbsÃ¤tze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub-verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>BÃ¤nde</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">B.</term><term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>Â¶</single><multiple>Â¶Â¶</multiple></term><term name="section" form="symbol"><single>Â§</single><multiple>Â§Â§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Ãbersetzer</single><multiple>Ãbersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Ãbersetzer</single><multiple>Herausgeber&#160;&amp; Ãbersetzer</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Ãbers.</single><multiple>Ãbers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Ãbers.</single><multiple>Hrsg.&#160;&amp; Ãbers.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">Ã¼bersetzt von</term><term name="editortranslator" form="verb">herausgegeben und Ã¼bersetzt von</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">Ã¼bers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; Ã¼bers. von</term>
<!-- LONG MONTH FORMS --><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">MÃ¤rz</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">MÃ¤rz</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term>
<!-- SEASONS --><term name="season-01">FrÃ¼hjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms>
</locale>
`,"es-ES":`<?xml version="1.0" encoding="utf-8"?>
<locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><translator><name>javimat</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="advance-online-publication">advance online publication</term><term name="album">album</term><term name="audio-recording">audio recording</term><term name="film">film</term><term name="henceforth">henceforth</term><term name="loc-cit">loc. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="no-place">no place</term><term name="no-place" form="short">n.p.</term><term name="no-publisher">no publisher</term> <!-- sine nomine --><term name="no-publisher" form="short">n.p.</term><term name="on">on</term><term name="op-cit">op. cit.</term> <!-- like ibid., the abbreviated form is the regular form  --><term name="original-work-published">original work published</term><term name="personal-communication">comunicaciÃ³n personal</term><term name="podcast">podcast</term><term name="podcast-episode">podcast episode</term><term name="preprint">preprint</term><term name="radio-broadcast">radio broadcast</term><term name="radio-series">radio series</term><term name="radio-series-episode">radio series episode</term><term name="special-issue">special issue</term><term name="special-section">special section</term><term name="television-broadcast">television broadcast</term><term name="television-series">television series</term><term name="television-series-episode">television series episode</term><term name="video">video</term><term name="working-paper">working paper</term><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anÃ³nimo</term><term name="anonymous" form="short">anÃ³n.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>ediciÃ³n</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en lÃ­nea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versiÃ³n</term>
<!-- LONG ITEM TYPE FORMS --><term name="article">preprint</term><term name="article-journal">journal article</term><term name="article-magazine">magazine article</term><term name="article-newspaper">newspaper article</term><term name="bill">bill</term><term name="book">book</term><term name="broadcast">broadcast</term><term name="chapter">book chapter</term><term name="classic">classic</term><term name="collection">collection</term><term name="dataset">dataset</term><term name="document">document</term><term name="entry">entry</term><term name="entry-dictionary">dictionary entry</term><term name="entry-encyclopedia">encyclopedia entry</term><term name="event">event</term><!-- figure is in the list of locator terms --><term name="graphic">graphic</term><term name="hearing">hearing</term><term name="interview">interview</term><term name="legal_case">legal case</term><term name="legislation">legislation</term><term name="manuscript">manuscript</term><term name="map">map</term><term name="motion_picture">video recording</term><term name="musical_score">musical score</term><term name="pamphlet">pamphlet</term><term name="paper-conference">conference paper</term><term name="patent">patent</term><term name="performance">performance</term><term name="periodical">periodical</term><term name="personal_communication">comunicaciÃ³n personal</term><term name="post">post</term><term name="post-weblog">blog post</term><term name="regulation">regulation</term><term name="report">report</term><term name="review">review</term><term name="review-book">book review</term><term name="software">software</term><term name="song">audio recording</term><term name="speech">presentation</term><term name="standard">standard</term><term name="thesis">thesis</term><term name="treaty">treaty</term><term name="webpage">webpage</term>
<!-- SHORT ITEM TYPE FORMS --><term name="article-journal" form="short">journal art.</term><term name="article-magazine" form="short">mag. art.</term><term name="article-newspaper" form="short">newspaper art.</term><term name="book" form="short">bk.</term><term name="chapter" form="short">bk. chap.</term><term name="document" form="short">doc.</term><!-- figure is in the list of locator terms --><term name="graphic" form="short">graph.</term><term name="interview" form="short">interv.</term><term name="manuscript" form="short">MS</term><term name="motion_picture" form="short">video rec.</term><term name="report" form="short">rep.</term><term name="review" form="short">rev.</term><term name="review-book" form="short">bk. rev.</term><term name="song" form="short">audio rec.</term>
<!-- HISTORICAL ERA TERMS --><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="bce">BCE</term><term name="ce">CE</term>
<!-- PUNCTUATION --><term name="open-quote">Â«</term><term name="close-quote">Â»</term><term name="open-inner-quote">â</term><term name="close-inner-quote">â</term><term name="page-range-delimiter">-</term><term name="colon">:</term><term name="comma">,</term><term name="semicolon">;</term>
<!-- ORDINALS --><term name="ordinal">.Âª</term>
<!-- LONG ORDINALS --><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">sÃ©ptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">dÃ©cima</term>
<!-- LONG LOCATOR FORMS --><term name="act">			 <single>act</single><multiple>acts</multiple>						 </term><term name="appendix">			 <single>appendix</single><multiple>appendices</multiple>						 </term><term name="article-locator">			 <single>article</single><multiple>articles</multiple>						 </term><term name="canon">			 <single>canon</single><multiple>canons</multiple>						 </term><term name="elocation">			 <single>location</single><multiple>locations</multiple>						 </term><term name="equation">			 <single>equation</single><multiple>equations</multiple>						 </term><term name="rule">			 <single>rule</single><multiple>rules</multiple>						 </term><term name="scene">			 <single>scene</single><multiple>scenes</multiple>						 </term><term name="table">			 <single>table</single><multiple>tables</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>title</single><multiple>titles</multiple>						 </term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capÃ­tulo</single><multiple>capÃ­tulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>nÃºmero</single><multiple>nÃºmeros</multiple></term><term name="line"><single>lÃ­nea</single><multiple>lÃ­neas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pÃ¡gina</single><multiple>pÃ¡ginas</multiple></term><term name="number-of-pages"><single>pÃ¡gina</single><multiple>pÃ¡ginas</multiple></term><term name="paragraph"><single>pÃ¡rrafo</single><multiple>pÃ¡rrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>secciÃ³n</single><multiple>secciones</multiple></term><term name="sub-verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volÃºmenes</multiple></term>
<!-- SHORT LOCATOR FORMS --><term name="appendix">			 <single>app.</single><multiple>apps.</multiple>						 </term><term name="article-locator">			 <single>art.</single><multiple>arts.</multiple></term><term name="elocation">			 <single>loc.</single><multiple>locs.</multiple></term><term name="equation">			 <single>eq.</single><multiple>eqs.</multiple></term><term name="rule">			 <single>r.</single><multiple>rr.</multiple>						 </term><term name="scene">			 <single>sc.</single><multiple>scs.</multiple>						 </term><term name="table">			 <single>tbl.</single><multiple>tbls.</multiple>						 </term><term name="timestamp"> <!-- generally blank --><single></single><multiple></multiple>						 </term><term name="title-locator">			 <single>tit.</single><multiple>tits.</multiple></term><term name="book" form="short">lib.</term><term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.Âº</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">pÃ¡rr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub-verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term>
<!-- SYMBOL LOCATOR FORMS --><term name="paragraph" form="symbol"><single>Â§</single><multiple>Â§</multiple></term><term name="section" form="symbol"><single>Â§</single><multiple>Â§</multiple></term>
<!-- LONG ROLE FORMS --><term name="chair"><single>chair</single><multiple>chairs</multiple></term><term name="compiler"><single>compiler</single><multiple>compilers</multiple></term><term name="contributor"><single>contributor</single><multiple>contributors</multiple></term><term name="curator"><single>curator</single><multiple>curators</multiple></term><term name="executive-producer"><single>executive producer</single><multiple>executive producers</multiple></term><term name="guest"><single>guest</single><multiple>guests</multiple></term><term name="host"><single>host</single><multiple>hosts</multiple></term><term name="narrator"><single>narrator</single><multiple>narrators</multiple></term><term name="organizer"><single>organizer</single><multiple>organizers</multiple></term><term name="performer"><single>performer</single><multiple>performers</multiple></term><term name="producer"><single>producer</single><multiple>producers</multiple></term><term name="script-writer"><single>writer</single><multiple>writers</multiple></term><term name="series-creator"><single>series creator</single><multiple>series creators</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>
<!-- SHORT ROLE FORMS --><term name="compiler" form="short"><single>comp.</single><multiple>comps.</multiple></term><term name="contributor" form="short"><single>contrib.</single><multiple>contribs.</multiple></term><term name="curator" form="short"><single>cur.</single><multiple>curs.</multiple></term><term name="executive-producer" form="short"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name="narrator" form="short"><single>narr.</single><multiple>narrs.</multiple></term><term name="organizer" form="short"><single>org.</single><multiple>orgs.</multiple></term><term name="performer" form="short"><single>perf.</single><multiple>perfs.</multiple></term><term name="producer" form="short"><single>prod.</single><multiple>prods.</multiple></term><term name="script-writer" form="short"><single>writ.</single><multiple>writs.</multiple></term><term name="series-creator" form="short"><single>cre.</single><multiple>cres.</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>
<!-- VERB ROLE FORMS --><term name="chair" form="verb">chaired by</term><term name="compiler" form="verb">compiled by</term><term name="contributor" form="verb">with</term><term name="curator" form="verb">curated by</term><term name="executive-producer" form="verb">executive produced by</term><term name="guest" form="verb">with guest</term><term name="host" form="verb">hosted by</term><term name="narrator" form="verb">narrated by</term><term name="organizer" form="verb">organized by</term><term name="performer" form="verb">performed by</term><term name="producer" form="verb">produced by</term><term name="script-writer" form="verb">written by</term><term name="series-creator" form="verb">created by</term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term>
<!-- SHORT VERB ROLE FORMS --><term name="compiler" form="verb-short">comp. by</term><term name="contributor" form="verb-short">w.</term><term name="curator" form="verb-short">cur. by</term><term name="executive-producer" form="verb-short">exec. prod. by</term><term name="guest" form="verb-short">w. guest</term><term name="host" form="verb-short">hosted by</term><term name="narrator" form="verb-short">narr. by</term><term name="organizer" form="verb-short">org. by</term><term name="performer" form="verb-short">perf. by</term><term name="producer" form="verb-short">prod. by</term><term name="script-writer" form="verb-short">writ. by</term><term name="series-creator" form="verb-short">cre. by</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term>
<!-- LONG MONTH FORMS --><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term>
<!-- SHORT MONTH FORMS --><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dic.</term>
<!-- SEASONS --><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoÃ±o</term><term name="season-04">invierno</term></terms>
</locale>
`},Wi=new Ws(r2),i2=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never" page-range-format="expanded"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://www.zotero.org/styles/apa-6th-edition" rel="template"/><link href="https://apastyle.apa.org/style-grammar-guidelines/references/examples" rel="documentation"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2022-01-31T14:43:56+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short">trans.</term><term name="interviewer" form="short"><single>interviewer</single><multiple>interviewers</multiple></term><term name="collection-editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="circa" form="short">ca.</term><term name="bc"> B.C.E.</term><term name="ad"> C.E.</term><term name="letter">personal communication</term><term name="letter" form="short">letter</term><term name="issue" form="long"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang="af"><terms><term name="letter">persoonlike kommunikasie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="ar"><terms><term name="letter">Ø§ØªØµØ§Ù Ø´Ø®ØµÙ</term><term name="letter" form="short">Ø®Ø·Ø§Ø¨</term></terms></locale><locale xml:lang="bg"><terms><term name="letter">Ð»Ð¸ÑÐ½Ð° ÐºÐ¾Ð¼ÑÐ½Ð¸ÐºÐ°ÑÐ¸Ñ</term><term name="letter" form="short">Ð¿Ð¸ÑÐ¼Ð¾</term></terms></locale><locale xml:lang="ca"><terms><term name="letter">comunicaciÃ³ personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="cs"><terms><term name="letter">osobnÃ­ komunikace</term><term name="letter" form="short">dopis</term></terms></locale><locale xml:lang="cy"><terms><term name="letter">cyfathrebu personol</term><term name="letter" form="short">llythyr</term></terms></locale><locale xml:lang="da"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="de"><terms><term name="et-al">et al.</term><term name="letter">persÃ¶nliche Kommunikation</term><term name="letter" form="short">Brief</term></terms></locale><locale xml:lang="el"><terms><term name="letter">ÏÏÎ¿ÏÏÏÎ¹ÎºÎ® ÎµÏÎ¹ÎºÎ¿Î¹Î½ÏÎ½Î¯Î±</term><term name="letter" form="short">ÎµÏÎ¹ÏÏÎ¿Î»Î®</term></terms></locale><locale xml:lang="es"><terms><term name="from">de</term><term name="letter">comunicaciÃ³n personal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="et"><terms><term name="letter">isiklik suhtlus</term><term name="letter" form="short">kiri</term></terms></locale><locale xml:lang="eu"><terms><term name="letter">komunikazio pertsonala</term><term name="letter" form="short">gutuna</term></terms></locale><locale xml:lang="fa"><terms><term name="letter">Ø§Ø±ØªØ¨Ø§Ø· Ø´Ø®ØµÛ</term><term name="letter" form="short">ÙØ§ÙÙ</term></terms></locale><locale xml:lang="fi"><terms><term name="letter">henkilÃ¶kohtainen viestintÃ¤</term><term name="letter" form="short">kirje</term></terms></locale><locale xml:lang="fr"><terms><term name="letter">communication personnelle</term><term name="letter" form="short">lettre</term><term name="editor" form="short"><single>Ã©d.</single><multiple>Ã©ds.</multiple></term></terms></locale><locale xml:lang="he"><terms><term name="letter">×ª×§×©××¨×ª ×××©××ª</term><term name="letter" form="short">×××ª×</term></terms></locale><locale xml:lang="hr"><terms><term name="letter">osobna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="hu"><terms><term name="letter">szemÃ©lyes kommunikÃ¡ciÃ³</term><term name="letter" form="short">levÃ©l</term></terms></locale><locale xml:lang="id"><terms><term name="letter">komunikasi pribadi</term><term name="letter" form="short">surat</term></terms></locale><locale xml:lang="is"><terms><term name="letter">persÃ³nuleg samskipti</term><term name="letter" form="short">brÃ©f</term></terms></locale><locale xml:lang="it"><terms><term name="letter">comunicazione personale</term><term name="letter" form="short">lettera</term></terms></locale><locale xml:lang="ja"><terms><term name="letter">åäººçãªããåã</term><term name="letter" form="short">æç´</term></terms></locale><locale xml:lang="ko"><terms><term name="letter">ê°ì¸ ìì </term><term name="letter" form="short">í¸ì§</term></terms></locale><locale xml:lang="la"><terms><term name="letter"/><term name="letter" form="short">epistula</term></terms></locale><locale xml:lang="lt"><terms><term name="letter">communicationis personalis</term><term name="letter" form="short"/></terms></locale><locale xml:lang="lv"><terms><term name="letter">personÄ«ga komunikÄcija</term><term name="letter" form="short">vÄstule</term></terms></locale><locale xml:lang="mn"><terms><term name="letter">ÑÑÐ²Ð¸Ð¹Ð½ ÑÐ°ÑÐ¸Ð»ÑÐ°Ð° ÑÐ¾Ð»Ð±Ð¾Ð¾</term><term name="letter" form="short">Ð·Ð°ÑÐ¸Ð°</term></terms></locale><locale xml:lang="nb"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="nl"><terms><term name="et-al">et al.</term><term name="letter">persoonlijke communicatie</term><term name="letter" form="short">brief</term></terms></locale><locale xml:lang="nn"><terms><term name="et-al">et al.</term><term name="letter">personlig kommunikasjon</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="pl"><terms><term name="letter">osobista komunikacja</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="pt"><terms><term name="letter">comunicaÃ§Ã£o pessoal</term><term name="letter" form="short">carta</term></terms></locale><locale xml:lang="ro"><terms><term name="letter">comunicare personalÄ</term><term name="letter" form="short">scrisoare</term></terms></locale><locale xml:lang="ru"><terms><term name="letter">Ð»Ð¸ÑÐ½Ð°Ñ Ð¿ÐµÑÐµÐ¿Ð¸ÑÐºÐ°</term><term name="letter" form="short">Ð¿Ð¸ÑÑÐ¼Ð¾</term></terms></locale><locale xml:lang="sk"><terms><term name="letter">osobnÃ¡ komunikÃ¡cia</term><term name="letter" form="short">list</term></terms></locale><locale xml:lang="sl"><terms><term name="letter">osebna komunikacija</term><term name="letter" form="short">pismo</term></terms></locale><locale xml:lang="sr"><terms><term name="letter">Ð»Ð¸ÑÐ½Ð° ÐºÐ¾Ð¼ÑÐ½Ð¸ÐºÐ°ÑÐ¸ÑÐ°</term><term name="letter" form="short">Ð¿Ð¸ÑÐ¼Ð¾</term></terms></locale><locale xml:lang="sv"><terms><term name="letter">personlig kommunikation</term><term name="letter" form="short">brev</term></terms></locale><locale xml:lang="th"><terms><term name="letter">à¸à¸²à¸£à¸ªà¸·à¹à¸­à¸ªà¸²à¸£à¸ªà¹à¸§à¸à¸à¸¸à¸à¸à¸¥</term><term name="letter" form="short">à¸à¸à¸«à¸¡à¸²à¸¢</term></terms></locale><locale xml:lang="tr"><terms><term name="letter">kiÅisel iletiÅim</term><term name="letter" form="short">mektup</term></terms></locale><locale xml:lang="uk"><terms><term name="letter">Ð¾ÑÐ¾Ð±Ð¸ÑÑÐµ ÑÐ¿ÑÐ»ÐºÑÐ²Ð°Ð½Ð½Ñ</term><term name="letter" form="short">Ð»Ð¸ÑÑ</term></terms></locale><locale xml:lang="vi"><terms><term name="letter">giao tiáº¿p cÃ¡ nhÃ¢n</term><term name="letter" form="short">thÆ°</term></terms></locale><locale xml:lang="zh-CN"><terms><term name="letter">çç§äººäº¤æµ</term><term name="letter" form="short">ä¿¡å½</term></terms></locale><locale xml:lang="zh-TW"><terms><term name="letter">ç§äººéè¨</term><term name="letter" form="short">ä¿¡å½</term></terms></locale><!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--><!-- APA references contain four parts: author, date, title, source --><macro name="author-bib"><names variable="composer" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></if></choose></if></choose><!-- Test for editortranslator and put that first as that becomes available --><names variable="editor" delimiter=", "><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="editorial-director"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><names variable="collection-editor"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="title"/></names><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/></group></if><else><text macro="title-and-descriptions"/></else></choose></substitute></names></macro><macro name="author-intext"><choose><if type="bill legal_case legislation treaty" match="any"><text macro="title-intext"/></if><else-if type="interview personal_communication" match="any"><choose><!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --><if variable="archive container-title DOI publisher URL" match="none"><group delimiter=", "><names variable="author"><name and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names><!-- Replace with term="personal-communication" if that becomes available --><text term="letter"/></group></if><else><names variable="author" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><text macro="title-intext"/></substitute></names></else></choose></else-if><else><names variable="composer" delimiter=", "><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="author"/><names variable="illustrator"/><names variable="director"/><choose><if variable="container-title"><choose><if type="book entry entry-dictionary entry-encyclopedia" match="any"><text macro="title-intext"/></if></choose></if></choose><names variable="editor"/><names variable="editorial-director"/><text macro="title-intext"/></substitute></names></else></choose></macro><macro name="date-bib"><group delimiter=" " prefix="(" suffix=")"><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage" match="any"><!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if><else-if type="paper-conference"><!-- Capture 'speech' stored as 'paper-conference' --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></if></choose></else-if><!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --></choose></if><else-if variable="status"><group><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></group></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></group></group></macro><macro name="date-sort-group"><!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --><choose><if variable="issued"><text value="1"/></if><else-if variable="status"><text value="2"/></else-if><else><text value="0"/></else></choose></macro><macro name="date-sort-date"><date variable="issued" form="numeric"/></macro><macro name="date-intext"><choose><if variable="issued"><group delimiter="/"><group delimiter=" "><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group><group delimiter=" "><choose><if is-uncertain-date="issued"><text term="circa" form="short"/></if></choose><group><choose><if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --><date variable="issued" form="text"/></if><else><date variable="issued"><date-part name="year"/></date></else></choose></if><else><date variable="issued"><date-part name="year"/></date></else></choose><text variable="year-suffix"/></group></group></group></if><else-if variable="status"><text variable="status" text-case="lowercase"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --><macro name="title-and-descriptions"><choose><if variable="title"><group delimiter=" "><text macro="title"/><text macro="parenthetical"/><text macro="bracketed"/></group></if><else><group delimiter=" "><text macro="bracketed"/><text macro="parenthetical"/></group></else></choose></macro><macro name="title"><choose><if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" font-style="italic"/></if><else-if variable="container-title" match="any"><!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --><text variable="title"/></else-if><else><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text variable="title" font-style="italic"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></if><else><text variable="title" font-style="italic"/></else></choose></else-if><else><group delimiter=": " font-style="italic"><text variable="title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></else></choose></else></choose></macro><macro name="title-intext"><choose><if variable="title" match="none"><text macro="bracketed-intext" prefix="[" suffix="]"/></if><else-if type="bill"><!-- If a bill has no number or container-title, assume it is a hearing; italic --><choose><if variable="number container-title" match="none"><text variable="title" form="short" font-style="italic" text-case="title"/></if><else-if variable="title"><text variable="title" form="short" text-case="title"/></else-if><else><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group></else></choose></else-if><else-if type="legal_case" match="any"><!-- Cases are italicized --><text variable="title" font-style="italic"/></else-if><else-if type="legislation treaty" match="any"><!-- Legislation and treaties not italicized or quoted --><text variable="title" form="short" text-case="title"/></else-if><else-if type="post webpage" match="any"><!-- Webpages are always italicized --><text variable="title" form="short" font-style="italic" text-case="title"/></else-if><else-if variable="container-title" match="any"><!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --><text variable="title" form="short" quotes="true" text-case="title"/></else-if><else><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="parenthetical"><!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --><group prefix="(" suffix=")"><choose><if type="patent"><!-- authority: U.S. ; genre: patent ; number: 123,445 --><group delimiter=" "><text variable="authority" form="short"/><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else><!-- This should be localized --><text value="patent" text-case="capitalize-first"/></else></choose><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></group></if><else-if type="post webpage" match="any"><!-- For post webpage, container-title is treated as publisher --><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else-if><else-if variable="container-title"><group delimiter="; "><text macro="secondary-contributors"/><choose><if type="broadcast graphic map motion_picture song" match="any"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose></group></else-if><else><group delimiter="; "><text macro="secondary-contributors"/><text macro="database-location"/><text macro="number"/><text macro="locators-booklike"/></group></else></choose></group></macro><macro name="parenthetical-container"><choose><if variable="container-title" match="any"><group prefix="(" suffix=")"><group delimiter="; "><text macro="database-location"/><choose><if type="broadcast graphic map motion_picture song" match="none"><!-- For audiovisual media, number information comes after title, not container-title --><text macro="number"/></if></choose><text macro="locators-booklike"/></group></group></if></choose></macro><macro name="bracketed"><!-- [Descriptive information] --><!-- If there is a number, genre is already printed in macro="number" --><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- Reviewed item --><group delimiter="; "><group delimiter=", "><group delimiter=" "><!-- Assume that genre is entered as 'Review of the book' or similar --><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><!-- Replace with term="review" as that becomes available --><text value="Review of"/></else></choose></else></choose><text macro="reviewed-title"/></group><names variable="reviewed-author"><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else-if type="thesis"><!-- Thesis type and institution --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=", "><text variable="genre" text-case="capitalize-first"/><choose><if variable="archive DOI URL" match="any"><!-- Include the university in brackets if thesis is published --><text variable="publisher"/></if></choose></group></if></choose><text variable="medium" text-case="capitalize-first"/></group></else-if><else-if variable="interviewer" type="interview" match="any"><!-- Interview information --><choose><if variable="title"><text macro="format"/></if><else-if variable="genre"><group delimiter="; "><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><group delimiter=" "><text term="author" form="verb"/><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></group></else-if><else-if variable="interviewer"><group delimiter="; "><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/></names><text variable="medium" text-case="capitalize-first"/></group></else-if><else><text macro="format"/></else></choose></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter="; "><group delimiter=" "><choose><if variable="number" match="none"><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></if><else><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></if><else><text macro="format"/></else></choose></else-if><else-if variable="composer" type="song" match="all"><!-- Performer of classical music works --><group delimiter="; "><choose><if variable="number" match="none"><group delimiter=" "><choose><if variable="genre"><text variable="genre" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else-if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></if><else><group delimiter=" "><choose><if variable="medium"><text variable="medium" text-case="capitalize-first"/><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></if><else><!-- Replace prefix with performer label as that becomes available --><names variable="author" prefix="Recorded by "><name and="symbol" initialize-with=". " delimiter=", "/></names></else></choose></group></else></choose><choose><if variable="genre" match="any"><choose><if variable="number" match="none"><text variable="medium" text-case="capitalize-first"/></if></choose></if></choose></group></else-if><else-if variable="container-title" match="none"><!-- Other description --><text macro="format"/></else-if><else><!-- For conference presentations, chapters in reports, software, place bracketed after the container title --><choose><if type="paper-conference speech" match="any"><choose><if variable="collection-editor editor editorial-director issue page volume" match="any"><text macro="format"/></if></choose></if><else-if type="book"><choose><if variable="version" match="none"><text macro="format"/></if></choose></else-if><else-if type="report" match="none"><text macro="format"/></else-if></choose></else></choose></group></macro><macro name="bracketed-intext"><group prefix="[" suffix="]"><choose><if variable="reviewed-author reviewed-title" type="review review-book" match="any"><!-- This should be localized --><text macro="reviewed-title-intext" prefix="Review of "/></if><else-if variable="interviewer" type="interview" match="any"><names variable="interviewer"><label form="verb" suffix=" " text-case="capitalize-first"/><name and="symbol" initialize-with=". " delimiter=", "/><substitute><text macro="format-intext"/></substitute></names></else-if><else-if type="personal_communication"><!-- Letter information --><choose><if variable="recipient"><group delimiter=" "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if><else><text term="letter" form="short" text-case="capitalize-first"/></else></choose><names variable="recipient" delimiter=", "><label form="verb" suffix=" "/><name and="symbol" delimiter=", "/></names></group></if><else><text macro="format-intext"/></else></choose></else-if><else><text macro="format-intext"/></else></choose></group></macro><macro name="bracketed-container"><group prefix="[" suffix="]"><choose><if type="paper-conference speech" match="any"><!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><text macro="format"/></if></choose></if><else-if type="book" variable="version" match="all"><!-- For entries in mobile app reference works, place bracketed after the container-title --><text macro="format"/></else-if><else-if type="report"><!-- For chapters in reports, place bracketed after the container title --><text macro="format"/></else-if></choose></group></macro><macro name="secondary-contributors"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><text macro="secondary-contributors-periodical"/></if><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><text macro="secondary-contributors-booklike"/></if><else><text macro="secondary-contributors-periodical"/></else></choose></else-if><else><text macro="secondary-contributors-booklike"/></else></choose></macro><macro name="secondary-contributors-periodical"><group delimiter="; "><choose><if variable="title"><names variable="interviewer" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><names variable="translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></macro><macro name="secondary-contributors-booklike"><group delimiter="; "><choose><if variable="title"><names variable="interviewer"><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></if></choose><!-- When editortranslator becomes available, add a test: variable="editortranslator" match="none"; then print translator --><choose><if type="post webpage" match="none"><!-- Webpages treat container-title like publisher --><choose><if variable="container-title" match="none"><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></if><else><group delimiter="; "><names variable="container-author"><label form="verb-short" suffix=" " text-case="title"/><name and="symbol" initialize-with=". " delimiter=", "/></names><names variable="editor translator" delimiter="; "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></else></choose></group></macro><macro name="database-location"><choose><if variable="archive-place" match="none"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- Add archive_collection as that becomes available --><text variable="archive_location"/></if></choose></macro><macro name="number"><choose><if variable="number"><group delimiter=", "><group delimiter=" "><text variable="genre" text-case="title"/><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></if><else><text variable="number"/></else></choose></group><choose><if type="thesis"><choose><!-- Include the university in brackets if thesis is published --><if variable="archive DOI URL" match="any"><text variable="publisher"/></if></choose></if></choose></group></if></choose></macro><macro name="locators-booklike"><choose><if type="article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage" match="any"/><else-if type="paper-conference"><choose><if variable="collection-editor editor editorial-director" match="any"><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></if></choose></else-if><else><group delimiter=", "><text macro="version"/><text macro="edition"/><text macro="volume-booklike"/></group></else></choose></macro><macro name="version"><choose><if is-numeric="version"><group delimiter=" "><!-- replace with label variable="version" if that becomes available --><text term="version" text-case="capitalize-first"/><text variable="version"/></group></if><else><text variable="version"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><label variable="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="volume-booklike"><group delimiter=", "><!-- Report series [ex. 52] --><choose><if type="report"><group delimiter=" "><text variable="collection-title" text-case="title"/><text variable="collection-number"/></group></if></choose><choose><if variable="volume" match="any"><choose><!-- Non-numeric volumes are already printed as part of the book title --><if is-numeric="volume" match="none"/><else><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><number variable="volume" form="numeric"/></group></else></choose></if><else><group><!-- Replace with label variable="number-of-volumes" if that becomes available --><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><text term="page-range-delimiter" prefix="1"/><number variable="number-of-volumes" form="numeric"/></group></else></choose><group delimiter=" "><label variable="issue" text-case="capitalize-first"/><text variable="issue"/></group><group delimiter=" "><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></macro><macro name="reviewed-title"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" font-style="italic"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" font-style="italic"/></else></choose></macro><macro name="reviewed-title-intext"><choose><if variable="reviewed-title"><!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --><text variable="reviewed-title" form="short" font-style="italic" text-case="title"/></if><else><!-- Assume title is title of reviewed work --><text variable="title" form="short" font-style="italic" text-case="title"/></else></choose></macro><macro name="format"><choose><if variable="genre medium" match="any"><group delimiter="; "><choose><if variable="number" match="none"><text variable="genre" text-case="capitalize-first"/></if></choose><text variable="medium" text-case="capitalize-first"/></group></if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><macro name="format-intext"><choose><if variable="genre" match="any"><text variable="genre" text-case="capitalize-first"/></if><else-if variable="medium"><text variable="medium" text-case="capitalize-first"/></else-if><!-- Generic labels for specific types --><!-- These should be localized when possible --><else-if type="dataset"><text value="Data set"/></else-if><else-if type="book" variable="version" match="all"><!-- Replace with type="software" and term="software" as that becomes available --><text value="Computer software"/></else-if><else-if type="interview personal_communication" match="any"><choose><if variable="archive container-title DOI publisher URL" match="none"><text term="letter" text-case="capitalize-first"/></if><else-if type="interview"><text term="interview" text-case="capitalize-first"/></else-if></choose></else-if><else-if type="map"><text value="Map"/></else-if></choose></macro><!-- APA 'source' element contains four parts:container, event, publisher, access --><macro name="container"><choose><if type="article-journal article-magazine article-newspaper post-weblog review review-book" match="any"><!-- Periodical items --><text macro="container-periodical"/></if><else-if type="paper-conference"><!-- Determine if paper-conference is a periodical or booklike --><choose><if variable="editor editorial-director collection-editor container-author" match="any"><text macro="container-booklike"/></if><else><text macro="container-periodical"/></else></choose></else-if><else-if type="post webpage" match="none"><!-- post and webpage treat container-title like publisher --><text macro="container-booklike"/></else-if></choose></macro><macro name="container-periodical"><group delimiter=". "><group delimiter=", "><text variable="container-title" font-style="italic" text-case="title"/><choose><if variable="volume"><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group></if><else><text variable="issue" font-style="italic"/></else></choose><choose><if variable="page"><text variable="page"/></if><else><!-- Ex. 6: Journal article with article number or eLocator --><!-- This should be localized --><text variable="number" prefix="Article "/></else></choose></group><choose><if variable="issued"><choose><if variable="issue page volume" match="none"><text variable="status" text-case="capitalize-first"/></if></choose></if></choose></group></macro><macro name="container-booklike"><choose><if variable="container-title" match="any"><group delimiter=" "><text term="in" text-case="capitalize-first"/><group delimiter=", "><names variable="editor translator" delimiter=", &amp; "><!-- Change to editortranslator and move editor to substitute as that becomes available --><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" text-case="title" prefix=" (" suffix=")"/><substitute><names variable="editorial-director"/><names variable="collection-editor"/><names variable="container-author"/></substitute></names><group delimiter=": " font-style="italic"><text variable="container-title"/><!-- Replace with volume-title as that becomes available --><choose><if is-numeric="volume" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose></group></group><text macro="parenthetical-container"/><text macro="bracketed-container"/></group></if></choose></macro><macro name="publisher"><group delimiter="; "><choose><if type="thesis"><choose><if variable="archive DOI URL" match="none"><text variable="publisher"/></if></choose></if><else-if type="post webpage" match="any"><!-- For websites, treat container title like publisher --><group delimiter="; "><text variable="container-title" text-case="title"/><text variable="publisher"/></group></else-if><else-if type="paper-conference"><!-- For paper-conference, don't print publisher if in a journal-like proceedings --><choose><if variable="collection-editor editor editorial-director" match="any"><text variable="publisher"/></if></choose></else-if><else-if type="article-journal article-magazine article-newspaper post-weblog" match="none"><text variable="publisher"/></else-if></choose><group delimiter=", "><choose><if variable="archive-place"><!-- With \`archive-place\`: physical archives. Without: online archives. --><!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro="description". --><!-- Split "archive_location" into "archive_collection" and "archive_location" as that becomes available --><!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--><text variable="archive_location"/></if></choose><text variable="archive"/><text variable="archive-place"/></group></group></macro><macro name="access"><choose><if variable="DOI" match="any"><text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="URL"><group delimiter=" "><choose><if variable="issued status" match="none"><group delimiter=" "><text term="retrieved" text-case="capitalize-first"/><date variable="accessed" form="text" suffix=","/><text term="from"/></group></if></choose><text variable="URL"/></group></else-if></choose></macro><macro name="event"><choose><if variable="event"><!-- To prevent Zotero from printing event-place due to its double-mapping of all 'place' toboth publisher-place and event-place. Remove this 'choose' when that is changed. --><choose><if variable="collection-editor editor editorial-director issue page volume" match="none"><!-- Don't print event info if published in a proceedings --><group delimiter=", "><text variable="event"/><text variable="event-place"/></group></if></choose></if></choose></macro><!-- After 'source', APA also prints publication history (original publication, reprint info, retraction info) --><macro name="publication-history"><choose><if type="patent" match="none"><group prefix="(" suffix=")"><choose><if variable="references"><!-- This provides the option for more elaborate description of publication history, such as full "reprinted" references(examples 11, 43, 44) or retracted references --><text variable="references"/></if><else><group delimiter=" "><text value="Original work published"/><choose><if is-uncertain-date="original-date"><text term="circa" form="short"/></if></choose><date variable="original-date"><date-part name="year"/></date></group></else></choose></group></if><else><text variable="references" prefix="(" suffix=")"/></else></choose></macro><!-- Legal citations have their own rules --><macro name="legal-cites"><choose><if type="legal_case"><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/></group><text variable="references"/></group><text macro="access"/></group></if><else-if type="bill"><!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --><group delimiter=". "><group delimiter=", "><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><choose><if variable="number container-title" match="none"><!-- If no number or container-title, then assume it is a hearing --><names variable="author" prefix="(testimony of " suffix=")"><name and="symbol" delimiter=", "/></names></if><else><text variable="status" prefix="(" suffix=")"/></else></choose></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="legislation"><!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --><group delimiter=". "><group delimiter=", "><text variable="title"/><group delimiter=" "><text macro="container-legal"/><text macro="date-legal"/><text variable="status" prefix="(" suffix=")"/></group><text variable="references"/></group><text macro="access"/></group></else-if><else-if type="treaty"><!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --><group delimiter=", "><text variable="title" text-case="title"/><names variable="author"><name initialize-with="." form="short" delimiter="-"/></names><text macro="date-legal"/><text macro="container-legal"/><text macro="access"/></group></else-if></choose></macro><macro name="date-legal"><choose><if type="legal_case"><group prefix="(" suffix=")" delimiter=" "><text variable="authority"/><choose><if variable="container-title" match="any"><!-- Print only year for cases published in reporters--><date variable="issued" form="numeric" date-parts="year"/></if><else><date variable="issued" form="text"/></else></choose></group></if><else-if type="bill legislation" match="any"><group prefix="(" suffix=")" delimiter=" "><group delimiter=" "><date variable="original-date"><date-part name="year"/></date><text term="and" form="symbol"/></group><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="treaty"><date variable="issued" form="text"/></else-if></choose></macro><macro name="container-legal"><!-- Expect legal item container-titles to be stored in short form --><choose><if type="legal_case"><group delimiter=" "><choose><if variable="container-title"><group delimiter=" "><text variable="volume"/><text variable="container-title"/><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><text value="___"/></else></choose></group></if><else><group delimiter=" "><choose><if is-numeric="number"><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/></if></choose><text variable="number"/></group></else></choose></group></if><else-if type="bill"><group delimiter=", "><group delimiter=" "><text variable="genre"/><group delimiter=" "><choose><if variable="chapter-number container-title" match="none"><!-- Replace with label variable="number" as that becomes available --><text term="issue" form="short"/></if></choose><text variable="number"/></group></group><text variable="authority"/><text variable="chapter-number"/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></else-if><else-if type="legislation"><choose><if variable="number"><!--There's a public law number--><group delimiter=", "><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text variable="volume"/><text variable="container-title"/><text variable="page-first"/></group></group></if><else><group delimiter=" "><text variable="volume"/><text variable="container-title"/><choose><if variable="section"><group delimiter=" "><!-- Change to label variable="section" as that becomes available --><text term="section" form="symbol"/><text variable="section"/></group></if><else><text variable="page-first"/></else></choose></group></else></choose></else-if><else-if type="treaty"><group delimiter=" "><number variable="volume"/><text variable="container-title"/><choose><if variable="page page-first" match="any"><text variable="page-first"/></if><else><group delimiter=" "><!-- Replace with label variable="number" if that becomes available --><text term="issue" form="short" text-case="capitalize-first"/><text variable="number"/></group></else></choose></group></else-if></choose></macro><macro name="citation-locator"><group delimiter=" "><choose><if locator="chapter"><label variable="locator" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name-with-initials"><sort><key macro="author-bib" names-min="3" names-use-first="1"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-intext"/><text macro="date-intext"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="21" et-al-use-first="19" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author-bib"/><key macro="date-sort-group"/><key macro="date-sort-date" sort="ascending"/><key variable="status"/><key macro="title"/></sort><layout><choose><if type="bill legal_case legislation treaty" match="any"><!-- Legal items have different orders and delimiters --><choose><if variable="DOI URL" match="any"><text macro="legal-cites"/></if><else><text macro="legal-cites" suffix="."/></else></choose></if><else><group delimiter=" "><group delimiter=". " suffix="."><text macro="author-bib"/><text macro="date-bib"/><text macro="title-and-descriptions"/><text macro="container"/><text macro="event"/><text macro="publisher"/></group><text macro="access"/><text macro="publication-history"/></group></else></choose></layout></bibliography>
</style>
`,n2=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" initialize-with-hyphen="false" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><!--discard publisher info for articles--><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><!--add event-name and event-place once they become available--><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech"><group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number"><sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography>
</style>
`,s2=`<?xml version="1.0" encoding="utf-8"?>
<style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" default-locale="en-GB"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href="http://www.zotero.org/styles/harvard-cite-them-right" rel="self"/><link href="http://www.zotero.org/styles/harvard-cite-them-right-10th-edition" rel="template"/><link href="http://www.citethemrightonline.com/" rel="documentation"/><author><name>Patrick O'Brien</name></author><category citation-format="author-date"/><category field="generic-base"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en-GB"><terms><term name="editor" form="short"><single>ed.</single><multiple>eds</multiple></term><term name="editortranslator" form="verb">edited and translated by</term><term name="edition" form="short">edn.</term></terms></locale><macro name="editor"><choose><if type="chapter paper-conference" match="any"><names variable="container-author" delimiter=", " suffix=", "><name and="text" initialize-with=". " delimiter=", " sort-separator=", " name-as-sort-order="all"/></names><choose><if variable="container-author" match="none"><names variable="editor translator" delimiter=", "><name and="text" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/></names></if></choose></if></choose></macro><macro name="secondary-contributors"><choose><if type="chapter paper-conference" match="none"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with="."/></names></if><else-if variable="container-author" match="any"><names variable="editor translator" delimiter=". "><label form="verb" text-case="capitalize-first" suffix=" "/><name and="text" initialize-with=". " delimiter=", "/></names></else-if></choose></macro><macro name="author"><names variable="author"><name and="text" delimiter-precedes-last="never" initialize-with="." name-as-sort-order="all"/><label form="short" prefix=" (" suffix=")"/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="text" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><et-al font-style="italic"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="article-newspaper article-magazine" match="any"><text variable="container-title" text-case="title" font-style="italic"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="access"><choose><if variable="DOI"><text variable="DOI" prefix="doi:"/></if><else-if variable="URL"><text term="available at" suffix=": " text-case="capitalize-first"/><text variable="URL"/><group prefix=" (" delimiter=": " suffix=")"><text term="accessed" text-case="capitalize-first"/><date form="text" variable="accessed"><date-part name="day"/><date-part name="month"/><date-part name="year"/></date></group></else-if></choose></macro><macro name="number-volumes"><choose><if variable="volume" match="none"><group delimiter=" " prefix="(" suffix=")"><text variable="number-of-volumes"/><label variable="volume" form="short" strip-periods="true"/></group></if></choose></macro><macro name="title"><choose><if type="bill book legal_case legislation motion_picture report song thesis webpage graphic" match="any"><group delimiter=". "><group delimiter=" "><group delimiter=" "><text variable="title" font-style="italic"/><text variable="medium" prefix="[" suffix="]"/></group><text macro="number-volumes"/></group><text macro="edition"/></group></if><else><text variable="title" form="long" quotes="true"/></else></choose></macro><macro name="publisher"><choose><if type="thesis"><group delimiter=". "><text variable="genre"/><text variable="publisher"/></group></if><else-if type="report"><group delimiter=". "><group delimiter=" "><text variable="genre"/><text variable="number"/></group><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group></else-if><else-if type="article-journal article-newspaper article-magazine" match="none"><group delimiter=" "><group delimiter=", "><choose><if type="speech" variable="event" match="any"><text variable="event" font-style="italic"/></if></choose><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></group><group prefix="(" suffix=")" delimiter=", "><text variable="collection-title"/><text variable="collection-number"/></group></group></else-if></choose></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></if><else><text term="no date"/><text variable="year-suffix" prefix=" "/></else></choose></macro><macro name="locator"><choose><if type="article-journal"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="published-date"><choose><if type="article-newspaper article-magazine post-weblog speech" match="any"><date variable="issued"><date-part name="day" suffix=" "/><date-part name="month" form="long"/></date></if></choose></macro><macro name="pages"><choose><if type="chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report" match="any"><group delimiter=" "><label variable="page" form="short"/><text variable="page"/></group></if></choose></macro><macro name="container-title"><choose><if variable="container-title"><group delimiter=". "><group delimiter=" "><text variable="container-title" font-style="italic"/><choose><if type="article article-journal" match="any"><choose><if match="none" variable="page volume"><text value="Preprint" prefix="[" suffix="]"/></if></choose></if></choose></group><text macro="edition"/></group></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short" strip-periods="true"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="container-prefix"><choose><if type="chapter paper-conference" match="any"><text term="in"/></if></choose></macro><citation et-al-min="4" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year"><sort><key macro="year-date"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=", "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short" suffix=" "/><text variable="locator"/></group></group></layout></citation><bibliography and="text" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key macro="year-date"/><key variable="title"/></sort><layout suffix="."><group delimiter=". "><group delimiter=" "><text macro="author"/><text macro="year-date" prefix="(" suffix=")"/><group delimiter=", "><text macro="title"/><group delimiter=" "><text macro="container-prefix"/><text macro="editor"/><text macro="container-title"/></group></group></group><text macro="secondary-contributors"/><text macro="publisher"/></group><group delimiter=", " prefix=", "><text macro="locator"/><text macro="published-date"/><text macro="pages"/></group><text macro="access" prefix=". "/></layout></bibliography>
</style>
`,a2={apa:i2,vancouver:n2,harvard1:s2},Df=new Ws(a2);var Oo,hh;function o2(){if(hh)return Oo;hh=1;var i={PROCESSOR_VERSION:"1.4.61",error:function(e){throw typeof Error>"u"?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){typeof console>"u"?dump("CSL: "+e+`
`):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch{e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch{e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){e.opt.xclass==="note"?(this.depth=0,this.update=function(r){for(var r=r||"",n=r.split(/([\(\)])/),s=1,o=n.length;s<o;s+=2)n[s]==="("?(this.depth%2===1&&(n[s]="["),this.depth+=1):n[s]===")"&&(this.depth%2===0&&(n[s]="]"),this.depth-=1);var l=n.join("");return l}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,r){var n=null;if(e.opt.availableAbbrevDomains&&t&&t!=="default"){var s=e.locale[e.opt.lang].opts["jurisdiction-preference"],o=null;if(e.locale[r]&&(o=e.locale[r].opts["jurisdiction-preference"]),o){for(var l=o.length-1;l>-1;l--)if(e.opt.availableAbbrevDomains[t].indexOf(o[l])>-1){n=o[l];break}}if(!n&&s){for(var l=s.length-1;l>-1;l--)if(e.opt.availableAbbrevDomains[t].indexOf(s[l])>-1){n=s[l];break}}}return n},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var r=e.locator;e.locator=r.slice(0,t),r=r.slice(t+1);var n=r.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);n&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(n[1]),r=r.slice(n[1].length)),e["locator-extra"]=r.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,t,r){if(typeof e.note=="string"){for(var n=[],s=e.note.split(`
`),o=0,l=s.length;o<l;o++){var f=s[o],n=[],m=f.match(i.NOTE_FIELDS_REGEXP);if(m){for(var p=f.split(i.NOTE_FIELDS_REGEXP),d=0,g=p.length-1;d<g;d++)n.push(p[d]),n.push(m[d]);n.push(p[p.length-1]);for(var d=1,g=n.length;d<g&&!(n[d-1].trim()&&(o>0||d>1)&&!n[d-1].match(i.NOTE_FIELD_REGEXP));d+=2)n[d]=`
`+n[d].slice(2,-1).trim()+`
`;s[o]=n.join("")}}s=s.join(`
`).split(`
`);for(var h=0,_={},o=0,l=s.length;o<l;o++){var f=s[o],E=f.match(i.NOTE_FIELD_REGEXP);if(f.trim()){if(!E){if(o===0)continue;h=o;break}}else continue;var b=E[1],S=E[2].replace(/^\s+/,"").replace(/\s+$/,"");if(b==="type")e.type=S,s[o]="";else if(i.DATE_VARIABLES.indexOf(b.replace(/^alt-/,""))>-1)(!e[b]||r)&&(e[b]=i.DateParser.parseDateToArray(S),(!t||t[b]&&this.isDateString(S))&&(s[o]=""));else if(!e[b]){if(i.NAME_VARIABLES.indexOf(b.replace(/^alt-/,""))>-1){_[b]||(_[b]=[]);var x=S.split(/\s*\|\|\s*/);if(x.length===1)_[b].push({literal:x[0]});else if(x.length===2){var O={family:x[0],given:x[1]};i.parseParticles(O),_[b].push(O)}}else e[b]=S;(!t||t[b])&&(s[o]="")}}for(var b in _)e[b]=_[b];if(t){s[h].trim()&&(s[h]=`
`+s[h]);for(var o=h-1;o>-1;o--)s[o].trim()||(s=s.slice(0,o).concat(s.slice(o+1)))}e.note=s.join(`
`).trim()}},checkPrefixSpaceAppend:function(e,o){o||(o="");var r="",n=o.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=n.slice(-1);(n.match(i.ENDSWITH_ROMANESQUE_REGEXP)||i.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1||s.match(/[\)\],0-9]/))&&(r=" ");var o=(o+r).replace(/\s+/g," ");return o},checkIgnorePredecessor:function(e,t){var r=t.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=r.slice(-1);return i.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1&&t.trim().indexOf(" ")>-1?(e.tmp.term_predecessor=!1,!0):!1},checkSuffixSpacePrepend:function(e,t){return t?((t.match(i.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(t.slice(0,1))>-1)&&(t=" "+t),t):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],r={},n=0,s=t.length;n<s;n++)r[t[n]]=e+"title"+(t[n]==="title"?"":"-"+t[n]);return r},demoteNoiseWords:function(e,t,r){var n=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&r){t=t.split(/\s+/),t.reverse();for(var s=[],o=t.length-1;o>-1&&n.indexOf(t[o].toLowerCase())>-1;o+=-1)s.push(t.pop());t.reverse();var l=t.join(" "),f=s.join(" ");r==="drop"||!f?t=l:r==="demote"&&(t=[l,f].join(", "))}return t},extractTitleAndSubtitle:function(e,t){var r=t?"â¯":"",n=[""];this.opt.development_extensions.split_container_title&&n.push("container-");for(var s=0,o=n.length;s<o;s++){var l=n[s],f=i.TITLE_FIELD_SPLITS(l),m=[!1];if(e.multi)for(var p in e.multi._keys[f.short])m.push(p);for(var d=0,g=m.length;d<g;d++){var p=m[d],h={};p?(e.multi._keys[f.title]&&(h[f.title]=e.multi._keys[f.title][p]),e.multi._keys[f.short]&&(h[f.short]=e.multi._keys[f.short][p])):(h[f.title]=e[f.title],h[f.short]=e[f.short]),h[f.main]=h[f.title],h[f.sub]=!1;var _=h[f.short];if(h[f.title]){if(_&&_.toLowerCase()===h[f.title].toLowerCase())h[f.main]=h[f.title],h[f.subjoin]="",h[f.sub]="";else if(_){var E=h[f.title].slice(_.replace(/[\?\!]+$/,"").length),b=h[f.title].replace(E.replace(/^[\?\!]+/,""),"").trim(),S=i.TITLE_SPLIT_REGEXP.matchfirst.exec(E);if(S&&b.toLowerCase()===_.toLowerCase())h[f.main]=b,h[f.subjoin]=S[1].replace(/[\?\!]+(\s*)$/,"$1"),h[f.sub]=E.replace(i.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(h[f.short]=h[f.main]);else{var x=i.TITLE_SPLIT(h[f.title]);x.length==3?(h[f.main]=x[0],h[f.subjoin]=x[1],h[f.sub]=x[2]):(h[f.main]=h[f.title],h[f.subjoin]="",h[f.sub]="")}}else{var x=i.TITLE_SPLIT(h[f.title]);if(x.length==3){if(h[f.main]=x[0],h[f.subjoin]=x[1],h[f.sub]=x[2],this.opt.development_extensions.implicit_short_title&&e.type!=="legal_case"&&!e[f.short]&&!h[f.main].match(/^[\-\.[0-9]+$/)){var O=h[f.subjoin].trim();["?","!"].indexOf(O)===-1&&(O=""),h[f.short]=h[f.main]+O}}else h[f.main]=h[f.title],h[f.subjoin]="",h[f.sub]=""}if(h[f.subjoin]&&h[f.subjoin].match(/([\?\!])/)){var S=h[f.subjoin].match(/(\s*)$/);h[f.main]=h[f.main]+r+h[f.subjoin].trim(),h[f.subjoin]=S[1]}}if(h[f.subjoin]&&(h[f.subjoin].indexOf(":")>-1&&(h[f.subjoin]=r+": "),(h[f.subjoin].indexOf("-")>-1||h[f.subjoin].indexOf("â")>-1)&&(h[f.subjoin]="â")),p)for(var w in h)e.multi._keys[w]||(e.multi._keys[w]={}),e.multi._keys[w][p]=h[w];else for(var w in h)e[w]=h[w]}}},titlecaseSentenceOrNormal:function(e,t,r,n,s){var o=i.TITLE_FIELD_SPLITS(r),l={};if(n&&t.multi?(t.multi._keys[o.title]&&(l[o.title]=t.multi._keys[o.title][n]),t.multi._keys[o.main]&&(l[o.main]=t.multi._keys[o.main][n]),t.multi._keys[o.sub]&&(l[o.sub]=t.multi._keys[o.sub][n]),t.multi._keys[o.subjoin]&&(l[o.subjoin]=t.multi._keys[o.subjoin][n])):(l[o.title]=t[o.title],l[o.main]=t[o.main],l[o.sub]=t[o.sub],l[o.subjoin]=t[o.subjoin]),l[o.main]&&l[o.sub]){var f=l[o.main],m=l[o.subjoin],p=l[o.sub];return s?(f=i.Output.Formatters.sentence(e,f),p=i.Output.Formatters.sentence(e,p)):e.opt.development_extensions.uppercase_subtitles&&(p=i.Output.Formatters["capitalize-first"](e,p)),[f,m,p].join("")}else if(l[o.title]){if(s)return i.Output.Formatters.sentence(e,l[o.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var d=i.TITLE_SPLIT(l[o.title]),g=0,h=d.length;g<h;g+=2)d[g]=i.Output.Formatters["capitalize-first"](e,d[g]);for(var g=1,h=d.length-1;g<h;g+=2){var _=d[g].match(/([:\?\!] )/);if(_){var E=e.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr"?"â¯":"";d[g]=E+_[1]}(d[g].indexOf("-")>-1||d[g].indexOf("â")>-1)&&(d[g]="â")}return l[o.title]=d.join(""),l[o.title]}else return l[o.title]}else return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var t=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&e.opt.mode==="html"&&t.push(function(r){return r.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),t.length?function(r){for(var n=0,s=t.length;n<s;n+=1)r=t[n](r);return i.Output.Formats[e.opt.mode].text_escape(r)}:i.Output.Formats[e.opt.mode].text_escape}else return function(r){return r}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-Ã -vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (BokmÃ¥l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{Âª:"a","Â²":"2","Â³":"3","Â¹":"1",Âº:"o",Ê°:"h",Ê±:"É¦",Ê²:"j",Ê³:"r",Ê´:"É¹",Êµ:"É»",Ê¶:"Ê",Ê·:"w",Ê¸:"y",Ë :"É£",Ë¡:"l",Ë¢:"s",Ë£:"x",Ë¤:"Ê","á´¬":"A","á´­":"Ã","á´®":"B","á´°":"D","á´±":"E","á´²":"Æ","á´³":"G","á´´":"H","á´µ":"I","á´¶":"J","á´·":"K","á´¸":"L","á´¹":"M","á´º":"N","á´¼":"O","á´½":"È¢","á´¾":"P","á´¿":"R","áµ":"T","áµ":"U","áµ":"W","áµ":"a","áµ":"É","áµ":"É","áµ":"á´","áµ":"b","áµ":"d","áµ":"e","áµ":"É","áµ":"É","áµ":"É","áµ":"g","áµ":"k","áµ":"m","áµ":"Å","áµ":"o","áµ":"É","áµ":"á´","áµ":"á´","áµ":"p","áµ":"t","áµ":"u","áµ":"á´","áµ":"É¯","áµ":"v","áµ":"á´¥","áµ":"Î²","áµ":"Î³","áµ":"Î´","áµ ":"Ï","áµ¡":"Ï","â°":"0","â±":"i","â´":"4","âµ":"5","â¶":"6","â·":"7","â¸":"8","â¹":"9","âº":"+","â»":"â","â¼":"=","â½":"(","â¾":")",â¿:"n","â ":"SM","â¢":"TM","ã":"ä¸","ã":"äº","ã":"ä¸","ã":"å","ã":"ä¸","ã":"ä¸­","ã":"ä¸","ã":"ç²","ã":"ä¹","ã":"ä¸","ã":"ä¸","ã":"å¤©","ã":"å°","ã":"äºº",Ë:"Ê",Ë:"Ê",Û¥:"Ù",Û¦:"Ù"},SUPERSCRIPTS_REGEXP:new RegExp("[ÂªÂ²Â³Â¹ÂºÊ°Ê±Ê²Ê³Ê´ÊµÊ¶Ê·Ê¸Ë Ë¡Ë¢Ë£Ë¤á´¬á´­á´®á´°á´±á´²á´³á´´á´µá´¶á´·á´¸á´¹á´ºá´¼á´½á´¾á´¿áµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµáµ áµ¡â°â±â´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿â â¢ããããããããããããããËËÛ¥Û¦]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,r,n,s){if(e.opt.use_context_condition){var o=e.tmp.group_context.tip;o.condition?(o.condition.termtxt||(o.condition.termtxt=t,o.condition.valueTerm=r),!o.value_seen&&o.condition.test==="comma-safe-numbers-only"&&s&&(o.value_seen=!0,s.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):n&&n.decorations.filter(l=>l[0]==="@vertical-align").length>0||n&&n.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,t){if(e.opt.use_context_condition){var r,n=t.condition.test==="comma-safe-numbers-only";if(t.condition.test==="empty-label")r=!t.condition.termtxt;else if(t.condition.test==="empty-label-no-decor")r=!t.condition.termtxt||t.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(t.condition.test)>-1){var s=t.condition.termtxt,o=!1;t.condition.termtxt&&(o=t.condition.termtxt.slice(0,1).match(i.ALL_ROMANESQUE_REGEXP));var l=e.tmp.just_did_number;l?t.condition.valueTerm?r=!n:s?o?r=!n:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1?r=!0:r=!1:r=!0:t.condition.valueTerm?r=!1:s?o?r=!n:e.opt.require_comma_on_symbol==="always"?r=!0:r=!1:r=!1}if(r)var f=!1;else var f=!0;return t.condition.not&&(f=!f),f}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var e=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*â\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+e.join("|")+")","g"),matchfirst:new RegExp("^("+e.join("|")+")"),split:new RegExp("(?:"+e.join("|")+")")}}(),TITLE_SPLIT:function(e){if(!e)return e;for(var t=e.match(i.TITLE_SPLIT_REGEXP.match),r=e.split(i.TITLE_SPLIT_REGEXP.split),n=r.length-2;n>-1;n--)r[n]=r[n].trim(),r[n]&&r[n].slice(-1).toLowerCase()!==r[n].slice(-1)?(r[n]=r[n]+t[n]+r[n+1],r=r.slice(0,n+1).concat(r.slice(n+2))):r=r.slice(0,n+1).concat([t[n]]).concat(r.slice(n+1));return r},GET_COURT_CLASS:function(e,t,r){var n="",s=null,o=t.jurisdiction?t.jurisdiction.split(":")[0]:null,l="court_condition_classes";return r&&(l="court_key_classes"),o&&t.authority&&(typeof t.authority=="string"?s=t.authority:t.authority[0]&&t.authority[0].literal&&(s=t.authority[0].literal)),s&&(this.lang&&e.locale[this.lang].opts[l]&&e.locale[this.lang].opts[l][o]&&e.locale[this.lang].opts[l][o][s]?n=e.locale[this.lang].opts[l][o][s]:e.locale[e.opt["default-locale"][0]].opts[l]&&e.locale[e.opt["default-locale"][0]].opts[l][o]&&e.locale[e.opt["default-locale"][0]].opts[l][o][s]&&(n=e.locale[e.opt["default-locale"][0]].opts[l][o][s])),n},SET_COURT_CLASSES:function(e,t,r,n){for(var s=r.getNodesByName(n,"court-class"),o=0,l=r.numberofnodes(s);o<l;o+=1){var f=s[o],m=r.attributes(f),p=m["@name"],d=m["@country"],g=m["@courts"],h="court_key_classes";if(e.registry&&(h="court_condition_classes"),p&&d&&g){g=g.trim().split(/\s+/),e.locale[t].opts[h]||(e.locale[t].opts[h]={}),e.locale[t].opts[h][d]||(e.locale[t].opts[h][d]={});for(var _=0,E=g.length;_<E;_++)e.locale[t].opts[h][d][g[_]]=p}}},INIT_JURISDICTION_MACROS:function(e,t,r,n){if(t["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!i.MODULE_MACROS[n]||!t.jurisdiction)return!1;var f=e.getJurisdictionList(t.jurisdiction);if(!e.opt.jurisdictions_seen[f[0]]){var s=e.retrieveAllStyleModules(f);for(var o in s){var l=e.loadStyleModule(o,s[o]);l&&(s[l]||(Object.assign(s,e.retrieveAllStyleModules([l])),e.loadStyleModule(l,s[l],!0)))}}var f=e.getJurisdictionList(t.jurisdiction);e.opt.parallel.enable&&(e.parallel||(e.parallel=new i.Parallel(e)));for(var m=0,p=f.length;m<p;m++){var o=f[m];if(r&&e.juris[o]&&!r["best-jurisdiction"]&&e.juris[o].types.locator&&(t["best-jurisdiction"]=o),e.juris[o]&&e.juris[o].types[t.type])return t["best-jurisdiction"]=o,!0}return!1}};return i.XmlJSON=function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},i.XmlJSON.prototype.clean=function(e){return e},i.XmlJSON.prototype.getStyleId=function(e,t){var r="id";t&&(r="title");for(var n="",s=e.children,o=0,l=s.length;o<l;o++)if(s[o].name==="info")for(var f=s[o].children,m=0,p=f.length;m<p;m++)f[m].name===r&&(n=f[m].children[0]);return n},i.XmlJSON.prototype.children=function(e){return e&&e.children.length?e.children.slice():!1},i.XmlJSON.prototype.nodename=function(e){return e?e.name:null},i.XmlJSON.prototype.attributes=function(e){var t={};for(var r in e.attrs)t["@"+r]=e.attrs[r];return t},i.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var r=0,n=e.children.length;r<n;r+=1)typeof e.children[r]=="string"&&(t+=e.children[r]);return t},i.XmlJSON.prototype.namespace={},i.XmlJSON.prototype.numberofnodes=function(e){return e&&typeof e.length=="number"?e.length:0},i.XmlJSON.prototype.getAttributeValue=function(e,t,r){var n="";return r&&(t=r+":"+t),e&&e.attrs&&(e.attrs[t]?n=e.attrs[t]:n=""),n},i.XmlJSON.prototype.getNodeValue=function(e,t){var r="";if(t)for(var n=0,s=e.children.length;n<s;n+=1)e.children[n].name===t&&(e.children[n].children.length?r=e.children[n]:r="");else e&&(r=e);return r&&r.children&&r.children.length==1&&typeof r.children[0]=="string"&&(r=r.children[0]),r},i.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,r,n,s){n.slice(0,1)==="@"&&(n=n.slice(1));for(var o=0,l=e.children.length;o<l;o+=1)e.children[o].name===t&&e.children[o].attrs.name===r&&(e.children[o].attrs[n]=s)},i.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var r,n;for(r=0,n=e.children.length;r<n;r+=1)!e.children[r]||typeof e.children[r]=="string"||e.children[r].attrs.name==t&&(e.children=e.children.slice(0,r).concat(e.children.slice(r+1)))},i.XmlJSON.prototype.deleteAttribute=function(e,t){typeof e.attrs[t]<"u"&&e.attrs.pop(t)},i.XmlJSON.prototype.setAttribute=function(e,t,r){return e.attrs[t]=r,!1},i.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)var t={};if(typeof t=="object"&&typeof t.length>"u")for(var r in e)typeof e[r]=="string"?t[r]=e[r]:typeof e[r]=="object"&&(typeof e[r].length>"u"?t[r]=this.nodeCopy(e[r],{}):t[r]=this.nodeCopy(e[r],[]));else for(var n=0,s=e.length;n<s;n+=1)typeof e[n]=="string"?t[n]=e[n]:t[n]=this.nodeCopy(e[n],{});return t},i.XmlJSON.prototype.getNodesByName=function(e,t,r,n){if(!n)var n=[];if(!e||!e.children)return n;t===e.name&&(r?r===e.attrs.name&&n.push(e):n.push(e));for(var s=0,o=e.children.length;s<o;s+=1)typeof e.children[s]=="object"&&this.getNodesByName(e.children[s],t,r,n);return n},i.XmlJSON.prototype.nodeNameIs=function(e,t){return typeof e>"u"?!1:t==e.name},i.XmlJSON.prototype.makeXml=function(e){return typeof e=="string"&&(e.slice(0,1)==="<"?e=this.jsonStringWalker.walkToObject(e):e=JSON.parse(e)),e},i.XmlJSON.prototype.insertChildNodeAfter=function(e,t,r,n){for(var s=0,o=e.children.length;s<o;s+=1)if(t===e.children[s]){e.children=e.children.slice(0,s).concat([n]).concat(e.children.slice(s+1));break}return e},i.XmlJSON.prototype.insertPublisherAndPlace=function(e){if(e.name==="group"){for(var t=!0,r=["publisher","publisher-place"],n=0,s=e.children.length;n<s;n+=1){var o=r.indexOf(e.children[n].attrs.variable),l=e.children[n].name==="text";if(l&&o>-1&&!e.children[n].attrs.prefix&&!e.children[n].attrs.suffix)r=r.slice(0,o).concat(r.slice(o+1));else{t=!1;break}}t&&!r.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(var n=0,s=e.children.length;n<s;n+=1)typeof e.children[n]=="object"&&this.insertPublisherAndPlace(e.children[n])},i.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice(),r=t.pop();return r==="substitute"?!0:this.isChildOfSubstitute(t)}return!1},i.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),e.name==="names"&&!this.isChildOfSubstitute(t)){for(var r=!0,n=0,s=e.children.length;n<s;n++)if(e.children[n].name==="name"){r=!1;break}r&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(var n=0,s=e.children.length;n<s;n+=1)typeof e.children[n]=="object"&&this.addMissingNameNodes(e.children[n],t);t.pop()},i.XmlJSON.prototype.addInstitutionNodes=function(e){var t;if(e.name==="names"){for(var r={},n=-1,s=0,o=e.children.length;s<o;s+=1){if(e.children[s].name=="name"){for(var l in e.children[s].attrs)r[l]=e.children[s].attrs[l];r.delimiter=e.children[s].attrs.delimiter,r.and=e.children[s].attrs.and,n=s;for(var f=0,m=e.children[s].children.length;f<m;f+=1)if(e.children[s].children[f].attrs.name==="family")for(var l in e.children[s].children[f].attrs)r[l]=e.children[s].children[f].attrs[l]}if(e.children[s].name=="institution"){n=-1;break}}if(n>-1){for(var t=this.nodeCopy(this.institution),s=0,o=i.INSTITUTION_KEYS.length;s<o;s+=1){var p=i.INSTITUTION_KEYS[s];typeof r[p]<"u"&&(t.children[0].attrs[p]=r[p]),r.delimiter&&(t.attrs.delimiter=r.delimiter),r.and&&(t.attrs.and=r.and)}e.children=e.children.slice(0,n+1).concat([t]).concat(e.children.slice(n+1))}}for(var s=0,o=e.children.length;s<o;s+=1)typeof e.children[s]!="string"&&this.addInstitutionNodes(e.children[s])},i.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,r=e.children.length;t<r;t+=1)e.children[t].name==="macro"&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},i.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if(e.name==="date")return!0;for(var t=0,r=e.children.length;t<r;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},i.stripXmlProcessingInstruction=function(e){return e&&(e=e.replace(/^<\?[^?]+\?>/,""),e=e.replace(/<!--[^>]+-->/g,""),e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,""),e)},i.parseXml=function(e){var t={children:[]},r=[t.children];function n(x){x=x.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var O=x.split("><"),w=null,T=0,q=O.length;T<q;T++)T>0&&(O[T]="<"+O[T]),T<O.length-1&&(O[T]=O[T]+">"),typeof w!="number"&&(O[T].slice(0,7)==="<style "||O[T].slice(0,8)=="<locale ")&&(w=T);O=O.slice(w);for(var T=O.length-2;T>-1;T--)if(O[T].slice(1).indexOf("<")===-1){var N=O[T].slice(0,5);O[T].slice(-2)!=="/>"&&(N==="<term"?O[T+1].slice(0,6)==="</term"&&(O[T]=O[T]+O[T+1],O=O.slice(0,T+1).concat(O.slice(T+2))):["<sing","<mult"].indexOf(N)>-1&&O[T].slice(-2)!=="/>"&&O[T+1].slice(0,1)==="<"&&(O[T]=O[T]+O[T+1],O=O.slice(0,T+1).concat(O.slice(T+2))))}return O}function s(x){return x.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(O,w){var T=parseInt(w,10);return String.fromCharCode(T)}).replace(/&#x([a-f0-9]{1,6});/gi,function(O,w){var T=parseInt(w,16);return String.fromCharCode(T)})}function o(x){var O=x.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(O)for(var w=0,T=O.length;w<T;w++)O[w]=O[w].replace(/=.*/,"");return O}function l(x,O){var w=RegExp("^.*[	 ]+"+O+`=("(?:[^"]*)"|'(?:[^']*)').*$`),T=x.match(w);return T?T[1].slice(1,-1):null}function f(x){var O=RegExp("^<([^	 />]+)"),w=x.match(O);return w?w[1]:null}function m(x){var O={};O.name=f(x),O.attrs={};var w=o(x);if(w)for(var T=0,q=w.length;T<q;T++){var N={name:w[T],value:l(x,w[T])};O.attrs[N.name]=s(N.value)}return O.children=[],O}function p(x){var O=x.match(/^.*>([^<]*)<.*$/);return s(O[1])}function d(x){r.slice(-1)[0].push(x)}function g(x){r.push(x.children)}function h(x){var O;if(x.slice(1).indexOf("<")>-1){var w=x.slice(0,x.indexOf(">")+1);O=m(w),O.children=[p(x)],d(O)}else x.slice(-2)==="/>"?(O=m(x),f(x)==="term"&&O.children.push(""),d(O)):x.slice(0,2)==="</"?r.pop():(O=m(x),d(O),g(O))}for(var _=n(e),E=0,b=_.length;E<b;E++){var S=_[E];h(S)}return t.children[0]},i.XmlDOM=function(e){this.dataObj=e,typeof DOMParser>"u"?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(o,l){if(typeof ActiveXObject<"u"){var f=new ActiveXObject("MSXML.DomDocument");return f.async=!1,f.loadXML(o),f}else if(typeof XMLHttpRequest<"u"){var f=new XMLHttpRequest;return l||(l="text/xml"),f.open("GET","data:"+l+";charset=utf-8,"+encodeURIComponent(o),!1),f.overrideMimeType&&f.overrideMimeType(l),f.send(null),f.responseXML}else if(typeof marknote<"u"){var m=new marknote.Parser;return m.parse(o)}},this.hasAttributes=function(o){var l;return o.attributes&&o.attributes.length?l=!0:l=!1,l}):this.hasAttributes=function(o){var l;return o.attributes&&o.attributes.length?l=!0:l=!1,l},this.importNode=function(o,l){var f;return typeof o.importNode>"u"?f=this._importNode(o,l,!0):f=o.importNode(l,!0),f},this._importNode=function(o,l,f){switch(l.nodeType){case 1:var m=o.createElement(l.nodeName);if(l.attributes&&l.attributes.length>0)for(var p=0,d=l.attributes.length;p<d;)m.setAttribute(l.attributes[p].nodeName,l.getAttribute(l.attributes[p++].nodeName));if(f&&l.childNodes&&l.childNodes.length>0)for(var p=0,d=l.childNodes.length;p<d;)m.appendChild(this._importNode(o,l.childNodes[p++],f));return m}},this.parser=new DOMParser;var t='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',r=this.parser.parseFromString(t,"text/xml"),n=r.getElementsByTagName("institution");this.institution=n.item(0);var s=r.getElementsByTagName("institution-part");this.institutionpart=s.item(0),this.ns="http://purl.org/net/xbiblio/csl"},i.XmlDOM.prototype.clean=function(e){return e=e.replace(/<\?[^?]+\?>/g,""),e=e.replace(/<![^>]+>/g,""),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),e=e.replace(/^\n*/,""),e},i.XmlDOM.prototype.getStyleId=function(e,t){var r="",n="id";t&&(n="title");var s=e.getElementsByTagName(n);return s&&s.length&&(s=s.item(0)),s&&(r=s.textContent),r||(r=s.innerText),r||(r=s.innerHTML),r},i.XmlDOM.prototype.children=function(e){var t,r,n,s;if(e){for(s=[],t=e.childNodes,r=0,n=t.length;r<n;r+=1)t[r].nodeName!="#text"&&s.push(t[r]);return s}else return[]},i.XmlDOM.prototype.nodename=function(e){var t=e.nodeName;return t},i.XmlDOM.prototype.attributes=function(e){var t,r,n,s,o;if(t=new Object,e&&this.hasAttributes(e))for(r=e.attributes,s=0,o=r.length;s<o;s+=1)n=r[s],t["@"+n.name]=n.value;return t},i.XmlDOM.prototype.content=function(e){var t;return typeof e.textContent<"u"?t=e.textContent:typeof e.innerText<"u"?t=e.innerText:t=e.txt,t},i.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},i.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},i.XmlDOM.prototype.getAttributeName=function(e){var t=e.name;return t},i.XmlDOM.prototype.getAttributeValue=function(e,t,r){var n="";return r&&(t=r+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(n=e.getAttribute(t)),n},i.XmlDOM.prototype.getNodeValue=function(e,t){var r=null;if(t){var n=e.getElementsByTagName(t);n.length>0&&(typeof n[0].textContent<"u"?r=n[0].textContent:typeof n[0].innerText<"u"?r=n[0].innerText:r=n[0].text)}return r===null&&e&&e.childNodes&&(e.childNodes.length==0||e.childNodes.length==1&&e.firstChild.nodeName=="#text")&&(typeof e.textContent<"u"?r=e.textContent:typeof e.innerText<"u"?r=e.innerText:r=e.text),r===null&&(r=e),r},i.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,r,n,s){var o,l,f,m;for(n.slice(0,1)==="@"&&(n=n.slice(1)),f=e.getElementsByTagName(t),o=0,l=f.length;o<l;o+=1)m=f[o],m.getAttribute("name")==r&&m.setAttribute(n,s)},i.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var r,n,s,o;for(o=e.childNodes,r=0,n=o.length;r<n;r+=1)s=o[r],!(!s||s.nodeType==s.TEXT_NODE)&&this.hasAttributes(s)&&s.getAttribute("name")==t&&e.removeChild(o[r])},i.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},i.XmlDOM.prototype.setAttribute=function(e,t,r){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,r),!1},i.XmlDOM.prototype.nodeCopy=function(e){var t=e.cloneNode(!0);return t},i.XmlDOM.prototype.getNodesByName=function(e,t,r){var n,s,o,l,f;for(n=[],s=e.getElementsByTagName(t),l=0,f=s.length;l<f;l+=1)o=s.item(l),!(r&&!(this.hasAttributes(o)&&o.getAttribute("name")==r))&&n.push(o);return n},i.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},i.XmlDOM.prototype.makeXml=function(e){e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var t=this.parser.parseFromString(e,"application/xml");return t.firstChild},i.XmlDOM.prototype.insertChildNodeAfter=function(e,t,r,n){var s;return s=this.importNode(t.ownerDocument,n),e.replaceChild(s,t),e},i.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),r=0,n=t.length;r<n;r+=1){for(var s=t.item(r),o=[],l=0,f=s.childNodes.length;l<f;l+=1)s.childNodes.item(l).nodeType!==1&&o.push(l);if(s.childNodes.length-o.length===2){for(var m=[],l=0,f=2;l<f;l+=1)if(!(o.indexOf(l)>-1)){for(var p=s.childNodes.item(l),d=[],g=0,h=p.childNodes.length;g<h;g+=1)p.childNodes.item(g).nodeType!==1&&d.push(g);if(p.childNodes.length-d.length===0&&(m.push(p.getAttribute("variable")),p.getAttribute("suffix")||p.getAttribute("prefix"))){m=[];break}}m.indexOf("publisher")>-1&&m.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},i.XmlDOM.prototype.isChildOfSubstitute=function(e){return e.parentNode?e.parentNode.tagName.toLowerCase()==="substitute"?!0:this.isChildOfSubstitute(e.parentNode):!1},i.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),r=0,n=t.length;r<n;r+=1){var s=t.item(r),o=s.getElementsByTagName("name");if((!o||o.length===0)&&!this.isChildOfSubstitute(s)){var l=s.ownerDocument,f=l.createElement("name");s.appendChild(f)}}},i.XmlDOM.prototype.addInstitutionNodes=function(e){var t,r,n,s,o,l,f,m,p;for(t=e.getElementsByTagName("names"),m=0,p=t.length;m<p;m+=1)if(r=t.item(m),l=r.getElementsByTagName("name"),l.length!=0&&(n=r.getElementsByTagName("institution"),n.length==0)){s=this.importNode(e.ownerDocument,this.institution),o=s.getElementsByTagName("institution-part").item(0),f=l.item(0),r.insertBefore(s,f.nextSibling);for(var d=0,g=i.INSTITUTION_KEYS.length;d<g;d+=1){var h=i.INSTITUTION_KEYS[d],_=f.getAttribute(h);_&&o.setAttribute(h,_)}for(var E=f.getElementsByTagName("name-part"),d=0,g=E.length;d<g;d+=1)if(E[d].getAttribute("name")==="family")for(var b=0,S=i.INSTITUTION_KEYS.length;b<S;b+=1){var h=i.INSTITUTION_KEYS[b],_=E[d].getAttribute(h);_&&o.setAttribute(h,_)}}},i.XmlDOM.prototype.flagDateMacros=function(e){var t,r,n,s,o=e.getElementsByTagName("macro");for(t=0,r=o.length;t<r;t+=1)n=o.item(t),s=n.getElementsByTagName("date"),s.length&&n.setAttribute("macro-has-date","true")},i.setupXml=function(e){var t={},r=null;return typeof e<"u"?typeof e=="string"?(e=e.replace("^\uFEFF","").replace(/^\s+/,""),e.slice(0,1)==="<"?t=i.parseXml(e):t=JSON.parse(e),r=new i.XmlJSON(t)):typeof e.getAttribute<"u"?r=new i.XmlDOM(e):typeof e.toXMLString<"u"?r=new i.XmlE4X(e):r=new i.XmlJSON(e):i.error("unable to parse XML input"),r||i.error("citeproc-js error: unable to parse CSL style or locale object"),r},i.getSortCompare=function(e){if(i.stringCompare)return i.stringCompare;var t=this,r,n={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US"),r=function(m,p){return i.toLocaleLowerCase.call(t,m).localeCompare(i.toLocaleLowerCase.call(t,p),e,n)};var s=function(m){return m.replace(/^[\[\]\'\"]*/g,"")},o=function(){return r("[x","x")?function(m,p){return r(s(m),s(p))}:!1},l=o(),f=function(m,p){return l?l(m,p):r(m,p)};return f},i.ambigConfigDiff=function(e,t){var r,n,s,o;if(e.names.length!==t.names.length)return 1;for(r=0,n=e.names.length;r<n;r+=1){if(e.names[r]!==t.names[r])return 1;for(s=0,o=e.givens[r];s<o;s+=1)if(e.givens[r][s]!==t.givens[r][s])return 1}return e.disambiguate!=t.disambiguate||e.year_suffix!==t.year_suffix?1:0},i.cloneAmbigConfig=function(e,t){var r,n,s,o,l,f={};for(f.names=[],f.givens=[],f.year_suffix=!1,f.disambiguate=!1,r=0,n=e.names.length;r<n;r+=1)l=e.names[r],f.names[r]=l;for(r=0,n=e.givens.length;r<n;r+=1){for(l=[],s=0,o=e.givens[r].length;s<o;s+=1)l.push(e.givens[r][s]);f.givens.push(l)}return t?(f.year_suffix=t.year_suffix,f.disambiguate=t.disambiguate):(f.year_suffix=e.year_suffix,f.disambiguate=e.disambiguate),f},i.getAmbigConfig=function(){var e,t;e=this.tmp.disambig_request,e||(e=this.tmp.disambig_settings);var t=i.cloneAmbigConfig(e);return t},i.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},i.getMinVal=function(){return this.tmp["et-al-min"]},i.tokenExec=function(e,t,r){var n,s,o,l;l=!1,n=e.next,s=!1;var f=function(d){return d?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)};e.test&&(n=f.call(this,e.test(t,r)));for(var m=0,p=e.execs.length;m<p;m++)o=e.execs[m],s=o.call(e,this,t,r),s&&(n=s);return l&&i.debug(e.name+" ("+e.tokentype+") ---> done"),n},i.expandMacro=function(e,t){var r,n,s,o;r=e.postponed_macro;var l=e.strings.sort_direction;e=new i.Token("group",i.START);var f=!1,m=!1;n=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r),n.length&&(m=this.cslXml.getAttributeValue(n[0],"cslid"),f=this.cslXml.getAttributeValue(n[0],"macro-has-date")),f&&(r=r+"@"+this.build.current_default_locale,o=function(g){g.tmp.extension&&(g.tmp["doing-macro-with-date"]=!0)},e.execs.push(o)),this.build.macro_stack.indexOf(r)>-1?i.error('CSL processor error: call to macro "'+r+'" would cause an infinite loop'):this.build.macro_stack.push(r),e.cslid=m,i.MODULE_MACROS[r]&&(e.juris=r,this.opt.update_mode=i.POSITION),i.Node.group.build.call(e,this,t,!0),this.cslXml.getNodeValue(n)||i.error('CSL style error: undefined macro "'+r+'"');var p=i.getMacroTarget.call(this,r);if(p&&(i.buildMacro.call(this,p,n),i.configureMacro.call(this,p)),!this.build.extension){var o=function(h){return function(_,E,b){for(var S=0;S<_.macros[h].length;)S=i.tokenExec.call(_,_.macros[h][S],E,b)}}(r),d=new i.Token("text",i.SINGLETON);d.execs.push(o),t.push(d)}s=new i.Token("group",i.END),s.strings.sort_direction=l,f&&(o=function(g){g.tmp.extension&&(g.tmp["doing-macro-with-date"]=!1)},s.execs.push(o)),e.juris&&(s.juris=r),i.Node.group.build.call(s,this,t,!0),this.build.macro_stack.pop()},i.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},i.buildMacro=function(e,t){var r=i.makeBuilder(this,e),n;typeof t.length>"u"?n=t:n=t[0],r(n)},i.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},i.XmlToToken=function(e,t,r,n){var s,o,l,f,m,p,d;if(s=e.cslXml.nodename(this),!(e.build.skip&&e.build.skip!==s)){if(!s){o=e.cslXml.content(this),o&&(e.build.text=o);return}if(i.Node[e.cslXml.nodename(this)]||i.error('Undefined node name "'+s+'".'),l=e.cslXml.attributes(this),f=i.setDecorations.call(this,e,l),m=new i.Token(s,t),t!==i.END||s==="if"||s==="else-if"||s==="layout"){for(var p in l)if(l.hasOwnProperty(p)){if(t===i.END&&p!=="@language"&&p!=="@locale")continue;if(l.hasOwnProperty(p))if(i.Attributes[p])try{i.Attributes[p].call(m,e,""+l[p])}catch(h){i.error(p+" attribute: "+h)}else i.debug('warning: undefined attribute "'+p+'" in style')}m.decorations=f,i.DATE_VARIABLES.indexOf(l["@variable"])>-1&&n.push(m.variables)}else t===i.END&&l["@variable"]&&(m.hasVariable=!0,i.DATE_VARIABLES.indexOf(l["@variable"])>-1&&(m.variables=n.pop()));r?d=r:d=e[e.build.area].tokens,i.Node[s].build.call(m,e,d,!0)}},i.DateParser=function(){for(var e=[["ææ²»",1867],["å¤§æ­£",1911],["æ­å",1925],["å¹³æ",1988]],t=0,r=e.length;t<r;t++){e[t][0];var n=e[t][1]}for(var s=[],o={},t=0,r=e.length;t<r;t++){var l=e[t],n=l[0];s.push(n),o[l[0]]=l[1]}var f=s.join("|"),m=new RegExp("(?:"+f+")(?:[0-9]+)"),p=new RegExp("(?:"+f+")(?:[0-9]+)","g"),d=/(\u6708|\u5E74)/g,g=/\u65E5/g,h=/\u301c/g,_="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",E="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",b="[?0-9]{1,3}",S="[%%DATED%%]",x="[?~]",O="[^-/~?0-9]+",w="("+E+"|"+_+"|"+b+"|"+S+"|"+x+"|"+O+")",T=new RegExp(w.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),q=new RegExp(w.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),N=new RegExp(w.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),W="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=W.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var C=0,I=this.monthStrings.length;C<I;C++)this.monthSets.push([this.monthStrings[C]]);this.monthAbbrevs=[];for(var C=0,I=this.monthSets.length;C<I;C++){this.monthAbbrevs.push([]);for(var z=0,X=this.monthSets[C].length;z<X;z++)this.monthAbbrevs[C].push(this.monthSets[C][0].slice(0,3))}this.monthRexes=[];for(var C=0,I=this.monthAbbrevs.length;C<I;C++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[C].join("|")+")"))},this.addDateParserMonths=function(C){if(typeof C=="string"&&(C=C.split(/\s+/)),C.length!==12&&C.length!==16){i.debug("month [+season] list of "+C.length+", expected 12 or 16. Ignoring.");return}for(var I=0,z=C.length;I<z;I++){for(var X=null,ee=!1,Y=3,K={},se=0,F=this.monthAbbrevs.length;se<F;se++){if(K[se]={},se===I){for(var G=0,V=this.monthAbbrevs[I].length;G<V;G++)if(this.monthAbbrevs[I][G]===C[I].slice(0,this.monthAbbrevs[I][G].length)){ee=!0;break}}else for(var G=0,V=this.monthAbbrevs[se].length;G<V;G++)if(X=this.monthAbbrevs[se][G].length,this.monthAbbrevs[se][G]===C[I].slice(0,X)){for(;this.monthSets[se][G].slice(0,X)===C[I].slice(0,X);)if(X>C[I].length||X>this.monthSets[se][G].length){i.debug("unable to disambiguate month string in date parser: "+C[I]);break}else X+=1;Y=X,K[se][G]=X}for(var me in K)for(var ue in K[me])X=K[me][ue],me=parseInt(me,10),ue=parseInt(ue,10),this.monthAbbrevs[me][ue]=this.monthSets[me][ue].slice(0,X)}ee||(this.monthSets[I].push(C[I]),this.monthAbbrevs[I].push(C[I].slice(0,Y)))}this.monthRexes=[],this.monthRexStrs=[];for(var I=0,z=this.monthAbbrevs.length;I<z;I++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[I].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[I].join("|")+")");if(this.monthAbbrevs.length===18)for(var I=12,z=14;I<z;I++)this.monthRexes[I+4]=new RegExp("^(?:"+this.monthAbbrevs[I].join("|")+")"),this.monthRexStrs[I+4]="^(?:"+this.monthAbbrevs[I].join("|")+")"},this.convertDateObjectToArray=function(C){C["date-parts"]=[],C["date-parts"].push([]);for(var I=0,z,X=0,ee=3;X<ee&&(z=["year","month","day"][X],!!C[z]);X++)I+=1,C["date-parts"][0].push(C[z]),delete C[z];C["date-parts"].push([]);for(var X=0,ee=I;X<ee&&(z=["year_end","month_end","day_end"][X],!!C[z]);X++)C["date-parts"][1].push(C[z]),delete C[z];return C["date-parts"][0].length!==C["date-parts"][1].length&&C["date-parts"].pop(),C},this.convertDateObjectToString=function(C){for(var I=[],z=0,X=3;z<X&&C[i.DATE_PARTS_ALL[z]];z+=1)I.push(C[i.DATE_PARTS_ALL[z]]);return I.join("-")},this._parseNumericDate=function(C,I,z,X){z||(z="");for(var ee=X.split(I),Y=0,K=ee.length;Y<K;Y++)if(ee[Y].length===4){C["year"+z]=ee[Y].replace(/^0*/,""),Y?ee=ee.slice(0,Y):ee=ee.slice(1);break}for(var Y=0,K=ee.length;Y<K;Y++)ee[Y]=parseInt(ee[Y],10);if(ee.length===1||ee.length===2&&!ee[1]){var se=ee[0];se&&(C["month"+z]=""+ee[0])}else if(ee.length===2)if(ee[this.monthGuess]>12){var se=ee[this.dayGuess],F=ee[this.monthGuess];se&&(C["month"+z]=""+se,F&&(C["day"+z]=""+F))}else{var se=ee[this.monthGuess],F=ee[this.dayGuess];se&&(C["month"+z]=""+se,F&&(C["day"+z]=""+F))}},this.parseDateToObject=function(C){var I=C,z=-1,X=-1,ee=!1,Y;if(C){if(C=C.replace(/^(.*[0-9])T[0-9].*/,"$1"),C.slice(0,1)==="-"&&(ee=!0,C=C.slice(1)),C.match(/^[0-9]{1,3}$/))for(;C.length<4;)C="0"+C;C=""+C,C=C.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var K=C.match(d);if(K){C=C.replace(/\s+/g,""),C=C.replace(g,""),C=C.replace(d,"-"),C=C.replace(h,"/"),C=C.replace(/\-\//g,"/"),C=C.replace(/-$/g,"");var se=C.split(m);Y=[];var F=C.match(p);if(F){for(var G=[],V=0,me=F.length;V<me;V++)G=G.concat(F[V].match(/([^0-9]+)([0-9]+)/).slice(1));for(var V=0,me=se.length;V<me;V++)if(Y.push(se[V]),V!==me-1){var ue=V*2;Y.push(G[ue]),Y.push(G[ue+1])}}else Y=se;for(var V=1,me=Y.length;V<me;V+=3)Y[V+1]=o[Y[V]]+parseInt(Y[V+1],10),Y[V]="";C=Y.join(""),C=C.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),C=C.replace(/\.\s*$/,""),C=C.replace(/\.(?! )/,""),z=C.indexOf("/"),X=C.indexOf("-")}}C=C.replace(/([A-Za-z])\./g,"$1");var M="",te="",ie={},we,Re;if(C.slice(0,1)==='"'&&C.slice(-1)==='"')return ie.literal=C.slice(1,-1),ie;if(z>-1&&X>-1){var Te=C.split("/");Te.length>3?(we="-",C=C.replace(/\_/g,"-"),Re="/",Y=C.split(N)):(we="/",C=C.replace(/\_/g,"/"),Re="-",Y=C.split(q))}else C=C.replace(/\//g,"-"),C=C.replace(/\_/g,"-"),we="-",Re="-",Y=C.split(T);for(var Se=[],V=0,me=Y.length;V<me;V++){var K=Y[V].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);K&&Se.push(K[1])}var Ie=Se.indexOf(we),Ne=[],je=!1;Ie>-1?(Ne.push([0,Ie]),Ne.push([Ie+1,Se.length]),je=!0):Ne.push([0,Se.length]);for(var Le="",V=0,me=Ne.length;V<me;V++){var Be=Ne[V],Ve=Se.slice(Be[0],Be[1]);e:for(var Je=0,B=Ve.length;Je<B;Je++){var A=Ve[Je];if(A.indexOf(Re)>-1){this._parseNumericDate(ie,Re,Le,A);continue}if(A.match(/[0-9]{4}/)){ie["year"+Le]=A.replace(/^0*/,"");continue}(A==="~"||A==="?"||A==="c"||A.match(/^cir/))&&(ie.circa=!0);for(var k=0,U=this.monthRexes.length;k<U;k++)if(A.toLocaleLowerCase().match(this.monthRexes[k])){ie["month"+Le]=""+(parseInt(k,10)+1);continue e}if(A.match(/^[0-9]+$/)&&(M=A),A.toLocaleLowerCase().match(/^bc/)&&M){ie["year"+Le]=""+M*-1,M="";continue}if(A.toLocaleLowerCase().match(/^ad/)&&M){ie["year"+Le]=""+M,M="";continue}if(A.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)&&!ie["season"+Le]){te=A;continue}}M&&(ie["day"+Le]=M,M=""),te&&!ie["season"+Le]&&(ie["season"+Le]=te.trim(),te=""),Le="_end"}if(je)for(var Je=0,B=i.DATE_PARTS_ALL.length;Je<B;Je++){var H=i.DATE_PARTS_ALL[Je];ie[H]&&!ie[H+"_end"]?ie[H+"_end"]=ie[H]:!ie[H]&&ie[H+"_end"]&&(ie[H]=ie[H+"_end"])}(!ie.year||ie.year&&ie.day&&!ie.month)&&(ie={literal:I});for(var ae=["year","month","day","year_end","month_end","day_end"],V=0,me=ae.length;V<me;V++){var pe=ae[V];typeof ie[pe]=="string"&&ie[pe].match(/^[0-9]+$/)&&(ie[pe]=parseInt(ie[pe],10))}return ee&&Object.keys(ie).indexOf("year")>-1&&(ie.year=ie.year*-1),ie},this.parseDateToArray=function(C){return this.convertDateObjectToArray(this.parseDateToObject(C))},this.parseDateToString=function(C){return this.convertDateObjectToString(this.parseDateToObject(C))},this.parse=function(C){return this.parseDateToObject(C)},this.setOrderMonthDay(),this.resetDateParserMonths()},i.DateParser=new i.DateParser,i.Engine=function(e,t,r,n){var s,o;this.processor_version=i.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(g){if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(g),_=1;_<arguments.length;_++){var E=arguments[_];if(E!=null)for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(h[b]=E[b])}return h},writable:!0,configurable:!0}),e.variableWrapper&&(i.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(i.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),i.retrieveStyleModule&&(this.sys.retrieveStyleModule=i.retrieveStyleModule),i.getAbbreviation&&(this.sys.getAbbreviation=i.getAbbreviation),this.sys.stringCompare&&(i.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=i.AbbreviationSegments,this.transform=new i.Transform(this),this.setParseNames=function(d){this.opt["parse-names"]=d},this.opt=new i.Engine.Opt,this.tmp=new i.Engine.Tmp,this.build=new i.Engine.Build,this.fun=new i.Engine.Fun(this),this.configure=new i.Engine.Configure,this.citation_sort=new i.Engine.CitationSort,this.bibliography_sort=new i.Engine.BibliographySort,this.citation=new i.Engine.Citation(this),this.bibliography=new i.Engine.Bibliography,this.intext=new i.Engine.InText,this.output=new i.Output.Queue(this),this.dateput=new i.Output.Queue(this),this.cslXml=i.setupXml(t);for(var l in i.SYS_OPTIONS){var f=i.SYS_OPTIONS[l];typeof this.sys[f]=="boolean"&&(this.opt.development_extensions[f]=this.sys[f])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(d,g){var h=this.cslXml.children(d);this.cslXml.setAttribute(d,"cslid",this.build.cslNodeId),this.opt.nodenames.push(g),this.build.cslNodeId+=1;for(var _=0,E=this.cslXml.numberofnodes(h);_<E;_+=1)g=this.cslXml.nodename(h[_]),g&&this.setCslNodeIds(h[_],g)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),s=this.cslXml.attributes(this.cslXml.dataObj),typeof s["@sort-separator"]>"u"&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),this.opt.version.slice(0,4)==="1.1m"&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),r&&(r=r.replace("_","-"),r=i.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=i.normalizeLocaleStr(this.opt["default-locale"][0])),r&&n&&(this.opt["default-locale"]=[r]),r&&!n&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),this.opt["default-locale"].length===0&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),o=i.localeResolve(r),this.opt.lang=o.best,this.opt["default-locale"][0]=o.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(o);function m(g){var g=g.slice(),h=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+g.join("|")+")(?=[!?:]*\\s+|-|$))","g");return h}this.locale[this.opt.lang].opts["skip-words-regexp"]=m(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new i.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new i.Registry(this),this.macros={},this.build.area="citation";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.build.area="bibliography";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.build.area="intext";var p=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(p,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new i.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new i.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=i.DateParser,this.fun.flipflopper=new i.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=i.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=i.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},i.Engine.prototype.setCloseQuotesArray=function(){var e;e=[],e.push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},i.makeBuilder=function(e,t){var r=[],n=[];function s(m){n.push(m),i.XmlToToken.call(m,e,i.START,t,r)}function o(){var m=n.pop();i.XmlToToken.call(m,e,i.END,t,r)}function l(m){i.XmlToToken.call(m,e,i.SINGLETON,t,r)}function f(m,p,d){m||(m=[]),typeof m.length>"u"&&(m=[m]);for(var g=0;g<m.length;g++){var h=m[g];e.cslXml.nodename(h)!==null&&(p&&e.cslXml.nodename(h)==="date"&&(i.Util.fixDateNode.call(e,p,g,h),h=e.cslXml.children(p)[g]),e.cslXml.numberofnodes(e.cslXml.children(h))?(s(h),f(e.cslXml.children(h),h),o()):l(h))}}return f},i.Engine.prototype.buildTokenLists=function(e,t){if(this.cslXml.getNodeValue(e)){var r=i.makeBuilder(this,t),n;typeof e.length>"u"?n=e:n=e[0],r(n)}},i.Engine.prototype.setStyleAttributes=function(){var r,e,t,r={};r.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj);for(t in e)e.hasOwnProperty(t)&&i.Attributes[t].call(r,this,e[t])},i.Engine.prototype.getTerm=function(e,t,r,n,s,o){e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(i.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase());var l;o?l=this.opt["default-locale"][0]:l=this.opt.lang;var f=i.Engine.getField(i.LOOSE,this.locale[l].terms,e,t,r,n);return!f&&e==="range-delimiter"&&(f="â"),typeof f>"u"&&(s===i.STRICT?i.error('Error in getTerm: term "'+e+'" does not exist.'):s===i.TOLERANT&&(f="")),f&&(this.tmp.cite_renders_content=!0),f},i.Engine.prototype.getDate=function(e,t){var r;return t?r=this.opt["default-locale"]:r=this.opt.lang,this.locale[r].dates[e]?this.locale[r].dates[e]:!1},i.Engine.prototype.getOpt=function(e){return typeof this.locale[this.opt.lang].opts[e]<"u"?this.locale[this.opt.lang].opts[e]:!1},i.Engine.prototype.getVariable=function(e,t,r,n){return i.Engine.getField(i.LOOSE,e,t,r,n)},i.Engine.prototype.getDateNum=function(e,t){return typeof e>"u"?0:e[t]},i.Engine.getField=function(e,t,r,n,s,o){var l,f,m,p,d,g;if(l="",typeof t[r]>"u")if(e===i.STRICT)i.error('Error in getField: term "'+r+'" does not exist.');else return;for(o&&t[r][o]?g=t[r][o]:g=t[r],f=[],n==="symbol"?f=["symbol","short"]:n==="verb-short"?f=["verb-short","verb"]:n!=="long"&&(f=[n]),f=f.concat(["long"]),d=f.length,p=0;p<d;p+=1)if(m=f[p],typeof g=="string"||typeof g=="number")l=g;else if(typeof g[m]<"u"){typeof g[m]=="string"||typeof g[m]=="number"?l=g[m]:typeof s=="number"?l=g[m][s]:l=g[m][0];break}return l},i.Engine.prototype.configureTokenLists=function(){var e,t,r;for(r=i.AREAS.length,t=0;t<r;t+=1){e=i.AREAS[t];var n=this[e].tokens;this.configureTokenList(n)}return this.version=i.version,this.state},i.Engine.prototype.configureTokenList=function(e){var t,r,n,s,o,l,f,m;for(t=["year","month","day"],f=e.length-1,o=f;o>-1;o+=-1){if(r=e[o],r.name==="date"&&i.END===r.tokentype&&(n=[]),r.name==="date-part"&&r.strings.name)for(m=t.length,l=0;l<m;l+=1)s=t[l],s===r.strings.name&&n.push(r.strings.name);r.name==="date"&&i.START===r.tokentype&&(n.reverse(),r.dateparts=n),r.next=o+1,r.name&&i.Node[r.name].configure&&i.Node[r.name].configure.call(r,this,o)}},i.Engine.prototype.refetchItems=function(e){for(var t=[],r=0,n=e.length;r<n;r+=1)t.push(this.refetchItem(""+e[r]));return t},i.ITERATION=0,i.Engine.prototype.retrieveItem=function(e){var t,r,n;if(!this.tmp.loadedItemIDs[e])this.tmp.loadedItemIDs[e]=!0;else return this.registry.refhash[e];if(this.opt.development_extensions.normalize_lang_keys_to_lowercase&&typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase=="boolean"){for(var n=0,s=this.opt["default-locale"].length;n<s;n+=1)this.opt["default-locale"][n]=this.opt["default-locale"][n].toLowerCase();for(var n=0,s=this.opt["locale-translit"].length;n<s;n+=1)this.opt["locale-translit"][n]=this.opt["locale-translit"][n].toLowerCase();for(var n=0,s=this.opt["locale-translat"].length;n<s;n+=1)this.opt["locale-translat"][n]=this.opt["locale-translat"][n].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(i.ITERATION+=1,t=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(t.multi){if(t.multi._keys)for(var o in t.multi._keys)for(var l in t.multi._keys[o])l!==l.toLowerCase()&&(t.multi._keys[o][l.toLowerCase()]=t.multi._keys[o][l],delete t.multi._keys[o][l]);if(t.multi.main)for(var o in t.multi.main)t.multi.main[o]=t.multi.main[o].toLowerCase()}for(var n=0,s=i.NAME_VARIABLES.length;n>s;n+=1){var f=i.NAME_VARIABLES[n];if(t[f]&&t[f].multi)for(var m=0,p=t[f].length;m<p;m+=1){var d=t[f][m];if(d.multi){if(d.multi._key)for(var l in d.multi._key)l!==l.toLowerCase()&&(d.multi._key[l.toLowerCase()]=d.multi._key[l],delete d.multi._key[l]);d.multi.main&&(d.multi.main=d.multi.main.toLowerCase())}}}}if(t.language&&t.language.match(/[><]/)){var r=t.language.match(/(.*?)([<>])(.*)/);r[2]==="<"?(t["language-name"]=r[1],t["language-name-original"]=r[3]):(t["language-name"]=r[3],t["language-name-original"]=r[1]),this.opt.multi_layout?t["language-name-original"]&&(t.language=t["language-name-original"]):t["language-name"]&&(t.language=t["language-name"])}if(t.page){t["page-first"]=t.page;var g=""+t.page,r=g.split(/\s*(?:&|, |-|\u2013)\s*/);r[0].slice(-1)!=="\\"&&(t["page-first"]=r[0])}this.opt.development_extensions.field_hack&&t.note&&i.parseNoteFieldHacks(t,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var l in t)if(i.DATE_VARIABLES.indexOf(l.replace(/^alt-/,""))>-1){var h=t[l];h&&(this.opt.development_extensions.raw_date_parsing&&h.raw&&(!h["date-parts"]||h["date-parts"].length===0)&&(h=this.fun.dateparser.parseDateToObject(h.raw)),t[l]=this.dateParseArray(h))}if(this.opt.development_extensions.consolidate_legal_items&&t.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1){for(var _,E=["type","title","jurisdiction","genre","volume","container-title"],b=[],n=0,s=E.length;n<s;n+=1)_=E[n],t[_]&&b.push(t[_]);E=["original-date","issued"];for(var n=0,s=E.length;n<s;n+=1)if(_=E[n],t[_]&&t[_].year){var S=t[_].year;b.push(S);break}t.legislation_id=b.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(t.type)>-1){for(var _,E=["type","container-title","publisher","edition"],x=[],n=0,s=E.length;n<s;n+=1)_=E[n],t[_]&&x.push(t[_]);t.container_id=x.join("::")}if(this.opt.development_extensions.force_jurisdiction&&typeof t.authority=="string"&&(t.authority=[{literal:t.authority,multi:{_key:{}}}],t.multi&&t.multi._keys&&t.multi._keys.authority)){t.authority[0].multi._key={};for(var l in t.multi._keys.authority)t.authority[0].multi._key[l]={literal:t.multi._keys.authority[l]}}if(t["title-short"]||(t["title-short"]=t.shortTitle),this.opt.development_extensions.main_title_from_short_title){var O=this.opt["default-locale"][0].slice(0,2).toLowerCase()==="fr";i.extractTitleAndSubtitle.call(this,t,O)}var w=["bill","legal_case","legislation","gazette","regulation"].indexOf(t.type)>-1;this.opt.development_extensions.force_jurisdiction&&w&&(t.jurisdiction||(t.jurisdiction="us"));var T;if(!w&&t.title&&this.sys.getAbbreviation){t.jurisdiction,this.sys.normalizeAbbrevsKey?T=this.sys.normalizeAbbrevsKey("title",t.title):T=t.title;var q=this.transform.loadAbbreviation(t.jurisdiction,"title",T,t.language);this.transform.abbrevs[q].title&&this.transform.abbrevs[q].title[T]&&(t["title-short"]=this.transform.abbrevs[q].title[T])}if(t["container-title-short"]||(t["container-title-short"]=t.journalAbbreviation),t["container-title"]&&this.sys.getAbbreviation){this.sys.normalizeAbbrevsKey?T=this.sys.normalizeAbbrevsKey(t["container-title"]):T=t["container-title"];var q=this.transform.loadAbbreviation(t.jurisdiction,"container-title",T,t.language);this.transform.abbrevs[q]["container-title"]&&this.transform.abbrevs[q]["container-title"][T]&&(t["container-title-short"]=this.transform.abbrevs[q]["container-title"][T])}if(t.jurisdiction&&(t.country=t.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(t)){for(var l in this.registry.refhash[e])delete this.registry.refhash[e][l];this.tmp.taintedItemIDs[t.id]=!0,Object.assign(this.registry.refhash[e],t)}}else this.registry.refhash[e]=t;return this.registry.refhash[e]},i.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},i.Engine.prototype.setOpt=function(e,t,r){e.name==="style"||e.name==="cslstyle"?(this.opt.inheritedAttributes[t]=r,this.citation.opt.inheritedAttributes[t]=r,this.bibliography.opt.inheritedAttributes[t]=r):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=r:e.strings[t]=r},i.Engine.prototype.inheritOpt=function(e,t,r,n){if(typeof e.strings[t]<"u")return e.strings[t];var s=this[this.tmp.root].opt.inheritedAttributes[r||t];return typeof s<"u"?s:n},i.Engine.prototype.remapSectionVariable=function(e){for(var t=0,r=e.length;t<r;t+=1){var n=e[t][0],s=e[t][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){if(s.locator){s.locator=s.locator.trim();var o=s.locator.match(i.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);o||(s.label?s.locator=i.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator)}var l=null;if(n.section){n.section=n.section.trim();var o=n.section.match(i.STATUTE_SUBDIV_PLAIN_REGEX_FRONT);o?l=o[0].trim():(n.section="sec. "+n.section,l="sec.")}if(n.section)if(!s.locator)s.locator=n.section;else{var o=s.locator.match(/^([^ ]*)\s*(.*)/),f=" ";o?(o[1]==="p."&&l!=="p."&&(s.locator=o[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(f="")):f="",s.locator=n.section+f+s.locator}s.label=""}}},i.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var t=""+e.number;t=t.split("\\").join("");var r=t.split(/\s+/)[0],n=i.STATUTE_SUBDIV_STRINGS[r];if(n){var s=t.split(i.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var o=[],l=1,f=s.length;l<f;l+=1)o.push(s[l].replace(/\s*$/,"").replace(/^\s*/,""));t=o.join(" ")}else t=s[0];this.tmp.shadow_numbers.number.label=n,this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",t,!1]),this.tmp.shadow_numbers.number.numeric=!0}},i.substituteOne=function(e){return function(t,r){return r?e.replace("%%STRING%%",r):""}},i.substituteTwo=function(e){return function(t){var r=e.replace("%%PARAM%%",t);return function(n,s){return s?r.replace("%%STRING%%",s):""}}},i.Mode=function(e){var t,r,n,s,o,l;t={},r=i.Output.Formats[e];for(n in r){if(n.slice(0,1)!=="@"){t[n]=r[n];continue}s=!1,o=r[n],l=n.split("/"),typeof o=="string"&&o.indexOf("%%STRING%%")>-1?o.indexOf("%%PARAM%%")>-1?s=i.substituteTwo(o):s=i.substituteOne(o):typeof o=="boolean"&&!o?s=i.Output.Formatters.passthrough:typeof o=="function"?s=o:i.error("Bad "+e+" config entry for "+n+": "+o),l.length===1?t[l[0]]=s:l.length===2&&(t[l[0]]||(t[l[0]]={}),t[l[0]][l[1]]=s)}return t},i.setDecorations=function(e,t){var r,n,s;r=[];for(s in i.FORMAT_KEY_SEQUENCE){var n=i.FORMAT_KEY_SEQUENCE[s];t[n]&&(r.push([n,t[n]]),delete t[n])}return r},i.Doppeler=function(e,t){var r=new RegExp("("+e+")","g"),n=new RegExp(e,"g");this.split=function(s){t&&(s=t(s));var o=s.match(r);if(!o)return{tags:[],strings:[s]};for(var l=s.split(n),f=o.length-1;f>-1;f--){typeof o[f]=="number"&&(o[f]="");var m=o[f];m==="'"&&l[f+1].length>0&&(l[f+1]=o[f]+l[f+1],o[f]="")}return{tags:o,strings:l,origStrings:l.slice()}},this.join=function(s){for(var o=s.strings.slice(-1),l=s.tags.length-1;l>-1;l--)o.push(s.tags[l]),o.push(s.strings[l]);return o.reverse(),o.join("")}},i.Engine.prototype.normalDecorIsOrphan=function(e,t){if(t[1]==="normal"){var r=!1,n;this.tmp.area==="citation"?n=[this.citation.opt.layout_decorations].concat(e.alldecor):n=e.alldecor;for(var s=n.length-1;s>-1;s+=-1)for(var o=n[s].length-1;o>-1;o+=-1)n[s][o][0]===t[0]&&n[s][o][1]!=="normal"&&(r=!0);if(!r)return!0}return!1},i.Engine.prototype.getCitationLabel=function(e){var t="",r=this.getTrigraphParams(),n=r[0],s=this.getTerm("reference","short",0);typeof s>"u"&&(s="reference"),s=s.replace(".",""),s=s.slice(0,1).toUpperCase()+s.slice(1);for(var o=0,l=i.NAME_VARIABLES.length;o<l;o+=1){var f=i.NAME_VARIABLES[o];if(e[f]){var m=e[f];m.length>r.length?n=r[r.length-1]:n=r[m.length-1];for(var p=0,d=m.length;p<d&&p!==n.authors.length;p+=1){var g=this.nameOutput.getName(m[p],"locale-translit",!0),h=g.name;h&&h.family?(s=h.family,s=s.replace(/^([ \'\u2019a-z]+\s+)/,"")):h&&h.literal&&(s=h.literal);var _=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(_&&(s=s.slice(_[1].length)),s=s.replace(i.ROMANESQUE_NOT_REGEXP,""),!s)break;s=s.slice(0,n.authors[p]),s.length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():s.length===1&&(s=s.toUpperCase()),t+=s}break}}if(!t&&e.title){for(var E=this.locale[this.opt.lang].opts["skip-words"],b=e.title.split(/\s+/),o=b.length-1;o>-1;o--)E.indexOf(b[o])>-1&&(b=b.slice(0,o).concat(b.slice(o+1)));var S=b.join("");S=S.slice(0,r[0].authors[0]),S.length>1?S=S.slice(0,1).toUpperCase()+S.slice(1).toLowerCase():S.length===1&&(S=S.toUpperCase()),t=S}var x="0000";return e.issued&&e.issued.year&&(x=""+e.issued.year),x=x.slice(n.year*-1),t=t+x,t},i.Engine.prototype.getTrigraphParams=function(){var e=[],t=this.opt.trigraph.split(":");(!this.opt.trigraph||this.opt.trigraph.slice(0,1)!=="A")&&i.error("Bad trigraph definition: "+this.opt.trigraph);for(var r=0,n=t.length;r<n;r+=1){for(var s=t[r],o={authors:[],year:0},l=0,f=s.length;l<f;l+=1)switch(s.slice(l,l+1)){case"A":o.authors.push(1);break;case"a":o.authors[o.authors.length-1]+=1;break;case"0":o.year+=1;break;default:i.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(o)}return e},i.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=i.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},i.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},i.Engine.prototype.setLangTagsForCslSort=function(e){var t,r;if(e)for(this.opt["locale-sort"]=[],t=0,r=e.length;t<r;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},i.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,r;if(this.opt["locale-translit"]=[],e)for(t=0,r=e.length;t<r;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},i.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,r;if(this.opt["locale-translat"]=[],e)for(t=0,r=e.length;t<r;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},i.Engine.prototype.setLangPrefsForCites=function(e,t){var r=this.opt["cite-lang-prefs"];t||(t=function(_){return _.toLowerCase()});for(var n=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,o=n.length;s<o;s+=1){var l=t(n[s]),f=n[s].toLowerCase();if(e[l]){for(var m=[];e[l].length>1;)m.push(e[l].pop());var p={orig:1,translit:2,translat:3};for(m.length===2&&p[m[0]]<p[m[1]]&&m.reverse();m.length;)e[l].push(m.pop());for(var d=r[f];d.length;)d.pop();for(var g=0,h=e[l].length;g<h;g+=1)d.push(e[l][g])}}},i.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&e.length===48){for(var t=this.opt.citeAffixes,r=0,n=["persons","institutions","titles","journals","publishers","places"],s=["translit","orig","translit","translat"],o,l=0,f=n.length;l<f;l+=1)for(var m=0,p=s.length;m<p;m+=1)o="",r%8===4?!t[n[l]]["locale-"+s[m]].prefix&&!t[n[l]]["locale-"+s[m]].suffix&&(o=e[r]?e[r]:"",t[n[l]]["locale-"+s[m]].prefix=o,o=e[r]?e[r+1]:"",t[n[l]]["locale-"+s[m]].suffix=o):(o=e[r]?e[r]:"",t[n[l]]["locale-"+s[m]].prefix=o,o=e[r]?e[r+1]:"",t[n[l]]["locale-"+s[m]].suffix=o),r+=2;this.opt.citeAffixes=t}},i.Engine.prototype.setAutoVietnameseNamesOption=function(e){e?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1},i.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},i.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},i.Output={},i.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new i.Token("empty");var t={};t.empty=this.empty,this.formats=new i.Stack(t),this.current=new i.Stack(this.queue)},i.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},i.Output.Queue.prototype.getToken=function(e){var t=this.formats.value()[e];return t},i.Output.Queue.prototype.mergeTokenStrings=function(e,t){var r,n,s,o;if(r=this.formats.value()[e],n=this.formats.value()[t],s=r,n){r||(r=new i.Token(e,i.SINGLETON),r.decorations=[]),s=new i.Token(e,i.SINGLETON);var o="";for(var o in r.strings)r.strings.hasOwnProperty(o)&&(s.strings[o]=r.strings[o]);for(var o in n.strings)n.strings.hasOwnProperty(o)&&(s.strings[o]=n.strings[o]);s.decorations=r.decorations.concat(n.decorations)}return s},i.Output.Queue.prototype.addToken=function(e,t,r){var n,s;if(n=new i.Token("output"),typeof r=="string"&&(r=this.formats.value()[r]),r&&r.strings){for(s in r.strings)r.strings.hasOwnProperty(s)&&(n.strings[s]=r.strings[s]);n.decorations=r.decorations}typeof t=="string"&&(n.strings.delimiter=t),this.formats.value()[e]=n},i.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},i.Output.Queue.prototype.popFormats=function(){this.formats.pop()},i.Output.Queue.prototype.startTag=function(e,t){var r={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),r[e]=t,this.pushFormats(r),this.openLevel(e)},i.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},i.Output.Queue.prototype.openLevel=function(e){var t,r;typeof e=="object"?t=new i.Blob(void 0,e):typeof e>"u"?t=new i.Blob(void 0,this.formats.value().empty,"empty"):((!this.formats.value()||!this.formats.value()[e])&&i.error('CSL processor error: call to nonexistent format token "'+e+'"'),t=new i.Blob(void 0,this.formats.value()[e],e)),r=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.prefix=this.checkNestedBrace.update(t.strings.prefix)),r.push(t),this.current.push(t)},i.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&i.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var t=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(t.strings.suffix=this.checkNestedBrace.update(t.strings.suffix))},i.Output.Queue.prototype.append=function(e,t,r,n,s){var o,l,f,m=!0;if(r&&(n=!0),this.state.tmp["doing-macro-with-date"]&&!r){if(t!=="macro-with-date")return!1;t==="macro-with-date"&&(t="empty")}if(typeof e>"u"||(typeof e=="number"&&(e=""+e),!r&&this.state.tmp.element_trace&&this.state.tmp.element_trace.value()==="suppress-me"))return!1;if(l=!1,t?t==="literal"?(o=!0,m=!1):typeof t=="string"?o=this.formats.value()[t]:o=t:o=this.formats.value().empty,o||i.error("CSL processor error: unknown format token name: "+t),o.strings&&typeof o.strings.delimiter>"u"&&(o.strings.delimiter=""),typeof e=="string"&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g,"â¯$1").replace(/\u00ab /g,"Â«â¯"),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),r||(e=e.replace(/^'/g," '")),n?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),l=new i.Blob(e,o),f=this.current.value(),typeof f>"u"&&this.current.mystack.length===0&&(this.current.mystack.push([]),f=this.current.value()),typeof l.blobs=="string"&&(n?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),typeof e=="string"){if(typeof l.blobs=="string"&&l.blobs.slice(0,1)!==" "){for(var p="",d=l.blobs;i.TERMINAL_PUNCTUATION.indexOf(d.slice(0,1))>-1;)p=p+d.slice(0,1),d=d.slice(1);d&&p&&(l.strings.prefix=l.strings.prefix+p,l.blobs=d)}l.strings["text-case"]&&(l.blobs=i.Output.Formatters[l.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!s&&(l.blobs=l.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var g=l.decorations.length-1;g>-1;g+=-1)l.decorations[g][0]==="@quotes"&&l.decorations[g][1]!=="false"&&(l.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),l.blobs.match(i.ROMANESQUE_REGEXP)||l.decorations[g][0]==="@font-style"&&(l.decorations=l.decorations.slice(0,g).concat(l.decorations.slice(g+1)));f.push(l),this.state.fun.flipflopper.processTags(l)}else m?f.push(l):f.push(e);return!0},i.Output.Queue.prototype.string=function(e,t,r){var n,s,o,l,f,m=i.getSafeEscape(this.state),p=t.slice(),d=[];if(p.length===0)return d;var g="";r?g=r.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=e.opt.lang,e.opt.lang=r.new_locale);for(var h,_,E,b,n=0,s=p.length;n<s;n+=1){if(h=p[n],h.strings.first_blob&&(e.tmp.count_offset_characters=h.strings.first_blob),typeof h.blobs=="string"){if(typeof h.num=="number")d.push(h);else if(h.blobs){h.particle&&(h.blobs=h.particle+h.blobs,h.particle=""),f=m(h.blobs);var S=f.length;if(!e.tmp.suppress_decorations)for(o=0,l=h.decorations.length;o<l;o+=1)b=h.decorations[o],b[0]!=="@showid"&&(e.normalDecorIsOrphan(h,b)||(f=e.fun.decorate[b[0]][b[1]].call(h,e,f,b[2])));if(f&&f.length){if(f=m(h.strings.prefix)+f+m(h.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(o=0,l=h.decorations.length;o<l;o+=1)b=h.decorations[o],b[0]==="@showid"&&(f=e.fun.decorate[b[0]][b[1]].call(h,e,f,b[2]));d.push(f),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=S+h.strings.suffix.length+h.strings.prefix.length)}}}else if(h.blobs.length){var x=e.output.string(e,h.blobs,h);if(r&&x!=="string"&&x.length>1&&h.strings.delimiter)for(var O=!1,o=0,l=x.length;o<l;o++)typeof x[o]!="string"?O=!0:O&&(x[o]=h.strings.delimiter+x[o]);d=d.concat(x)}h.strings.first_blob&&e.registry.registry[h.strings.first_blob]&&(e.registry.registry[h.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(n=0,s=d.length-1;n<s;n+=1)typeof d[n].num=="number"&&typeof d[n+1].num=="number"&&!d[n+1].UGLY_DELIMITER_SUPPRESS_HACK&&(d[n].strings.suffix=d[n].strings.suffix+(g||""),d[n+1].successor_prefix="",d[n+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);for(var w=0,n=0,s=d.length;n<s;n+=1)typeof d[n]=="string"&&(w=parseInt(n,10)+1,n<d.length-1&&typeof d[n+1]=="object"&&(g&&!d[n+1].UGLY_DELIMITER_SUPPRESS_HACK&&(d[n]+=m(g)),d[n+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))w=d.length;else if(r&&r.strings.prefix){for(var n=0,s=d.length;n<s;n++)if(typeof d[n].num<"u"){w=n,n===0&&(d[n].strings.prefix=r.strings.prefix+d[n].strings.prefix);break}}var T=e.output.renderBlobs(d.slice(0,w),g,!1,r);if(T&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!e.tmp.suppress_decorations)for(var n=0,s=r.decorations.length;n<s;n+=1)b=r.decorations[n],!(["@cite","@bibliography","@display","@showid"].indexOf(b[0])>-1)&&(e.normalDecorIsOrphan(h,b)||b[0]&&typeof T=="string"&&(T=e.fun.decorate[b[0]][b[1]].call(r,e,T,b[2])));if(f=T,_=r.strings.suffix,f&&f.length&&(E=r.strings.prefix,f=m(E)+f+m(_),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=E.length+_.length)),T=f,!e.tmp.suppress_decorations)for(var n=0,s=r.decorations.length;n<s;n+=1)b=r.decorations[n],["@cite","@bibliography","@display","@showid"].indexOf(b[0])!==-1&&typeof T=="string"&&(T=e.fun.decorate[b[0]][b[1]].call(r,e,T,b[2]))}var q=d.slice(w,d.length);return!q.length&&T?d=[T]:q.length&&!T?d=q:T&&q.length&&(d=[T].concat(q)),typeof r>"u"?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(d=e.output.renderBlobs(d,void 0,!1))):typeof r=="boolean"&&(d=e.output.renderBlobs(d,void 0,!0)),r&&r.new_locale&&(e.opt.lang=r.old_locale),d},i.Output.Queue.prototype.clearlevel=function(){var e,t,r;for(e=this.current.value(),r=e.blobs.length,t=0;t<r;t+=1)e.blobs.pop()},i.Output.Queue.prototype.renderBlobs=function(e,t,r,n){var s,o,l,f,m,p,d,g,h,_,E;if(E=i.getSafeEscape(this.state),t||(t=""),s=this.state,o="",l="",p=e.length,this.state.tmp.area==="citation"&&!this.state.tmp.just_looking&&p===1&&typeof e[0]=="object"&&n)return e[0].strings.prefix=n.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+n.strings.suffix,e[0].decorations=e[0].decorations.concat(n.decorations),e[0].params=n.params,e[0];var b=!0;for(m=0;m<p;m+=1)e[m].checkNext?(e[m].checkNext(e[m+1],b),b=!1):e[m+1]&&e[m+1].splice_prefix?b=!1:b=!0;var S=!0;for(m=e.length-1;m>0;m+=-1)e[m].checkLast?S&&e[m].checkLast(e[m-1])&&(S=!1):S=!0;for(p=e.length,m=0;m<p;m+=1)if(f=e[m],o&&(l=t),typeof f=="string")o+=E(l),o+=f,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=l.length);else if(r)o?o=[o,f]:o=[f];else if(f.status!==i.SUPPRESS){f.particle?h=f.particle+f.num:h=f.formatter.format(f.num,f.gender);var x=h.replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var O=this.pop(),w=s.tmp.count_offset_characters;if(h=this.string(s,[O],!1),s.tmp.count_offset_characters=w,f.strings["text-case"]&&(h=i.Output.Formatters[f.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(g=f.decorations.length,d=0;d<g;d+=1)_=f.decorations[d],!s.normalDecorIsOrphan(f,_)&&(h=s.fun.decorate[_[0]][_[1]].call(f,s,h,_[2]));h=E(f.strings.prefix)+h+E(f.strings.suffix);var T="";f.status===i.END?T=E(f.range_prefix):f.status===i.SUCCESSOR?T=E(f.successor_prefix):f.status===i.START?m>0&&!f.suppress_splice_prefix?T=E(f.splice_prefix):T="":f.status===i.SEEN&&(T=E(f.splice_prefix)),o+=T,o+=h,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=T.length+f.strings.prefix.length+x+f.strings.suffix.length)}return o},i.Output.Queue.purgeEmptyBlobs=function(e){if(!(typeof e!="object"||typeof e.blobs!="object"||!e.blobs.length))for(var t=e.blobs.length-1;t>-1;t--){i.Output.Queue.purgeEmptyBlobs(e.blobs[t]);var r=e.blobs[t];if(!r||!r.blobs||!r.blobs.length){for(var n=[];e.blobs.length-1>t;)n.push(e.blobs.pop());for(e.blobs.pop();n.length;)e.blobs.push(n.pop())}}},i.Output.Queue.adjust=function(e){var t={";":!0,":":!0},r={".":!0,"!":!0,"?":!0},n={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},s={},o={},l={},f={};for(var m in n)l[m]=!0,f[m]=!0,t[m]||(s[m]=!0),r[m]||(o[m]=!0);f[" "]=!0,f["Â "]=!0;var p={};for(var m in n)for(var d in n[m])p[d]||(p[d]={}),p[d][m]=n[m][d];function g(C){return typeof C.num=="number"||C.blobs&&C.blobs.length===1&&typeof C.blobs[0].num=="number"}function h(C){if(typeof C.num=="number")return!0;if(!C.blobs||typeof C.blobs!="object")return!1;if(h(C.blobs[C.blobs.length-1]))return!0}function _(C,I){var z=!1,X=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(I&&X.push("@quotes"),C.decorations){for(var ee=0,Y=C.decorations.length;ee<Y;ee++)if(X.indexOf(C.decorations[ee][0])>-1){z=!0;break}}return z}function E(C){if(C.decorations){for(var I=0,z=C.decorations.length;I<z;I++)if(C.decorations[I][0]==="@quotes"&&C.decorations[I][1]!=="false")return!0}return typeof C.blobs!="object"?!1:E(C.blobs[C.blobs.length-1])}function b(C,I){var z=I.strings.suffix.slice(-1);!z&&typeof I.blobs=="string"&&(z=I.blobs.slice(-1));var X=p[C][z];return X&&X.length===1?!0:typeof I.blobs!="object"?!1:!!b(C,I.blobs[I.blobs.length-1])}function S(C,I){if(!l[I])return!1;if(typeof C.blobs=="string")return C.blobs.slice(-1)===I;var z=C.blobs[C.blobs.length-1];if(z){var X=z.strings.suffix.slice(-1);return X?z.strings.suffix.slice(-1)==I:S(z,I)}else return!1}function x(C,I,z,X,ee){var Y=I==="blobs"?C:C.strings,K=X==="blobs"?z:z.strings,se=Y[I].slice(-1),F=K[X].slice(0,1);function G(){K[X]=K[X].slice(1)}function V(){Y[I]=Y[I].slice(0,-1)}function me(Ne){K[X]=Ne+K[X]}function ue(Ne){Y[I]+=Ne}var M=ee?V:G;function te(){return p[F]}function ie(){return n[se]}var we=ee?ie:te;function Re(){var Ne=n[se][F];typeof Ne=="string"?(V(),G(),me(Ne)):(me(se),V())}function Te(){var Ne=p[F][se];typeof Ne=="string"?(V(),G(),ue(Ne)):(ue(F),G())}var Se=ee?Re:Te,Ie=se===F;Ie?M():we()&&Se()}function O(C){if(C.blobs&&typeof C.blobs=="string"){l[C.strings.suffix.slice(0,1)]&&C.strings.suffix.slice(0,1)===C.blobs.slice(-1)&&(C.strings.suffix=C.strings.suffix.slice(1));return}else if(typeof C!="object"||typeof C.blobs!="object"||!C.blobs.length)return;for(var I=_(C,!0),z=C.blobs.length-1;z>-1;z--){this.upward(C.blobs[z]);var X=C.strings,ee=C.blobs[z].strings;if(z===0){X.prefix.slice(-1)===" "&&ee.prefix.slice(0,1)===" "&&(ee.prefix=ee.prefix.slice(1));var Y=ee.prefix.slice(0,1);!I&&f[Y]&&!X.prefix&&(X.prefix+=Y,ee.prefix=ee.prefix.slice(1))}if(z===C.blobs.length-1){var Y=ee.suffix.slice(-1);!I&&[" "].indexOf(Y)>-1&&(X.suffix.slice(0,1)!==Y&&(X.suffix=Y+X.suffix),ee.suffix=ee.suffix.slice(0,-1))}X.delimiter&&z>0&&f[X.delimiter.slice(-1)]&&X.delimiter.slice(-1)===ee.prefix.slice(0,1)&&(ee.prefix=ee.prefix.slice(1))}}function w(C){if(!(typeof C!="object"||typeof C.blobs!="object"||!C.blobs.length)){for(var I=C.blobs.length-1;I>-1;I--)if(this.leftward(C.blobs[I]),I<C.blobs.length-1&&!C.strings.delimiter){var z=C.blobs[I],X=z.strings.suffix.slice(-1),ee=C.blobs[I+1],Y=ee.strings.prefix.slice(0,1),K=_(z)||_(ee),se=typeof X=="number"||typeof Y=="number";if(!K&&!se&&l[Y]&&!se){var F=Y===z.strings.suffix.slice(-1),G=!z.strings.suffix&&typeof z.blobs=="string"&&z.blobs.slice(-1)===Y;!F&&!G?x(z,"suffix",ee,"prefix"):ee.strings.prefix=ee.strings.prefix.slice(1)}}}}function T(C){if(C.blobs&&typeof C.blobs=="string"){l[C.strings.suffix.slice(0,1)]&&C.strings.suffix.slice(0,1)===C.blobs.slice(-1)&&(C.strings.suffix=C.strings.suffix.slice(1));return}else if(typeof C!="object"||typeof C.blobs!="object"||!C.blobs.length)return;for(var I=C.strings,z=0,X=C.blobs.length;z<X&&!g(C.blobs[z]);z++);if(I.delimiter&&l[I.delimiter.slice(0,1)]){for(var ee=I.delimiter.slice(0,1),z=C.blobs.length-2;z>-1;z--){var Y=C.blobs[z].strings;Y.suffix.slice(-1)!==ee&&(Y.suffix+=ee)}I.delimiter=I.delimiter.slice(1)}for(var z=C.blobs.length-1;z>-1;z--){var K=C.blobs[z],Y=C.blobs[z].strings,se=_(K,!0),F=g(K);if(z===C.blobs.length-1){{var G=I.suffix.slice(0,1),V=!1;l[G]&&(V=b(G,K),!V&&e&&(V=E(K))),V&&l[G]&&(h(K)||(typeof K.blobs=="string"?x(K,"blobs",C,"suffix"):x(K,"suffix",C,"suffix"),I.suffix.slice(0,1)==="."&&(Y.suffix+=I.suffix.slice(0,1),I.suffix=I.suffix.slice(1)))),Y.suffix.slice(-1)==="Â "&&I.suffix.slice(0,1)===" "&&(I.suffix=I.suffix.slice(1)),f[Y.suffix.slice(0,1)]&&(typeof K.blobs=="string"&&K.blobs.slice(-1)===Y.suffix.slice(0,1)&&(Y.suffix=Y.suffix.slice(1)),Y.suffix.slice(-1)===I.suffix.slice(0,1)&&(I.suffix=I.suffix.slice(0,-1)))}S(C,C.strings.suffix.slice(0,1))&&(C.strings.suffix=C.strings.suffix.slice(1))}else if(I.delimiter)f[I.delimiter.slice(0,1)]&&I.delimiter.slice(0,1)===Y.suffix.slice(-1)&&(C.blobs[z].strings.suffix=C.blobs[z].strings.suffix.slice(0,-1));else{var me=C.blobs[z+1].strings;!g(K)&&!se&&f[Y.suffix.slice(-1)]&&Y.suffix.slice(-1)===me.prefix.slice(0,1)&&(me.prefix=me.prefix.slice(1))}!F&&!se&&l[Y.suffix.slice(0,1)]&&typeof K.blobs=="string"&&x(K,"blobs",K,"suffix"),this.downward(C.blobs[z])}}function q(C){var I=C.strings.suffix.slice(0,1);if(typeof C.blobs=="string")for(;s[I];)x(C,"blobs",C,"suffix"),I=C.strings.suffix.slice(0,1);else for(;s[I];)x(C.blobs[C.blobs.length-1],"suffix",C,"suffix"),I=C.strings.suffix.slice(0,1)}function N(C){if(typeof C.blobs=="string")for(var I=C.blobs.slice(-1);o[I];)x(C,"blobs",C,"suffix",!0),I=C.blobs.slice(-1);else for(var I=C.blobs[C.blobs.length-1].strings.suffix.slice(-1);o[I];)x(C.blobs[C.blobs.length-1],"suffix",C,"suffix",!0),I=C.blobs[C.blobs.length-1].strings.suffix.slice(-1)}function W(C){if(!(typeof C!="object"||typeof C.blobs!="object"||!C.blobs.length)){for(var I,z=0,X=C.blobs.length;z<X;z++){for(var ee=C.blobs[z],Y=!1,K=0,se=ee.decorations.length;K<se;K++){var F=ee.decorations[K];F[0]==="@quotes"&&F[1]!=="false"&&(Y=!0)}Y&&(e?q(ee):N(ee)),I=this.fix(C.blobs[z]),ee.blobs&&typeof ee.blobs=="string"&&(I=ee.blobs.slice(-1))}return I}}this.upward=O,this.leftward=w,this.downward=T,this.fix=W},i.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=i.NONE,this.bib_mode=i.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},i.Engine.Tmp=function(){this.names_max=new i.Stack,this.names_base=new i.Stack,this.givens_base=new i.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new i.Stack(0,i.LITERAL),this.element_rendered_ok=!1,this.element_trace=new i.Stack("style"),this.nameset_counter=0,this.group_context=new i.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new i.Stack(0,i.LITERAL),this.decorations=new i.Stack,this.tokenstore_stack=new i.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new i.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new i.AmbigConfig,this.bib_sort_keys=[],this.prefix=new i.Stack("",i.LITERAL),this.suffix=new i.Stack("",i.LITERAL),this.delimiter=new i.Stack("",i.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},i.Engine.Fun=function(e){this.match=new i.Util.Match,this.suffixator=new i.Util.Suffixator(i.SUFFIX_CHARS),this.romanizer=new i.Util.Romanizer,this.ordinalizer=new i.Util.Ordinalizer(e),this.long_ordinalizer=new i.Util.LongOrdinalizer},i.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new i.Stack(0,i.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},i.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},i.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new i.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},i.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},i.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=i.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},i.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},i.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},i.Engine.prototype.previewCitationCluster=function(e,t,r,n){var s=this.opt.mode;this.setOutputFormat(n),e.citationID&&delete e.citationID;var o=this.processCitationCluster(e,t,r,i.PREVIEW);return this.setOutputFormat(s),o[1]},i.Engine.prototype.appendCitationCluster=function(e){for(var t=[],r=this.registry.citationreg.citationByIndex.length,n=0;n<r;n+=1){var s=this.registry.citationreg.citationByIndex[n];t.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},i.Engine.prototype.processCitationCluster=function(e,t,r,n){var s,o,l,f,m,p,d,g,h,_,E,b,S,x,O,w,T,q;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e);var N,W,C;if(n===i.PREVIEW){this.debug&&i.debug("****** start state save *********"),N=this.registry.citationreg.citationByIndex.slice(),W=this.registry.reflist.slice();for(var I=t.concat(r),z={},X=[],f=0,m=I.length;f<m;f+=1)for(s=this.registry.citationreg.citationById[I[f][0]],p=0,d=s.citationItems.length;p<d;p+=1)z[s.citationItems[p].id]=!0,X.push(""+s.citationItems[p].id);for(p=0,d=e.citationItems.length;p<d;p+=1)z[e.citationItems[p].id]=!0,X.push(""+e.citationItems[p].id);C={};for(var f=0,m=W.length;f<m;f+=1)if(!z[W[f].id]){var ee=this.registry.registry[W[f].id].ambig,Y=this.registry.ambigcites[ee];if(Y)for(p=0,d=Y.length;p<d;p+=1)C[Y[p]]=i.cloneAmbigConfig(this.registry.registry[Y[p]].disambig)}this.debug&&i.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};for(var K=[],se={},f=0,m=e.citationItems.length;f<m;f+=1){x={};for(var b in e.citationItems[f])x[b]=e.citationItems[f][b];if(S=this.retrieveItem(""+x.id),S.id&&this.transform.loadAbbreviation("default","hereinafter",S.id,S.language),x=i.parseLocator.call(this,x),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[S,x]]),this.opt.development_extensions.locator_label_parse&&x.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(S.type)===-1&&(!x.label||x.label==="page")){var T=i.LOCATOR_LABELS_REGEXP.exec(x.locator);if(T){var F=i.LOCATOR_LABELS_MAP[T[2]];this.getTerm(F)&&(x.label=F,x.locator=T[3])}}var G=[S,x];K.push(G),e.citationItems[f].item=S}e.sortedItems=K;var V=[],me={},ue;for(f=0,m=t.length;f<m;f+=1)o=t[f],this.opt.development_extensions.strict_inputs&&(me[o[0]]&&i.error("Previously referenced citationID "+o[0]+" encountered in citationsPre"),o[1]&&(ue>o[1]&&i.debug("Note index sequence is not sane at citationsPre["+f+"]"),ue=o[1])),this.registry.citationreg.citationById[o[0]].properties.noteIndex=o[1],V.push(this.registry.citationreg.citationById[o[0]]),me[o[0]]=this.registry.citationreg.citationById[o[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(me[e.citationID]&&i.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(ue>e.properties.noteIndex&&i.debug("Note index sequence is not sane for citation "+e.citationID),ue=e.properties.noteIndex)),V.push(e),me[e.citationID]=e,f=0,m=r.length;f<m;f+=1)l=r[f],this.opt.development_extensions.strict_inputs&&(me[l[0]]&&i.error("Previously referenced citationID "+l[0]+" encountered in citationsPost"),l[1]&&(ue>l[1]&&i.debug("Note index sequence is not sane at postCitation["+f+"]"),ue=l[1])),this.registry.citationreg.citationById[l[0]].properties.noteIndex=l[1],V.push(this.registry.citationreg.citationById[l[0]]),me[l[0]]=this.registry.citationreg.citationById[l[0]];this.registry.citationreg.citationByIndex=V,this.registry.citationreg.citationById=me,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===i.POSITION&&(w=[],O=[],q={});for(var M=[],f=0,m=V.length;f<m;f+=1){for(V[f].properties.index=f,p=0,d=V[f].sortedItems.length;p<d;p+=1)x=V[f].sortedItems[p],this.registry.citationreg.citationsByItemId[x[1].id]||(this.registry.citationreg.citationsByItemId[x[1].id]=[],M.push(""+x[1].id)),this.registry.citationreg.citationsByItemId[x[1].id].indexOf(V[f])===-1&&this.registry.citationreg.citationsByItemId[x[1].id].push(V[f]);this.opt.update_mode===i.POSITION&&(V[f].properties.noteIndex?O.push(V[f]):(V[f].properties.noteIndex=0,w.push(V[f])))}if(n!==i.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&i.debug("****** start update items *********"),this.updateItems(M,null,null,!0),this.debug&&i.debug("****** endo update items *********")),!this.opt.citation_number_sort&&K&&K.length>1&&this.citation_sort.tokens.length>0){for(var f=0,m=K.length;f<m;f+=1)K[f][1].sortkeys=i.getSortKeys.call(this,K[f][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(var f=0,m=K.length;f<m;f+=1){var te=K[f][1].sortkeys;this.tmp.authorstring_request=!0;var ie=this.registry.registry[K[f][0].id].disambig;this.tmp.authorstring_request=!0,i.getAmbiguousCite.call(this,K[f][0],ie);var we=this.registry.authorstrings[K[f][0].id];this.tmp.authorstring_request=!1,K[f][1].sortkeys=[we].concat(te)}K.sort(this.citation.srt.compareCompositeKeys);for(var Re=!1,Te=!1,Se=!1,f=0,m=K.length;f<m;f+=1)K[f][1].sortkeys[0]!==Re&&(Se=K[f][1].sortkeys[0],Te=K[f][1].sortkeys[1]),K[f][1].sortkeys[0]=""+Te+f,Re=Se}e.properties.unsorted||K.sort(this.citation.srt.compareCompositeKeys)}this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems);var Ie;if(this.opt.update_mode===i.POSITION)for(var f=0;f<2;f+=1){var Ne={},je={},Le={};for(Ie=[w,O][f],p=0,d=Ie.length;p<d;p+=1){var Be=Ie[p];for(Ie[p].properties.noteIndex||(Ie[p].properties.noteIndex=0),Ie[p].properties.noteIndex=parseInt(Ie[p].properties.noteIndex,10),p>0&&Be.properties.noteIndex&&Ie[p-1].properties.noteIndex>Be.properties.noteIndex&&(q={},Ne={},je={},Le={}),g=0,h=Be.sortedItems.length;g<h;g+=1)Be.sortedItems[g][1].parallel&&Be.sortedItems[g][1].parallel!=="first"||(q[Be.properties.noteIndex]?q[Be.properties.noteIndex]+=1:q[Be.properties.noteIndex]=1);for(g=0,h=Ie[p].sortedItems.length;g<h;g+=1){x=Ie[p].sortedItems[g];var Ve=x[0].id,Je=x[0].legislation_id?x[0].legislation_id:x[0].id,B=x[0].legislation_id?x[0].legislation_id:x[0].container_id?x[0].container_id:x[0].id,A=x[1]["locator-extra"],k=x[1].locator,U=x[1].label,H,ae;if(g>0)if(Be.sortedItems[g-1][0].legislation_id)H=Be.sortedItems[g-1][0].legislation_id;else{H=Be.sortedItems[g-1][1].id,ae=Be.sortedItems[g-1][1]["locator-extra"];for(var pe=g-2;pe>-1;pe--)Be.sortedItems[pe][1].parallel==="first"&&(H=Be.sortedItems[pe][1].id,ae=Be.sortedItems[pe][1]["locator-extra"])}if(n===i.PREVIEW&&Be.citationID!=e.citationID){typeof Ne[x[1].id]>"u"&&(Ne[Je]=Be.properties.noteIndex),je[B]=Be.properties.noteIndex;continue}var Pe={};if(Pe.position=x[1].position,Pe["first-reference-note-number"]=x[1]["first-reference-note-number"],Pe["first-container-reference-note-number"]=x[1]["first-container-reference-note-number"],Pe["near-note"]=x[1]["near-note"],x[1]["first-reference-note-number"]=0,x[1]["first-container-reference-note-number"]=0,x[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[Ve]&&this.opt.xclass==="note"&&this.opt.has_disambiguate){var v=this.registry.registry[x[0].id]["citation-count"],J=this.registry.citationreg.citationsByItemId[Ve].length;if(this.registry.registry[x[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[Ve].length,typeof v=="number"){var le=v<2,ge=J<2;if(le!==ge)for(var pe=0,he=this.registry.citationreg.citationsByItemId[Ve].length;pe<he;pe++)se[this.registry.registry[x[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Ve][pe].citationID]=!0}else for(var pe=0,he=this.registry.citationreg.citationsByItemId[Ve].length;pe<he;pe++)se[this.registry.registry[x[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[Ve][pe].citationID]=!0}var ke,D;if(typeof je[B]>"u"&&Be.properties.mode!=="author-only")Ne[Je]=Be.properties.noteIndex,je[B]=Be.properties.noteIndex,Le[B]=Be.properties.noteIndex,x[1].position=i.POSITION_FIRST;else{var ne=!1,fe=!1,be=null;if(p>0)var be=Ie[p-1];var xe=Ie[p];if(p>0){var ce=1;be.properties.mode==="author-only"&&p>1&&(ce=2);var Ce=p-ce;Ie[Ce].sortedItems.length&&(ke=Ie[Ce].sortedItems.slice(-1)[0][1].id,D=Ie[p-ce].sortedItems.slice(-1)[0][1]["locator-extra"]),be.sortedItems.length&&be.sortedItems[0].slice(-1)[0].legislation_id&&(ke=be.sortedItems[0].slice(-1)[0].legislation_id)}if(p>0&&g===0&&be.properties.noteIndex!==xe.properties.noteIndex){var ye=!1,Fe=be.sortedItems[0][0].id;if(be.sortedItems[0][0].legislation_id&&(Fe=be.sortedItems[0][0].legislation_id),Fe==Je&&be.properties.noteIndex>=xe.properties.noteIndex-1){var We=be.sortedItems[0][1]["locator-extra"],He=xe.sortedItems[0][1]["locator-extra"];(q[be.properties.noteIndex]===1||be.properties.noteIndex===0)&&We===He&&(ye=!0)}ye?ne=!0:fe=!0}else g>0&&H==Je&&ae==A||g===0&&p>0&&be.properties.noteIndex==xe.properties.noteIndex&&be.sortedItems.length&&ke==Je&&D==A?ne=!0:fe=!0;var kt,pt,rn,Ar,nn;ne&&(g>0?kt=Be.sortedItems[g-1][1]:kt=Ie[p-1].sortedItems[0][1],kt.locator?(kt.label?rn=kt.label:rn="",pt=""+kt.locator+rn):pt=kt.locator,k?(U?nn=U:nn="",Ar=""+k+nn):Ar=k),ne&&pt&&!Ar&&(ne=!1,fe=!0),ne&&(!pt&&Ar?x[1].position=i.POSITION_IBID_WITH_LOCATOR:!pt&&!Ar||pt&&Ar===pt?x[1].position=i.POSITION_IBID:pt&&Ar&&Ar!==pt?x[1].position=i.POSITION_IBID_WITH_LOCATOR:(ne=!1,fe=!0)),fe&&(x[1].position=i.POSITION_CONTAINER_SUBSEQUENT,typeof Ne[Je]>"u"?Ne[Je]=Be.properties.noteIndex:x[1].position=i.POSITION_SUBSEQUENT),(fe||ne)&&(Be.properties.mode==="author-only"&&(x[1].position=i.POSITION_FIRST),Le[B]!=Be.properties.noteIndex&&(x[1]["first-container-reference-note-number"]=Le[B],this.registry.registry[x[0].id]&&(this.registry.registry[x[0].id]["first-container-reference-note-number"]=Le[B])),Ne[Je]!=Be.properties.noteIndex&&(x[1]["first-reference-note-number"]=Ne[Je],this.registry.registry[x[0].id]&&(this.registry.registry[x[0].id]["first-reference-note-number"]=Ne[Je])))}if(Be.properties.noteIndex){var ra=parseInt(Be.properties.noteIndex,10)-parseInt(je[B],10);x[1].position!==i.POSITION_FIRST&&ra<=this.citation.opt["near-note-distance"]&&(x[1]["near-note"]=!0),je[B]=Be.properties.noteIndex}else x[1].position!==i.POSITION_FIRST&&(x[1]["near-note"]=!0);if(Be.citationID!=e.citationID)for(_=0,E=i.POSITION_TEST_VARS.length;_<E;_+=1){var Oi=i.POSITION_TEST_VARS[_];x[1][Oi]!==Pe[Oi]&&(this.registry.registry[x[0].id]&&Oi==="first-reference-note-number"&&(se[this.registry.registry[x[0].id].ambig]=!0,this.tmp.taintedItemIDs[x[0].id]=!0),this.tmp.taintedCitationIDs[Be.citationID]=!0)}this.sys.variableWrapper&&(x[1].index=Be.properties.index,x[1].noteIndex=Be.properties.noteIndex)}}}if(this.opt.citation_number_sort&&K&&K.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(var f=0,m=K.length;f<m;f+=1)K[f][1].sortkeys=i.getSortKeys.call(this,K[f][0],"citation_sort");K.sort(this.citation.srt.compareCompositeKeys)}for(var b in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(b)&&(Ie=this.registry.citationreg.citationsByItemId[b],Ie))for(var f=0,m=Ie.length;f<m;f+=1)this.tmp.taintedCitationIDs[Ie[f].citationID]=!0;var ai=[];if(n===i.PREVIEW){this.debug&&i.debug("****** start run processor *********");try{ai=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(Wr){i.error("Error running CSL processor for preview: "+Wr)}this.debug&&(i.debug("****** end run processor *********"),i.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=N,this.registry.citationreg.citationById={};for(var f=0,m=N.length;f<m;f+=1)this.registry.citationreg.citationById[N[f].citationID]=N[f];this.debug&&i.debug("****** start final update *********");for(var Gn=[],f=0,m=W.length;f<m;f+=1)Gn.push(""+W[f].id);this.updateItems(Gn,null,null,!0),this.debug&&i.debug("****** end final update *********");for(var b in C)C.hasOwnProperty(b)&&(this.registry.registry[b].disambig=C[b]);this.debug&&i.debug("****** end state restore *********")}else{for(var ia in se)this.disambiguate.run(ia,e);var Wt;for(var b in this.tmp.taintedCitationIDs)if(b!=e.citationID){var Vt=this.registry.citationreg.citationById[b];if(!Vt.properties.unsorted){for(var f=0,m=Vt.sortedItems.length;f<m;f+=1)Vt.sortedItems[f][1].sortkeys=i.getSortKeys.call(this,Vt.sortedItems[f][0],"citation_sort");Vt.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Vt.properties.index,this.tmp.citation_note_index=Vt.properties.noteIndex,this.tmp.citation_id=""+Vt.citationID,Wt=[],Wt.push(Vt.properties.index),Wt.push(this.process_CitationCluster.call(this,Vt.sortedItems,Vt)),Wt.push(Vt.citationID),ai.push(Wt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,Wt=[],Wt.push(t.length),Wt.push(this.process_CitationCluster.call(this,K,e)),Wt.push(e.citationID),ai.push(Wt),ai.sort(function(Wr,Hn){return Wr[0]>Hn[0]?1:Wr[0]<Hn[0]?-1:0})}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,ai]},i.Engine.prototype.process_CitationCluster=function(e,t){var r="";if(t&&t.properties&&t.properties.mode==="composite"){t.properties.mode="author-only";var n=i.getCitationCluster.call(this,e,t);t.properties.mode="suppress-author";var s="";t.properties.infix&&(this.output.append(t.properties.infix),s=this.output.string(this,this.output.queue),typeof s=="object"&&(s=s.join("")));var o=i.getCitationCluster.call(this,e,t);t.properties.mode="composite",n&&s&&i.SWAPPING_PUNCTUATION.concat(["â","'"]).indexOf(s[0])>-1&&(n+=s,s=!1),r=[n,s,o].filter(function(l){return l}).join(" ")}else r=i.getCitationCluster.call(this,e,t);return r},i.Engine.prototype.makeCitationCluster=function(e){var t,r,d,n,s,o,l;for(t=[],s=e.length,n=0;n<s;n+=1){o={};for(var f in e[n])o[f]=e[n][f];if(l=this.retrieveItem(""+o.id),this.opt.development_extensions.locator_label_parse&&o.locator&&["bill","gazette","legislation","regulation","treaty"].indexOf(l.type)===-1&&(!o.label||o.label==="page")){var m=i.LOCATOR_LABELS_REGEXP.exec(o.locator);if(m){var p=i.LOCATOR_LABELS_MAP[m[2]];this.getTerm(p)&&(o.label=p,o.locator=m[3])}}o.locator&&(o.locator=(""+o.locator).replace(/\s+$/,"")),r=[l,o],t.push(r)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(t),t&&t.length>1&&this.citation_sort.tokens.length>0){for(s=t.length,n=0;n<s;n+=1)t[n][1].sortkeys=i.getSortKeys.call(this,t[n][0],"citation_sort");t.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_errors=[];var d=i.getCitationCluster.call(this,t);return d},i.getAmbiguousCite=function(e,t,r,n){var h,s=this.tmp.group_context.tip,o={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,non_parallel:s.non_parallel,parallel_last:s.parallel_last,parallel_first:s.parallel_first,parallel_last_override:s.parallel_last_override,parallel_delimiter_override:s.parallel_delimiter_override,parallel_delimiter_override_on_suppress:s.parallel_delimiter_override_on_suppress,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};t?this.tmp.disambig_request=t:this.tmp.disambig_request=!1;var l={position:i.POSITION_SUBSEQUENT,"near-note":!0};n&&(l.locator=n.locator,l.label=n.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&r&&this.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(l["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var f=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,i.getCite.call(this,e,l,null,!1);for(var m=0,p=this.output.queue.length;m<p;m+=1)i.Output.Queue.purgeEmptyBlobs(this.output.queue[m]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var d=0,g=this.output.queue.length;d<g;d+=1)this.output.adjust.upward(this.output.queue[d]),this.output.adjust.leftward(this.output.queue[d]),this.output.adjust.downward(this.output.queue[d]),this.output.adjust.fix(this.output.queue[d]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=f,this.tmp.group_context.replace(o),h},i.getSpliceDelimiter=function(e,t,r){if(this.citation.opt["after-collapse-delimiter"]!==void 0)e?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:t&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:!t&&!this.tmp.have_collapsed&&this.citation.opt.collapse!=="year-suffix"?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:this.tmp.splice_delimiter=this.citation.opt.layout_delimiter;else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&this.opt.xclass==="in-text"&&this.opt.update_mode!==i.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var n=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];n&&n.delimiter&&(this.tmp.splice_delimiter=n.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},i.getCitationCluster=function(e,t){var r,n,s,o,l,f,m,p,d,g,h,_,E,b,S,x,O,w,T,q,N,W="";this.output.checkNestedBrace=new i.checkNestedBrace(this),t&&(T=t.citationID,q=t.properties.mode==="author-only"?!!t.properties.mode:!1,this.opt.xclass!=="note"&&(N=t.properties.mode==="suppress-author"?!!t.properties.mode:!1),t.properties.prefix&&(W=i.checkPrefixSpaceAppend(this,t.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,O=i.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",n=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var C=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+W),I=!1;if(this.citation.opt.suppressTrailingPunctuation&&(I=!0),T&&this.registry.citationreg.citationById[T].properties["suppress-trailing-punctuation"]&&(I=!0),this.opt.xclass==="note"){for(var z=[],X=!1,ee=!1,Y=[],K=0,se=e.length;K<se;K+=1){var F=e[K][0].type,G=e[K][0].title,V=e[K][1].position,me=e[K][0].id;G&&F==="legal_case"&&me!==ee&&V&&((G!==X||z.length===0)&&(Y=[],z.push(Y)),Y.push(e[K][1])),X=G,ee=me}for(K=0,se=z.length;K<se;K+=1)if(Y=z[K],!(Y.length<2)){var ue=Y.slice(-1)[0].locator;if(ue)for(var M=0,te=Y.length-1;M<te;M+=1)Y[M].locator&&(ue=!1);ue&&(Y[0].locator=ue,delete Y.slice(-1)[0].locator,Y[0].label=Y.slice(-1)[0].label,Y.slice(-1)[0].label&&delete Y.slice(-1)[0].label)}}for(s=[],o=e.length,e[0]&&e[0][1]&&(q?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):N&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),l=0;l<o;l+=1){this.tmp.cite_index=l,_=e[l][0],f=e[l][1],f=i.parseLocator.call(this,f),m=this.tmp.have_collapsed;var ie=!1;if(l>0&&e[l-1][1]&&(ie=!!e[l-1][1].locator),p={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var we=this.output;this.output=new i.Output.Queue(this),this.output.adjust=new i.Output.Queue.adjust,i.getAmbiguousCite.call(this,_,null,!1,f),this.output=we}if(this.tmp.in_cite_predecessor=!1,l>0?i.getCite.call(this,_,f,""+e[l-1][0].id,!0):(this.tmp.term_predecessor=!1,i.getCite.call(this,_,f,null,!0)),this.tmp.cite_renders_content||(w={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+_.id,citationItems_pos:l,error_code:i.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(w)),p.splice_delimiter=i.getSpliceDelimiter.call(this,ie,m,l),f&&f["author-only"]&&(this.tmp.suppress_decorations=!0),l>0){x=e[l-1][1];var Re=x.suffix&&[";",".",","].indexOf(x.suffix.slice(-1))>-1,Te=!x.suffix&&f.prefix&&[";",".",","].indexOf(f.prefix.slice(0,1))>-1;if(Re||Te){var Se=p.splice_delimiter.indexOf(" ");Se>-1&&!Te?p.splice_delimiter=p.splice_delimiter.slice(Se):p.splice_delimiter=""}}if(p.suppress_decorations=this.tmp.suppress_decorations,p.have_collapsed=this.tmp.have_collapsed,s.push(p),f["author-only"])break}h=this.output.queue.slice();var Ie="";t&&(Ie=i.checkSuffixSpacePrepend(this,t.properties.suffix));var Ne=this.citation.opt.layout_suffix,je=this.tmp.cite_locales[this.tmp.cite_locales.length-1];je&&this.tmp.cite_affixes[this.tmp.area][je]&&this.tmp.cite_affixes[this.tmp.area][je].suffix&&(Ne=this.tmp.cite_affixes[this.tmp.area][je].suffix),i.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(Ne.slice(0,1))>-1&&(Ne=Ne.slice(0,1)),Ne=this.output.checkNestedBrace.update(Ie+Ne);for(var K=0,se=this.output.queue.length;K<se;K+=1)i.Output.Queue.purgeEmptyBlobs(this.output.queue[K]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&this.tmp.area==="citation"||(I||(this.output.queue[this.output.queue.length-1].strings.suffix=Ne),this.output.queue[0].strings.prefix=C)),this.opt.development_extensions.clean_up_csl_flaws)for(var M=0,te=this.output.queue.length;M<te;M+=1)this.output.adjust.upward(this.output.queue[M]),this.output.adjust.leftward(this.output.queue[M]),this.output.adjust.downward(this.output.queue[M]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[M]);for(l=0,o=h.length;l<o;l+=1){var Le=[];if(this.output.queue=[h[l]],this.tmp.suppress_decorations=s[l].suppress_decorations,this.tmp.splice_delimiter=s[l].splice_delimiter,h[l].parallel_delimiter&&(this.tmp.splice_delimiter=h[l].parallel_delimiter),this.tmp.have_collapsed=s[l].have_collapsed,d=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,typeof d=="string")return this.tmp.suppress_decorations=!1,d||(this.opt.development_extensions.throw_on_empty?i.error("Citation would render no content"):d="[NO_PRINTED_FORM]"),d;if(typeof d=="object"&&d.length===0&&!f["suppress-author"]){if(l===0){var Be="[CSL STYLE ERROR: reference with no printed form.]",Ve=l===0?O(this.citation.opt.layout_prefix):"",Je=l===h.length-1?O(this.citation.opt.layout_suffix):"";d.push(Ve+Be+Je)}else if(l===h.length-1){var B=n[n.length-1];typeof B=="string"?n[n.length-1]+=O(this.citation.opt.layout_suffix):typeof B=="object"&&(B.strings.suffix+=O(this.citation.opt.layout_suffix))}}if(Le.length&&typeof d[0]=="string"){d.reverse();var A=d.pop();A&&A.slice(0,1)===","?Le.push(A):typeof Le.slice(-1)[0]=="string"&&Le.slice(-1)[0].slice(-1)===","?Le.push(" "+A):A&&Le.push(O(this.tmp.splice_delimiter)+A)}else d.reverse(),g=d.pop(),typeof g<"u"&&(Le.length&&typeof Le[Le.length-1]=="string"&&(Le[Le.length-1]+=g.successor_prefix),Le.push(g));for(E=d.length,b=0;b<E;b+=1){if(S=d[b],typeof S=="string"){Le.push(O(this.tmp.splice_delimiter)+S);continue}g=d.pop(),typeof g<"u"&&Le.push(g)}Le.length===0&&e[l][1]["suppress-author"],Le.length>1&&typeof Le[0]!="string"&&(Le=[this.output.renderBlobs(Le)]),Le.length&&(typeof Le[0]=="string"?l>0&&(Le[0]=O(this.tmp.splice_delimiter)+Le[0]):l>0?Le[0].splice_prefix=this.tmp.splice_delimiter:Le[0].splice_prefix=""),n=n.concat(Le)}if(r+=this.output.renderBlobs(n),r&&!this.tmp.suppress_decorations)for(o=this.citation.opt.layout_decorations.length,l=0;l<o;l+=1)p=this.citation.opt.layout_decorations[l],p[1]!=="normal"&&(!f||!f["author-only"])&&(r=this.fun.decorate[p[0]][p[1]](this,r));return this.tmp.suppress_decorations=!1,r||(this.opt.development_extensions.throw_on_empty?i.error("Citation would render no content"):r="[NO_PRINTED_FORM]"),r},i.getCite=function(e,t,r,n){var s,o,l=this.tmp.area;for(t&&t["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=r,i.citeStart.call(this,e,t,n),s=0,this.tmp.name_node={},this.nameOutput=new i.NameOutput(this,e,t);s<this[this.tmp.area].tokens.length;)s=i.tokenExec.call(this,this[this.tmp.area].tokens[s],e,t);return i.citeEnd.call(this,e,t),!this.tmp.cite_renders_content&&!this.tmp.just_looking&&this.tmp.area==="bibliography"&&(o={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:i.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(o)),this.tmp.area=l,""+e.id},i.citeStart=function(e,t,r){if(this.tmp.lang_array=[],e.language){var n=e.language.match(/^([a-zA-Z]+).*/);n&&this.tmp.lang_array.push(n[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="",this.tmp.area==="citation"&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new i.AmbigConfig,this.tmp.area!=="citation"){if(!this.registry.registry[e.id])this.tmp.disambig_restore=new i.AmbigConfig;else if(this.tmp.disambig_restore=i.cloneAmbigConfig(this.registry.registry[e.id].disambig),this.tmp.area==="bibliography"&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var s=0,o=this.tmp.disambig_settings.givens.length;s<o;s+=1)this.tmp.disambig_settings.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice();for(var s=0,o=this.tmp.disambig_request.givens.length;s<o;s+=1)this.tmp.disambig_request.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice()}}this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||(!t||t.parallel==="first"||!t.parallel)&&(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&t&&!t.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=i.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},i.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var r=0,n=this.registry.registry[e.id].disambig.givens.length;r<n;r+=1)this.registry.registry[e.id].disambig.givens[r]=this.tmp.disambig_restore.givens[r].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var s=[],r=this.tmp.issued_date.list.length-1;r>this.tmp.issued_date.pos;r+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),r=s.length-1;r>-1;r+=-1)this.tmp.issued_date.list.push(s.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},i.Engine.prototype.makeBibliography=function(e){var t,r,n,s,o,l,f,m,p;if(t=!1,!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var d in this.bibliography.opt.exclude_types){var g=this.bibliography.opt.exclude_types[d];e.exclude.push({field:"type",value:g})}if(this.bibliography.opt.exclude_with_fields)for(var d in this.bibliography.opt.exclude_with_fields){var h=this.bibliography.opt.exclude_with_fields[d];e.exclude.push({field:h,value:!0})}}if(!this.bibliography.tokens.length)return!1;if(typeof e=="string"&&(this.opt.citation_number_slug=e,e=!1),t){for(o=this.bibliography.tokens.length,l=0;l<o;l+=1)f=this.bibliography.tokens[l],i.debug("bibtok: "+f.name);for(i.debug("---"),o=this.citation.tokens.length,l=0;l<o;l+=1)this.citation.tokens[l],i.debug("cittok: "+f.name);for(i.debug("---"),o=this.bibliography_sort.tokens.length,l=0;l<o;l+=1)this.bibliography_sort.tokens[l],i.debug("bibsorttok: "+f.name)}r=i.getBibliographyEntries.call(this,e),m=r[0],p=r[1];var _=r[2];for(n={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:m,bibliography_errors:this.tmp.bibliography_errors.slice(),done:_},this.bibliography.opt["second-field-align"]&&(n["second-field-align"]=this.bibliography.opt["second-field-align"]),o=this.registry.reflist.length,l=0;l<o;l+=1)s=this.registry.reflist[l],s.offset>n.maxoffset&&(n.maxoffset=s.offset);return this.bibliography.opt.hangingindent&&(n.hangingindent=this.bibliography.opt.hangingindent),n.bibstart=this.fun.decorate.bibstart,n.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[n,p]},i.getBibliographyEntries=function(e){var t,r,n,s,o,l,f,m,p,d,g,h,_,E,b,S,x,O,w,T,q;t=[],w=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,e&&e.page_start&&e.page_length?r=this.registry.getSortedIds():r=this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0;function N(F,G){return F===G}function W(F,G){for(d=G.length,g=0;g<d;g+=1)if(N(F,G[g]))return!0;return!1}function C(F,G){return typeof F=="boolean"||!F?F?!!G:!G:typeof G=="string"?N(F,G):G?W(F,G):!1}x={};var I;if(e&&e.page_start&&e.page_length&&(I=0,e.page_start!==!0))for(E=0,b=r.length;E<b&&(x[r[E]]=!0,e.page_start!=r[E]);E+=1);var z=[],X={};for(this.tmp.container_item_count={},r=r.filter(F=>{var G=F;return F.legislation_id?X[F.legislation_id]?G=!1:X[F.legislation_id]=!0:F.container_id&&(this.tmp.container_item_count[F.container_id]||(this.tmp.container_item_count[F.container_id]=0),this.tmp.container_item_count[F.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(F.type)>-1&&(X[F.container_id]?G=!1:X[F.container_id]=!0)),G}),this.tmp.container_item_pos={},E=0,b=r.length;E<b;E+=1){if(e&&e.page_start&&e.page_length){if(x[r[E]])continue;if(m=this.refetchItem(r[E]),I===e.page_length)break}else if(m=r[E],x[m.id])continue;if(e){if(n=!0,e.include){for(n=!1,T=0,q=e.include.length;T<q;T+=1)if(p=e.include[T],C(p.value,m[p.field])){n=!0;break}}else if(e.exclude){for(s=!1,T=0,q=e.exclude.length;T<q;T+=1)if(p=e.exclude[T],C(p.value,m[p.field])){s=!0;break}s&&(n=!1)}else if(e.select){for(n=!1,o=!0,T=0,q=e.select.length;T<q;T+=1)p=e.select[T],C(p.value,m[p.field])||(o=!1);o&&(n=!0)}if(e.quash){for(o=!0,T=0,q=e.quash.length;T<q;T+=1)p=e.quash[T],C(p.value,m[p.field])||(o=!1);o&&(n=!1)}if(!n)continue}if(m.container_id&&(this.tmp.container_item_pos[m.container_id]||(this.tmp.container_item_pos[m.container_id]=0),this.tmp.container_item_pos[m.container_id]++),l=new i.Token("group",i.START),l.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",l),m.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=m.system_id:this.output.current.value().system_id=m.id,_=[],this.registry.registry[m.id].master&&!(e&&e.page_start&&e.page_length)){O=[[m,{id:m.id}]],S=this.registry.registry[m.id].siblings;for(var T=0,q=S.length;T<q;T++)O.push([this.refetchItem(S[T]),{id:S[T]}]);for(this.parallel.StartCitation(O),this.registry.registry[m.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[m.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,T=0,q=O.length;T<q;T+=1)T<O.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,_.push(""+i.getCite.call(this,O[T][0],O[T][1])),this.tmp.cite_index++,x[O[T][0].id]=!0}else this.registry.registry[m.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,_.push(""+i.getCite.call(this,m)),e&&e.page_start&&e.page_length&&(I+=1));for(w.push(""),this.tmp.bibliography_pos+=1,z.push(_),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(this.output.queue[0].blobs[0].blobs[0].strings?h=this.output.queue[0].blobs[0].blobs:h=this.output.queue[0].blobs,h[0].strings.prefix=this.bibliography.opt.layout_prefix+h[0].strings.prefix),T=0,q=this.output.queue.length;T<q;T+=1)i.Output.Queue.purgeEmptyBlobs(this.output.queue[T]);for(T=0,q=this.output.queue.length;T<q;T+=1)this.output.adjust.upward(this.output.queue[T]),this.output.adjust.leftward(this.output.queue[T]),this.output.adjust.downward(this.output.queue[T],!0),this.output.adjust.fix(this.output.queue[T]);if(f=this.output.string(this,this.output.queue)[0],!f&&this.opt.update_mode===i.NUMERIC){var ee=t.length+1+". [CSL STYLE ERROR: reference with no printed form.]";f=i.Output.Formats[this.opt.mode]["@bibliography/entry"](this,ee)}f&&t.push(f)}var Y=!1;if(e&&e.page_start&&e.page_length){var K=r.slice(-1)[0],se=z.slice(-1)[0];(!K||!se||K==se)&&(Y=!0)}return this.tmp.disambig_override=!1,[z,t,Y]},i.Engine.prototype.setCitationId=function(e,t){var r,n,s;if(r=!1,!e.citationID||t){for(n=Math.floor(Math.random()*1e14);;){if(s=0,this.registry.citationreg.citationById[n])!s&&n<5e13?s=1:s=-1;else{e.citationID="a"+n.toString(32);break}s===1?n+=1:n+=-1}r=""+n}return this.registry.citationreg.citationById[e.citationID]=e,r},i.Engine.prototype.rebuildProcessorState=function(e,t,r){e||(e=[]),t||(t="html");for(var n={},s=[],o=0,l=e.length;o<l;o+=1)for(var f=0,m=e[o].citationItems.length;f<m;f+=1){var p=""+e[o].citationItems[f].id;n[p]||s.push(p),n[p]=!0}this.updateItems(s);var d=[],g=[],h=[],_=this.opt.mode;this.setOutputFormat(t);for(var o=0,l=e.length;o<l;o+=1){var E=this.processCitationCluster(e[o],d,g,i.ASSUME_ALL_ITEMS_REGISTERED);d.push([e[o].citationID,e[o].properties.noteIndex]);for(var f=0,m=E[1].length;f<m;f+=1){var b=E[1][f][0];h[b]=[d[b][0],d[b][1],E[1][f][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(_),h},i.Engine.prototype.restoreProcessorState=function(e){var t,r,n,s,o,l,f,m,p,d;m=[],p=[],e||(e=[]);var g=[],h={};for(t=0,r=e.length;t<r;t+=1)h[e[t].citationID]&&this.setCitationId(e[t],!0),h[e[t].citationID]=!0,g.push(e[t].properties.index);var _=e.slice();for(_.sort(function(b,S){return b.properties.index<S.properties.index?-1:b.properties.index>S.properties.index?1:0}),t=0,r=_.length;t<r;t+=1)_[t].properties.index=t;for(t=0,r=_.length;t<r;t+=1){for(d=[],n=0,s=_[t].citationItems.length;n<s;n+=1)o=_[t].citationItems[n],typeof o.sortkeys>"u"&&(o.sortkeys=[]),l=this.retrieveItem(""+o.id),f=[l,o],d.push(f),_[t].citationItems[n].item=l,p.push(""+o.id);_[t].properties.unsorted||d.sort(this.citation.srt.compareCompositeKeys),_[t].sortedItems=d,this.registry.citationreg.citationById[_[t].citationID]=_[t]}for(this.updateItems(p),t=0,r=e.length;t<r;t+=1)m.push([""+e[t].citationID,e[t].properties.noteIndex]);var E=[];return e&&e.length?E=this.processCitationCluster(e[0],[],m.slice(1)):(this.registry=new i.Registry(this),this.tmp=new i.Engine.Tmp,this.disambiguate=new i.Disambiguation(this)),E},i.Engine.prototype.updateItems=function(e,t,r,n){var s=this.tmp.area,o=this.tmp.root,l=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",n||(this.tmp.loadedItemIDs={}),this.registry.init(e),r)for(var f in this.registry.ambigcites)this.registry.ambigsTouched[f]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=l,this.tmp.area=s,this.tmp.root=o,this.registry.getSortedIds()},i.Engine.prototype.updateUncitedItems=function(e,t){var r,n=this.tmp.area,s=this.tmp.root,o=this.tmp.extension;if(this.bibliography_sort.tokens.length===0&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),typeof e=="object"){if(typeof e.length>"u"){r=e,e=[];for(var l in r)e.push(l)}else if(typeof e.length=="number"){r={};for(var f=0,m=e.length;f<m;f+=1)r[e[f]]=!0}}return this.registry.init(e,!0),this.registry.dopurge(r),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=n,this.tmp.root=s,this.registry.getSortedIds()},i.localeResolve=function(e,t){var r,n;return t||(t="en-US"),e||(e=t),r={},n=e.split(/[\-_]/),r.base=i.LANG_BASES[n[0]],typeof r.base>"u"?{base:t,best:e,bare:n[0]}:(n.length===1&&(r.generic=!0),n.length===1||n[1]==="x"?r.best=r.base.replace("_","-"):r.best=n.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=n[0],r)},i.Engine.prototype.localeConfigure=function(e,t){var r;if(!(t&&this.locale[e.best])&&(e.best==="en-US"?(r=i.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",e.best)):e.best!=="en-US"&&(e.base!==e.best&&(r=i.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(r,e.base,e.best)),r=i.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(r,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),typeof this.locale[e.best].terms["page-range-delimiter"]>"u"&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]="â"),typeof this.locale[e.best].terms["year-range-delimiter"]>"u"&&(this.locale[e.best].terms["year-range-delimiter"]="â"),typeof this.locale[e.best].terms["citation-range-delimiter"]>"u"&&(this.locale[e.best].terms["citation-range-delimiter"]="â"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var n=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,o=n.length;s<o;s+=1)for(var l=0,f=this.opt[n[s]].length;l<f;l+=1)this.opt[n[s]][l]=this.opt[n[s]][l].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},i.Engine.prototype.localeSet=function(e,t,r){var n,s,o,l,f,m,p,d,g,h,_,E,b,S,x,O;if(t=t.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(t=t.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=i.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),s=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))s=e.dataObj;else{o=e.getNodesByName(e.dataObj,"locale");var w=!1;for(f=0,E=e.numberofnodes(o);f<E;f+=1)if(n=o[f],!w&&e.getAttributeValue(n,"lang","xml")===t)s=n,w=!0;else{var T=e.getAttributeValue(n,"lang","xml"),q=e.getNodesByName(n,"style-options");if(T&&q&&q.length){var N=e.getAttributeValue(q[0],"jurisdiction-preference");N&&(this.locale[T]||(this.locale[T]={opts:{}}),this.locale[T].opts["jurisdiction-preference"]=N.split(/\s+/))}}}for(o=e.getNodesByName(s,"type"),x=0,O=e.numberofnodes(o);x<O;x+=1){var W=o[x],C=e.getAttributeValue(W,"name"),I=e.getAttributeValue(W,"gender");this.opt.gender[C]=I}var z=e.getNodesByName(s,"term","ordinal").length;if(z){for(var X in this.locale[r].ord.keys)delete this.locale[r].terms[X];this.locale[r].ord={"1.0.1":!1,keys:{}}}o=e.getNodesByName(s,"term");var ee={"last-digit":{},"last-two-digits":{},"whole-number":{}},Y=!1,K={};for(f=0,E=e.numberofnodes(o);f<E;f+=1){if(m=o[f],d=e.getAttributeValue(m,"name"),d==="sub verbo"&&(d="sub-verbo"),d.slice(0,7)==="ordinal"){if(d==="ordinal")Y=!0;else{var se=e.getAttributeValue(m,"match"),F=d.slice(8),b=e.getAttributeValue(m,"gender-form");b||(b="neuter"),se||(se="last-two-digits",F.slice(0,1)==="0"&&(se="last-digit")),F.slice(0,1)==="0"&&(F=F.slice(1)),ee[se][F]||(ee[se][F]={}),ee[se][F][b]=d}this.locale[r].ord.keys[d]=!0}typeof this.locale[r].terms[d]>"u"&&(this.locale[r].terms[d]={}),p="long",b=!1,e.getAttributeValue(m,"form")&&(p=e.getAttributeValue(m,"form")),e.getAttributeValue(m,"gender-form")&&(b=e.getAttributeValue(m,"gender-form")),e.getAttributeValue(m,"gender")&&(this.locale[r]["noun-genders"][d]=e.getAttributeValue(m,"gender")),b?(this.locale[r].terms[d][b]={},this.locale[r].terms[d][b][p]=[],S=this.locale[r].terms[d][b],K[d]=!0):(this.locale[r].terms[d][p]=[],S=this.locale[r].terms[d]),e.numberofnodes(e.getNodesByName(m,"multiple"))?(S[p][0]=e.getNodeValue(m,"single"),S[p][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),S[p][1]=e.getNodeValue(m,"multiple"),S[p][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(S[p]=e.getNodeValue(m),S[p].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[r].terms.supplement||(this.locale[r].terms.supplement={}),this.locale[r].terms.supplement.long||(this.locale[r].terms.supplement.long=["supplement","supplements"]),Y){for(var G in K){var V={},me=0;for(var ue in this.locale[r].terms[G])["masculine","feminine"].indexOf(ue)>-1?V[ue]=this.locale[r].terms[G][ue]:me+=1;if(!me){if(V.feminine)for(var ue in V.feminine)this.locale[r].terms[G][ue]=V.feminine[ue];else if(V.masculine)for(var ue in V.masculine)this.locale[r].terms[G][ue]=V.masculine[ue]}}this.locale[r].ord["1.0.1"]=ee}for(d in this.locale[r].terms)for(x=0,O=2;x<O;x+=1)if(b=i.GENDERS[x],this.locale[r].terms[d][b])for(p in this.locale[r].terms[d])this.locale[r].terms[d][b][p]||(this.locale[r].terms[d][b][p]=this.locale[r].terms[d][p]);for(o=e.getNodesByName(s,"style-options"),f=0,E=e.numberofnodes(o);f<E;f+=1){g=o[f],l=e.attributes(g);for(_ in l)if(l.hasOwnProperty(_)){if(_==="@punctuation-in-quote"||_==="@limit-day-ordinals-to-day-1")l[_]==="true"?this.locale[r].opts[_.slice(1)]=!0:this.locale[r].opts[_.slice(1)]=!1;else if(_==="@jurisdiction-preference"){var M=l[_].split(/\s+/);this.locale[r].opts[_.slice(1)]=M}else if(_==="@skip-words"){var te=l[_].split(/\s*,\s*/);this.locale[r].opts[_.slice(1)]=te}else if(_==="@leading-noise-words"){var ie=l[_].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=ie}else if(_==="@name-as-sort-order"){this.locale[r].opts["name-as-sort-order"]={};for(var we=l[_].split(/\s+/),x=0,O=we.length;x<O;x+=1)this.locale[r].opts["name-as-sort-order"][we[x]]=!0}else if(_==="@name-as-reverse-order"){this.locale[r].opts["name-as-reverse-order"]={};for(var we=l[_].split(/\s+/),x=0,O=we.length;x<O;x+=1)this.locale[r].opts["name-as-reverse-order"][we[x]]=!0}else if(_==="@name-never-short"){this.locale[r].opts["name-never-short"]={};for(var we=l[_].split(/\s+/),x=0,O=we.length;x<O;x+=1)this.locale[r].opts["name-never-short"][we[x]]=!0}}}for(o=e.getNodesByName(s,"date"),f=0,E=e.numberofnodes(o);f<E;f+=1){var h=o[f];this.locale[r].dates[e.getAttributeValue(h,"form")]=h}i.SET_COURT_CLASSES(this,r,e,s)},i.getLocaleNames=function(e,t){var r=i.setupXml(e);function n(g,h){var _=["base","best"];if(h)for(var E=i.localeResolve(h),b=0,S=_.length;b<S;b++)E[_[b]]&&g.indexOf(E[_[b]])===-1&&g.push(E[_[b]])}var s=["en-US"];function o(g){for(var h=r.getNodesByName(r.dataObj,g),_=0,E=h.length;_<E;_++){var b=r.getAttributeValue(h[_],"locale");if(b){b=b.split(/ +/);for(var S=0,x=b.length;S<x;S++)this.extendLocaleList(s,b[S])}}}n(s,t);var l=r.getNodesByName(r.dataObj,"style")[0],f=r.getAttributeValue(l,"default-locale");n(s,f);for(var m=["layout","if","else-if","condition"],p=0,d=m.length;p<d;p++)o(r);return s},i.Node={},i.Node.bibliography={build:function(e,t){if(this.tokentype===i.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";var r=function(n){n.tmp.area="bibliography",n.tmp.root="bibliography",n.tmp.extension=""};this.execs.push(r)}t.push(this)}},i.Node.choose={build:function(e,t){var r;this.tokentype===i.START&&(r=function(n){n.tmp.jump.push(void 0,i.LITERAL)}),this.tokentype===i.END&&(r=function(n){n.tmp.jump.pop()}),this.execs.push(r),t.push(this)},configure:function(e,t){this.tokentype===i.END?(e.configure.fail.push(t),e.configure.succeed.push(t)):(e.configure.fail.pop(),e.configure.succeed.pop())}},i.Node.citation={build:function(e,t){if(this.tokentype===i.START){e.build.area="citation",e.build.root="citation",e.build.extension="";var r=function(s){s.tmp.area="citation",s.tmp.root="citation",s.tmp.extension=""};this.execs.push(r)}if(this.tokentype===i.END){if(e.opt.grouped_sort=e.opt.xclass==="in-text"&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==i.POSITION&&e.opt.update_mode!==i.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var n=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[n].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new i.Registry.Comparifier(e,"citation_sort")}t.push(this)}},i.Node["#comment"]={build:function(){}},i.Node.date={build:function(e,t){var r,n,s,o,l,f,m,p,d,g;(this.tokentype===i.START||this.tokentype===i.SINGLETON)&&(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=i.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||i.Util.substituteStart.call(this,e,t),e.build.extension?r=i.dateMacroAsSortKey:r=function(h,_,E){var b;if(h.tmp.element_rendered_ok=!1,h.tmp.donesies=[],h.tmp.dateparts=[],b=[],this.variables.length&&!(h.tmp.just_looking&&this.variables[0]==="accessed")){for(n=_[this.variables[0]],typeof n>"u"&&(n={"date-parts":[[0]]},h.opt.development_extensions.locator_date_and_revision&&E&&this.variables[0]==="locator-date"&&E["locator-date"]&&(n=E["locator-date"])),h.tmp.date_object=n,s=this.dateparts.length,o=0;o<s;o+=1)l=this.dateparts[o],(typeof h.tmp.date_object[l+"_end"]<"u"||l==="month"&&typeof h.tmp.date_object.season_end<"u")&&b.push(l);for(f=[],m=["year","month","day"],s=m.length,o=0;o<s;o+=1)b.indexOf(m[o])>-1&&f.push(m[o]);for(b=f.slice(),p=2,s=b.length,o=0;o<s;o+=1)if(l=b[o],d=h.tmp.date_object[l],g=h.tmp.date_object[l+"_end"],d!==g){p=o;break}h.tmp.date_collapse_at=b.slice(p)}else h.tmp.date_object=!1},this.execs.push(r),r=function(h,_){if(_[this.variables[0]]&&(h.output.startTag("date",this),this.variables[0]==="issued"&&(_.type==="legal_case"||_.type==="legislation")&&h.opt.disable_duplicate_year_suppression.indexOf(_.country)===-1&&!h.tmp.extension&&""+_["collection-number"]==""+h.tmp.date_object.year&&this.dateparts.length===1&&this.dateparts[0]==="year")){for(var E in h.tmp.date_object)if(h.tmp.date_object.hasOwnProperty(E)&&E.slice(0,4)==="year"){h.tmp.issued_date={};var b=h.output.current.mystack.slice(-2)[0].blobs;h.tmp.issued_date.list=b,h.tmp.issued_date.pos=b.length-1}}},this.execs.push(r)),!e.build.extension&&(this.tokentype===i.END||this.tokentype===i.SINGLETON)&&(r=function(h,_){_[this.variables[0]]&&h.output.endTag()},this.execs.push(r)),t.push(this),(this.tokentype===i.END||this.tokentype===i.SINGLETON)&&(e.build.extension||i.Util.substituteEnd.call(this,e,t))}},i.Node["date-part"]={build:function(e,t){var r,n,s,o,l,f,m,p,d,g,h,_,E,b,S,x,O,w,T,q,N;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var W=e.build.date_variables[0];function C(I,z,X){if(!X)return X;if(X=""+i.Util.Dates[this.strings.name][I](e,X,z,this.default_locale),this.strings.name==="month"){if(e.tmp.strip_periods)X=X.replace(/\./g,"");else for(var ee=0,Y=this.decorations.length;ee<Y;ee+=1)if(this.decorations[ee][0]==="@strip-periods"&&this.decorations[ee][1]==="true"){X=X.replace(/\./g,"");break}}return X}r=function(I,z){if(I.tmp.date_object)I.tmp.probably_rendered_something=!0;else return;var X="";if(o=!0,l="",f="",I.tmp.donesies.push(this.strings.name),I.tmp.date_object.literal&&this.strings.name==="year"&&(X=I.tmp.date_object.literal,I.output.append(I.tmp.date_object.literal,this)),I.tmp.date_object&&(l=I.tmp.date_object[this.strings.name],f=I.tmp.date_object[this.strings.name+"_end"]),this.strings.name==="year"&&l===0&&!I.tmp.suppress_decorations&&(l=!1),m=!I.tmp.suppress_decorations,p=I.tmp.have_collapsed,d=I[I.tmp.area].opt.collapse==="year-suffix"||I[I.tmp.area].opt.collapse==="year-suffix-ranged",g=I.opt["disambiguate-add-year-suffix"],m&&g&&d&&(I.tmp.years_used.push(l),h=I.tmp.last_years_used.length>=I.tmp.years_used.length,h&&p&&I.tmp.last_years_used[I.tmp.years_used.length-1]===l&&(l=!1)),typeof l<"u"){_=!1,E=!1,this.strings.name==="year"&&(parseInt(l,10)<500&&parseInt(l,10)>0&&(E=I.getTerm("ad")),parseInt(l,10)<0&&(_=I.getTerm("bc"),l=parseInt(l,10)*-1),f&&(parseInt(f,10)<500&&parseInt(f,10)>0&&I.getTerm("ad"),parseInt(f,10)<0&&(I.getTerm("bc"),f=parseInt(f,10)*-1)));for(var ee=""+I.tmp.date_object.month;ee.length<2;)ee="0"+ee;ee="month-"+ee;var Y=I.locale[I.opt.lang]["noun-genders"][ee];if(this.strings.form){var K=this.strings.form,se=this.strings.form;this.strings.name==="day"&&K==="ordinal"&&I.locale[I.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(l!=1&&(K="numeric"),f!=1&&(se="numeric")),l=C.call(this,K,Y,l),f=C.call(this,se,Y,f)}if(I.output.openLevel("empty"),I.tmp.date_collapse_at.length){for(b=!0,s=I.tmp.date_collapse_at.length,n=0;n<s;n+=1)if(q=I.tmp.date_collapse_at[n],I.tmp.donesies.indexOf(q)===-1){b=!1;break}if(b){if(""+f!="0"){if(I.dateput.queue.length===0&&(o=!0),I.opt["year-range-format"]&&I.opt["year-range-format"]!=="expanded"&&!I.tmp.date_object.day&&!I.tmp.date_object.month&&!I.tmp.date_object.season&&this.strings.name==="year"&&l&&f){f=I.fun.year_mangler(l+"-"+f,!0);var F=I.getTerm("year-range-delimiter");f=f.slice(f.indexOf(F)+1)}X=f,I.dateput.append(f,this),o&&(N=I.dateput.current.value().blobs[0],N&&(N.strings.prefix=""))}X=l,I.output.append(l,this),S=I.output.current.value(),N=S.blobs[S.blobs.length-1],N&&(N.strings.suffix=""),this.strings["range-delimiter"]?I.output.append(this.strings["range-delimiter"]):I.output.append(I.getTerm("year-range-delimiter"),"empty"),I.dateput.closeLevel(),x=I.dateput.current.value(),S.blobs=S.blobs.concat(x),I.dateput.string(I,I.dateput.queue),I.dateput.openLevel(I.tmp.date_token),I.tmp.date_collapse_at=[]}else X=l,I.output.append(l,this),I.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+f!="0"&&(I.dateput.queue.length===0&&(o=!0),I.dateput.openLevel("empty"),X=f,I.dateput.append(f,this),o&&(N=I.dateput.current.value().blobs[0],N&&(N.strings.prefix="")),_&&(X=_,I.dateput.append(_)),E&&(X=E,I.dateput.append(E)),I.dateput.closeLevel())}else X=l,I.output.append(l,this);_&&(X=_,I.output.append(_)),E&&(X=E,I.output.append(E)),I.output.closeLevel()}else this.strings.name==="month"&&I.tmp.date_object.season&&(l=""+I.tmp.date_object.season,l&&l.match(/^[1-4]$/)?(I.tmp.group_context.tip.variable_success=!0,X="winter",I.output.append(I.getTerm("season-0"+l),this)):l&&(X=l,I.output.append(l,this)));I.tmp.value=[],z[W]&&(l||I.tmp.have_collapsed)&&!I.opt.has_year_suffix&&this.strings.name==="year"&&!I.tmp.just_looking&&I.registry.registry[z.id]&&I.registry.registry[z.id].disambig.year_suffix!==!1&&!I.tmp.has_done_year_suffix&&(I.tmp.has_done_year_suffix=!0,X="x",w=parseInt(I.registry.registry[z.id].disambig.year_suffix,10),O=new i.NumericBlob(I,!1,w,this,z.id),this.successor_prefix=I[I.build.area].opt.layout_delimiter,this.splice_prefix=I[I.build.area].opt.layout_delimiter,T=new i.Util.Suffixator(i.SUFFIX_CHARS),O.setFormatter(T),I[I.tmp.area].opt.collapse==="year-suffix-ranged"&&(O.range_prefix=I.getTerm("citation-range-delimiter")),I[I.tmp.area].opt.cite_group_delimiter?O.successor_prefix=I[I.tmp.area].opt.cite_group_delimiter:I[I.tmp.area].opt["year-suffix-delimiter"]?O.successor_prefix=I[I.tmp.area].opt["year-suffix-delimiter"]:O.successor_prefix=I[I.tmp.area].opt.layout_delimiter,O.UGLY_DELIMITER_SUPPRESS_HACK=!0,I.output.append(O,"literal")),X&&!I.tmp.group_context.tip.condition&&(I.tmp.just_did_number=X.match(/[0-9]$/),I.output.current.tip.strings.suffix&&(I.tmp.just_did_number=!1))},this.execs.push(r),t.push(this)}},i.Node["else-if"]={build:function(e,t){i.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){i.Conditions.Configure.call(this,e,t)}},i.Node.else={build:function(e,t){t.push(this)},configure:function(e,t){this.tokentype===i.START&&(e.configure.fail[e.configure.fail.length-1]=t)}},i.Node["et-al"]={build:function(e,t){if(e.build.area==="citation"||e.build.area==="bibliography"){var r=function(n){n.tmp.etal_node=this,typeof this.strings.term=="string"&&(n.tmp.etal_term=this.strings.term)};this.execs.push(r)}t.push(this)}},i.Node.group={build:function(e,t,r){var n,s;if(this.realGroup=r,this.tokentype===i.START&&(i.Util.substituteStart.call(this,e,t),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||t.push(this),n=function(h){if(h.output.startTag("group",this),this.strings.label_form_override&&(h.tmp.group_context.tip.label_form||(h.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(h.tmp.group_context.tip.label_capitalize_if_first||(h.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){h.tmp.group_context.tip.condition&&i.UPDATE_GROUP_CONTEXT_CONDITION(h,this.strings.prefix,null,this);var _=!1,E=!1;h.tmp.group_context.mystack.length&&(h.output.current.value().parent=h.tmp.group_context.tip.output_tip);var b=h.tmp.group_context.tip.label_form;b||(b=this.strings.label_form_override);var S=h.tmp.group_context.tip.label_capitalize_if_first;S||(S=this.strings.label_capitalize_if_first),h.tmp.group_context.tip.condition?(_=h.tmp.group_context.tip.condition,E=h.tmp.group_context.tip.force_suppress):this.strings.reject?_={test:this.strings.reject,not:!0}:this.strings.require&&(_={test:this.strings.require,not:!1});var x={old_term_predecessor:h.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:h.tmp.group_context.tip.variable_success,output_tip:h.output.current.tip,label_form:b,label_static:h.tmp.group_context.tip.label_static,label_capitalize_if_first:S,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:_,force_suppress:E,done_vars:h.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var O=h.tmp.group_context.tip.non_parallel;O||(O={}),Object.assign(O,this.non_parallel),x.non_parallel=O}if(this.parallel_first){var w=h.tmp.group_context.tip.parallel_first;w||(w={}),Object.assign(w,this.parallel_first),x.parallel_first=w}if(this.parallel_last){var T=h.tmp.group_context.tip.parallel_last;T||(T={}),Object.assign(T,this.parallel_last),x.parallel_last=T}if(h.tmp.abbrev_trimmer&&h.tmp.abbrev_trimmer.LAST_TO_FIRST&&x.parallel_last){x.parallel_first||(x.parallel_first={});for(var q in h.tmp.abbrev_trimmer.LAST_TO_FIRST)x.parallel_last[q]&&(x.parallel_first[q]=!0,delete x.parallel_last[q])}if(h.tmp.group_context.push(x),h.tmp.abbrev_trimmer&&this.parallel_last_to_first){h.tmp.abbrev_trimmer.LAST_TO_FIRST||(h.tmp.abbrev_trimmer.LAST_TO_FIRST={});for(var q in this.parallel_last_to_first)h.tmp.abbrev_trimmer.LAST_TO_FIRST[q]=!0}}},s=[],s.push(n),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(n=function(h,_){if(_.publisher&&_["publisher-place"]){var E=_.publisher.split(/;\s*/),b=_["publisher-place"].split(/;\s*/);E.length>1&&E.length===b.length&&(h.publisherOutput=new i.PublisherOutput(h,this),h.publisherOutput["publisher-list"]=E,h.publisherOutput["publisher-place-list"]=b)}},this.execs.push(n))),this.juris)){var o=new i.Token("choose",i.START);i.Node.choose.build.call(o,e,t);var l=new i.Token("if",i.START);n=function(h){return function(_,E){return i.INIT_JURISDICTION_MACROS(e,_,E,h)}}(this.juris),l.tests||(l.tests=[]),l.tests.push(n),l.test=e.fun.match.any(l,e,l.tests),t.push(l);var f=new i.Token("text",i.SINGLETON);n=function(h,_,E){var b=_;E&&E["best-jurisdiction"]&&this.juris==="juris-locator"&&(b=E);var S=0;if(h.juris[b["best-jurisdiction"]][this.juris])for(;S<h.juris[b["best-jurisdiction"]][this.juris].length;)S=i.tokenExec.call(h,h.juris[b["best-jurisdiction"]][this.juris][S],_,E)},f.juris=this.juris,f.execs.push(n),t.push(f);var m=new i.Token("if",i.END);i.Node.if.build.call(m,e,t);var p=new i.Token("else",i.START);i.Node.else.build.call(p,e,t)}if(this.tokentype===i.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,n=function(h){h.publisherOutput&&(h.publisherOutput.render(),h.publisherOutput=!1)},this.execs.push(n)),n=function(h,_,E){if(h.tmp.group_context.tip.condition||h.output.current.tip.strings.suffix&&(h.tmp.just_did_number=!1),h.output.endTag(),this.realGroup){var b=h.tmp.group_context.pop();if(b.parallel_delimiter_override&&(h.tmp.group_context.tip.parallel_delimiter_override=b.parallel_delimiter_override,!h.tmp.just_looking&&h.registry.registry[_.id].master&&(h.registry.registry[_.id].parallel_delimiter_override=b.parallel_delimiter_override)),b.parallel_delimiter_override_on_suppress&&(h.tmp.group_context.tip.parallel_delimiter_override_on_suppress=b.parallel_delimiter_override_on_suppress),h.tmp.area==="bibliography_sort"){var S=b.done_vars.indexOf("citation-number");this.strings.sort_direction&&S>-1&&h.tmp.group_context.length()==1&&(this.strings.sort_direction===i.DESCENDING?h.bibliography_sort.opt.citation_number_sort_direction=i.DESCENDING:h.bibliography_sort.opt.citation_number_sort_direction=i.ASCENDING,b.done_vars=b.done_vars.slice(0,S).concat(b.done_vars.slice(S+1)))}if(b.condition&&(b.force_suppress=i.EVALUATE_GROUP_CONDITION(h,b)),h.tmp.group_context.tip.condition&&(h.tmp.group_context.tip.force_suppress=b.force_suppress),!b.force_suppress&&(b.variable_success||b.term_intended&&!b.variable_attempt)){this.isJurisLocatorLabel||(h.tmp.group_context.tip.variable_success=!0);var x=h.output.current.value().blobs;if(h.output.current.value().blobs.length-1,!h.tmp.just_looking&&(b.non_parallel||b.parallel_last||b.parallel_first||b.parallel_delimiter_override||b.parallel_delimiter_override_on_suppress)){var O=h.parallel.checkRepeats(b);if(O&&x&&x.pop(),h.tmp.cite_index>0&&(O||!b.parallel_first&&!b.parallel_last&&!b.non_parallel)){var w=h.tmp.suppress_repeats[h.tmp.cite_index-1];O&&b.parallel_delimiter_override_on_suppress&&(w.SIBLING||w.ORPHAN)?h.output.queue.slice(-1)[0].parallel_delimiter=b.parallel_delimiter_override_on_suppress:b.parallel_delimiter_override&&w.SIBLING&&(h.output.queue.slice(-1)[0].parallel_delimiter=b.parallel_delimiter_override)}}}else{if(h.tmp.term_predecessor=b.old_term_predecessor,h.tmp.group_context.tip.variable_attempt=b.variable_attempt,b.force_suppress&&!h.tmp.group_context.tip.condition&&(h.tmp.group_context.tip.variable_attempt=!0,h.tmp.group_context.tip.variable_success=b.variable_success_parent),b.force_suppress)for(var T=0,q=b.done_vars.length;T<q;T++)for(var N=b.done_vars[T],W=0,C=h.tmp.done_vars.length;W<C;W++)h.tmp.done_vars[W]===N&&(h.tmp.done_vars=h.tmp.done_vars.slice(0,W).concat(h.tmp.done_vars.slice(W+1)));h.output.current.value().blobs&&h.output.current.value().blobs.pop()}}},this.execs.push(n),this.juris)){var d=new i.Token("else",i.END);i.Node.else.build.call(d,e,t);var g=new i.Token("choose",i.END);i.Node.choose.build.call(g,e,t)}this.tokentype===i.END&&(this.juris||t.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),i.Util.substituteEnd.call(this,e,t))}},i.Node.if={build:function(e,t){i.Conditions.TopNode.call(this,e,t),t.push(this)},configure:function(e,t){i.Conditions.Configure.call(this,e,t)}},i.Node.conditions={build:function(e){this.tokentype===i.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===i.END&&e.tmp.conditions.matchCombine()}},i.Node.condition={build:function(e){if(this.tokentype===i.SINGLETON){var t=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(t)}}},i.Conditions={},i.Conditions.TopNode=function(e){var t;(this.tokentype===i.START||this.tokentype===i.SINGLETON)&&(this.locale&&(e.opt.lang=this.locale),!this.tests||!this.tests.length?e.tmp.conditions=new i.Conditions.Engine(e,this):this.test=e.fun.match[this.match](this,e,this.tests),e.build.substitute_level.value()===0&&(t=function(r){r.tmp.condition_counter++},this.execs.push(t))),(this.tokentype===i.END||this.tokentype===i.SINGLETON)&&(e.build.substitute_level.value()===0&&(t=function(r){if(r.tmp.condition_counter--,r.tmp.condition_lang_counter_arr.length>0){var n=r.tmp.condition_lang_counter_arr.slice(-1)[0];n===r.tmp.condition_counter&&(r.opt.lang=r.tmp.condition_lang_val_arr.pop(),r.tmp.condition_lang_counter_arr.pop())}this.locale_default&&(r.output.current.value().old_locale=this.locale_default,r.output.closeLevel("empty"),r.opt.lang=this.locale_default)},this.execs.push(t)),t=function(r){var n=this[r.tmp.jump.value()];return n},this.execs.push(t),this.locale_default&&(e.opt.lang=this.locale_default))},i.Conditions.Configure=function(e,t){this.tokentype===i.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=t):this.tokentype===i.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=t):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},i.Conditions.Engine=function(e,t){this.token=t,this.state=e},i.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},i.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},i.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},i.Node.info={build:function(e){this.tokentype===i.START?e.build.skip="info":e.build.skip=!1}},i.Node.institution={build:function(e,t){if([i.SINGLETON,i.START].indexOf(this.tokentype)>-1){var r=function(n){typeof this.strings.delimiter=="string"?n.tmp.institution_delimiter=this.strings.delimiter:n.tmp.institution_delimiter=n.tmp.name_delimiter,n.inheritOpt(this,"and")==="text"?this.and_term=n.getTerm("and","long",0):n.inheritOpt(this,"and")==="symbol"?n.opt.development_extensions.expect_and_symbol_form?this.and_term=n.getTerm("and","symbol",0):this.and_term="&":n.inheritOpt(this,"and")==="none"&&(this.and_term=n.tmp.institution_delimiter),typeof this.and_term>"u"&&n.tmp.and_term&&(this.and_term=n.tmp.and_term),i.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof n.tmp.institution_delimiter=="string"&&(this.and_prefix_multiple=n.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),n.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=n.tmp.institution_delimiter:n.inheritOpt(this,"delimiter-precedes-last")==="never"&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},typeof this.and_term<"u"?(n.output.append(this.and_term,"empty",!0),this.and.single=n.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,n.output.append(this.and_term,"empty",!0),this.and.multiple=n.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):this.strings.delimiter!=="undefined"&&(this.and.single=new i.Blob(n.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new i.Blob(n.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),n.nameOutput.institution=this};this.execs.push(r)}t.push(this)},configure:function(e){[i.SINGLETON,i.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},i.Node["institution-part"]={build:function(e,t){var r;this.strings.name==="long"?this.strings["if-short"]?r=function(n){n.nameOutput.institutionpart["long-with-short"]=this}:r=function(n){n.nameOutput.institutionpart.long=this}:this.strings.name==="short"&&(r=function(n){n.nameOutput.institutionpart.short=this}),this.execs.push(r),t.push(this)}},i.Node.key={build:function(e,t){t=e[e.build.root+"_sort"].tokens;var r,n=new i.Token("key",i.START);e.tmp.root=e.build.root,n.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),n.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),n.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),r=function(x){x.tmp.done_vars=[]},n.execs.push(r),r=function(x){x.output.openLevel("empty")},n.execs.push(r);var s=[];if(this.strings.sort_direction===i.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),e[e.build.area].opt.sort_directions.push(s),i.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),r=function(x){x.tmp.sort_key_flag=!0,x.inheritOpt(this,"et-al-min")&&(x.tmp["et-al-min"]=x.inheritOpt(this,"et-al-min")),x.inheritOpt(this,"et-al-use-first")&&(x.tmp["et-al-use-first"]=x.inheritOpt(this,"et-al-use-first")),typeof x.inheritOpt(this,"et-al-use-last")=="boolean"&&(x.tmp["et-al-use-last"]=x.inheritOpt(this,"et-al-use-last"))},n.execs.push(r),t.push(n),this.variables.length){var o=this.variables[0];if(i.NAME_VARIABLES.indexOf(o)>-1){var l=new i.Token("names",i.START);l.tokentype=i.START,l.variables=this.variables,i.Node.names.build.call(l,e,t);var f=new i.Token("name",i.SINGLETON);f.tokentype=i.SINGLETON,f.strings["name-as-sort-order"]="all",f.strings["sort-separator"]=" ",f.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),f.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),f.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),i.Node.name.build.call(f,e,t);var m=new i.Token("institution",i.SINGLETON);m.tokentype=i.SINGLETON,i.Node.institution.build.call(m,e,t);var p=new i.Token("names",i.END);p.tokentype=i.END,i.Node.names.build.call(p,e,t)}else{var d=new i.Token("text",i.SINGLETON);if(d.strings.sort_direction=this.strings.sort_direction,d.dateparts=this.dateparts,i.NUMERIC_VARIABLES.indexOf(o)>-1)o==="citation-number"?r=function(x,O){if(x.tmp.area==="bibliography_sort"&&(this.strings.sort_direction===i.DESCENDING?x.bibliography_sort.opt.citation_number_sort_direction=i.DESCENDING:x.bibliography_sort.opt.citation_number_sort_direction=i.ASCENDING),x.tmp.area==="citation_sort"&&x.bibliography_sort.tmp.citation_number_map)var w=x.bibliography_sort.tmp.citation_number_map[x.registry.registry[O.id].seq];else var w=x.registry.registry[O.id].seq;w&&(w=i.Util.padding(""+w)),x.output.append(w,this)}:r=function(x,O){var w=!1;w=O[o],w&&(w=i.Util.padding(w)),x.output.append(w,this)};else if(o==="citation-label")r=function(x,O){var w=x.getCitationLabel(O);x.output.append(w,this)};else if(i.DATE_VARIABLES.indexOf(o)>-1)r=i.dateAsSortKey,d.variables=this.variables;else if(o==="title"){var g="title",h=!1,_=!1,E=!0;r=e.transform.getOutputFunction(this.variables,g,h,_,E)}else o==="court-class"?r=function(x,O,w){i.INIT_JURISDICTION_MACROS(x,O,w,"juris-main");var T=i.GET_COURT_CLASS(x,O,!0);x.output.append(T,"empty")}:r=function(x,O){var w=O[o];x.output.append(w,"empty")};d.execs.push(r),t.push(d)}}else{var b=new i.Token("text",i.SINGLETON);b.strings.sort_direction=this.strings.sort_direction,b.postponed_macro=this.postponed_macro,i.expandMacro.call(e,b,t)}var S=new i.Token("key",i.END);r=function(x){var O=x.output.string(x,x.output.queue);x.sys.normalizeUnicode&&(O=x.sys.normalizeUnicode(O)),O=O?O.split(" ").join(x.opt.sort_sep)+x.opt.sort_sep:"",O===""&&(O=void 0),typeof O!="string"&&(O=void 0),x[x[x.tmp.area].root+"_sort"].keys.push(O),x.tmp.value=[]},S.execs.push(r),e.build.date_key&&(e.build.area==="citation"&&e.build.extension==="_sort"&&(e[e.build.area].opt.sort_directions.push([-1,1]),r=function(x,O){var w=x.registry.registry[O.id].disambig.year_suffix;w||(w=0);var T=i.Util.padding(""+w);x[x.tmp.area].keys.push(T)},S.execs.push(r)),e.build.date_key=!1),r=function(x){x.tmp["et-al-min"]=void 0,x.tmp["et-al-use-first"]=void 0,x.tmp["et-al-use-last"]=void 0,x.tmp.sort_key_flag=!1},S.execs.push(r),t.push(S)}},i.Node.label={build:function(e,t){if(this.strings.term){var r=function(f,m,p){var d=i.evaluateLabel(this,f,m,p);p&&this.strings.term==="locator"&&(p.section_form_override=this.strings.form),d&&(f.tmp.group_context.tip.term_intended=!0),i.UPDATE_GROUP_CONTEXT_CONDITION(f,d,null,this),d.indexOf("%s")===-1&&(this.strings.capitalize_if_first&&!f.tmp.term_predecessor&&!(f.opt.class==="in-text"&&f.tmp.area==="citation")&&(d=i.Output.Formatters["capitalize-first"](f,d)),f.output.append(d,this))};this.execs.push(r)}else{this.strings.form||(this.strings.form="long");for(var n=e.build.names_variables[e.build.names_variables.length-1],s=e.build.name_label[e.build.name_label.length-1],o=0,l=n.length;o<l;o+=1)s[n[o]]||(s[n[o]]={});if(e.build.name_flag)for(var o=0,l=n.length;o<l;o+=1)s[n[o]].after=this;else for(var o=0,l=n.length;o<l;o+=1)s[n[o]].before=this}t.push(this)}},i.Node.layout={build:function(e,t){var r,n,s,o;function l(){e.build.area==="bibliography"&&(s=new i.Token("text",i.SINGLETON),r=function(p){if(!p.tmp.parallel_and_not_last){var d;p.tmp.cite_affixes[p.tmp.area][p.tmp.last_cite_locale]?d=p.tmp.cite_affixes[p.tmp.area][p.tmp.last_cite_locale].suffix:d=p.bibliography.opt.layout_suffix;var g=p.output.current.value();p.opt.using_display?g.blobs[g.blobs.length-1].strings.suffix=d:g.strings.suffix=d}p.bibliography.opt["second-field-align"]&&p.output.endTag("bib_other")},s.execs.push(r),t.push(s))}this.tokentype===i.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],r=function(p,d,g){if(p.opt.development_extensions.apply_citation_wrapper&&p.sys.wrapCitationEntry&&!p.tmp.just_looking&&d.system_id&&p.tmp.area==="citation"){var h=new i.Token("group",i.START);h.decorations=[["@cite","entry"]],p.output.startTag("cite_entry",h),p.output.current.value().item_id=d.system_id,g&&(p.output.current.value().locator_txt=g.locator_txt,p.output.current.value().suffix_txt=g.suffix_txt)}},this.execs.push(r)),this.tokentype===i.START&&!e.tmp.cite_affixes[e.build.area]&&(r=function(p,d,g){if(p.tmp.done_vars=[],g&&g["author-only"]&&p.tmp.done_vars.push("locator"),p.opt.suppressedJurisdictions[d.country]&&d.country&&["treaty","patent"].indexOf(d.type)===-1&&p.tmp.done_vars.push("country"),!p.tmp.just_looking&&p.registry.registry[d.id]&&p.registry.registry[d.id].parallel&&p.tmp.done_vars.push("first-reference-note-number"),!p.tmp.just_looking&&p.tmp.abbrev_trimmer&&d.jurisdiction)for(var h in p.tmp.abbrev_trimmer.QUASHES[d.jurisdiction])p.tmp.done_vars.push(h);p.tmp.rendered_name=!1},this.execs.push(r),r=function(p){p.tmp.sort_key_flag=!1},this.execs.push(r),r=function(p){p.tmp.nameset_counter=0},this.execs.push(r),r=function(p,d){var g=new i.Token;p.output.openLevel(g)},this.execs.push(r),t.push(this),e.build.area==="citation"&&(n=new i.Token("text",i.SINGLETON),r=function(p,d,g){if(g&&g.prefix){var h=i.checkPrefixSpaceAppend(p,g.prefix);p.tmp.just_looking||(h=p.output.checkNestedBrace.update(h));var _=i.checkIgnorePredecessor(p,h);p.output.append(h,this,!1,_)}},n.execs.push(r),t.push(n)));var f;if(this.locale_raw&&(f=new i.Token("dummy",i.START),f.locale=this.locale_raw,f.strings.delimiter=this.strings.delimiter,f.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===i.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(o=new i.Token("else",i.START),i.Node.else.build.call(o,e,t))),this.locale_raw)){if(e.build.layout_locale_flag)f.name="else-if",i.Attributes["@locale-internal"].call(f,e,this.locale_raw),i.Node["else-if"].build.call(f,e,t);else{var m=new i.Token("choose",i.START);i.Node.choose.build.call(m,e,t),f.name="if",i.Attributes["@locale-internal"].call(f,e,this.locale_raw),i.Node.if.build.call(f,e,t)}e.tmp.cite_affixes[e.build.area][f.locale]={},e.tmp.cite_affixes[e.build.area][f.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][f.locale].suffix=this.strings.suffix}this.tokentype===i.END&&(this.locale_raw&&(l(),e.build.layout_locale_flag?(f.name="else-if",f.tokentype=i.END,i.Attributes["@locale-internal"].call(f,e,this.locale_raw),i.Node["else-if"].build.call(f,e,t)):(f.name="if",f.tokentype=i.END,i.Attributes["@locale-internal"].call(f,e,this.locale_raw),i.Node.if.build.call(f,e,t),e.build.layout_locale_flag=!0)),this.locale_raw||(l(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(o=new i.Token("else",i.END),i.Node.else.build.call(o,e,t),o=new i.Token("choose",i.END),i.Node.choose.build.call(o,e,t)),e.build_layout_locale_flag=!0,e.build.area==="citation"&&(s=new i.Token("text",i.SINGLETON),r=function(p,d,g){if(g&&g.suffix){var h=i.checkSuffixSpacePrepend(p,g.suffix);p.tmp.just_looking||(h=p.output.checkNestedBrace.update(h)),p.output.append(h,this)}},s.execs.push(r),t.push(s)),r=function(p){p.output.closeLevel()},this.execs.push(r),r=function(p,d){p.opt.development_extensions.apply_citation_wrapper&&p.sys.wrapCitationEntry&&!p.tmp.just_looking&&d.system_id&&p.tmp.area==="citation"&&p.output.endTag()},this.execs.push(r),t.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},i.Node.macro={build:function(){}},i.Node.alternative={build:function(e,t){if(this.tokentype===i.START){var r=new i.Token("choose",i.START);i.Node.choose.build.call(r,e,t);var n=new i.Token("if",i.START);i.Attributes["@alternative-node-internal"].call(n,e),i.Node.if.build.call(n,e,t);var s=function(o,l){if(o.tmp.oldItem=l,o.tmp.oldLang=o.opt.lang,o.tmp.abort_alternative=!0,l["language-name"]&&l["language-name-original"]){var f=JSON.parse(JSON.stringify(l));f.language=f["language-name"];var m=i.localeResolve(f.language,o.opt["default-locale"][0]);if(o.opt.multi_layout)for(var p in o.opt.multi_layout){var d=o.opt.multi_layout[p],g=!1;for(var h in d){var _=d[h];if(m.best===_.best||m.base===_.base||m.bare===_.bare){g=d[0].best;break}}g||(g=o.opt["default-locale"][0]),o.opt.lang=g}for(var E in f)if(["id","type","language","multi"].indexOf(E)===-1&&E.slice(0,4)!=="alt-")if(f.multi&&f.multi._keys[E]){var b=!0;for(var S in f.multi._keys[E])if(m.bare===S.replace(/^([a-zA-Z]+).*/,"$1")){b=!1;break}b&&delete f[E]}else delete f[E];for(var E in f)E.slice(0,4)==="alt-"?(f[E.slice(4)]=f[E],o.tmp.abort_alternative=!1):f.multi&&f.multi._keys&&!f["alt-"+E]&&f.multi._keys[E]&&(f.multi._keys[E][m.best]?(f[E]=f.multi._keys[E][m.best],o.tmp.abort_alternative=!1):f.multi._keys[E][m.base]?(f[E]=f.multi._keys[E][m.base],o.tmp.abort_alternative=!1):f.multi._keys[E][m.bare]&&(f[E]=f.multi._keys[E][m.bare],o.tmp.abort_alternative=!1))}o.output.openLevel(this),o.registry.refhash[l.id]=f,o.nameOutput=new i.NameOutput(o,f)};this.execs.push(s),t.push(this);var r=new i.Token("choose",i.START);i.Node.choose.build.call(r,e,t);var n=new i.Token("if",i.START);i.Attributes["@alternative-node-internal"].call(n,e);var s=function(o){o.tmp.abort_alternative=!0};n.execs.push(s),i.Node.if.build.call(n,e,t)}else if(this.tokentype===i.END){var n=new i.Token("if",i.END);i.Node.if.build.call(n,e,t);var r=new i.Token("choose",i.END);i.Node.choose.build.call(r,e,t);var s=function(m,p){m.output.closeLevel(),m.registry.refhash[p.id]=m.tmp.oldItem,m.opt.lang=m.tmp.oldLang,m.nameOutput=new i.NameOutput(m,m.tmp.oldItem),m.tmp.abort_alternative=!1};this.execs.push(s),t.push(this);var n=new i.Token("if",i.END);i.Node.if.build.call(n,e,t);var r=new i.Token("choose",i.END);i.Node.choose.build.call(r,e,t)}}},i.Node["alternative-text"]={build:function(e,t){if(this.tokentype===i.SINGLETON){var r=function(n,o){var o=n.refetchItem(o.id);i.getCite.call(n,o)};this.execs.push(r)}t.push(this)}},i.NameOutput=function(e,t,r){this.debug=!1,this.state=e,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=r,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},i.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,r=this.variables.length;t<r;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if(this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],!!this.state.tmp.value.length){var n=this.checkCommonAuthor(this.requireMatch);if(n){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var t in this.variables){var s=this.state.tmp.done_vars.indexOf(this.variables[t]);s>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,s).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}}},i.NameOutput.prototype.reinit=function(e,t){if(this.requireMatch=e.requireMatch,this.labelVariable=t,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var n=0,s=this.variables.length;n<s;n+=1)this.Item[this.variables[n]]&&this.Item[this.variables[n]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[n]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,i.LITERAL),this.state.tmp.value=r}var o=this.checkCommonAuthor(this.requireMatch);if(o){this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0);for(var n in this.variables){var l=this.state.tmp.done_vars.indexOf(this.variables[n]);l>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,l).concat(this.state.tmp.done_vars.slice(n+1)))}this.variables=[]}},i.NameOutput.prototype.outputNames=function(){var e,t,r=this.variables;if(this.institution.and&&((!this.institution.and.single.blobs||!this.institution.and.single.blobs.length)&&(this.institution.and.single.blobs=this.name.and.single.blobs),(!this.institution.and.multiple.blobs||!this.institution.and.multiple.blobs.length)&&(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=i.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",e=0,t=this.family.execs.length;e<t;e+=1)this.family.execs[e].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=i.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",e=0,t=this.given.execs.length;e<t;e+=1)this.given.execs[e].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),this.name.strings.form==="count"){(this.state.tmp.extension||this.names_count!=0)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0);return}this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var n=[];for(e=0,t=r.length;e<t;e+=1){var s=r[e],o=[],l=!1,f=null;if(!this.state.opt.development_extensions.spoof_institutional_affiliations)f=this._join([this.freeters[s]],"");else{this.debug&&this.state.sys.print("(11a)");for(var m=0,p=this.institutions[s].length;m<p;m+=1)o.push(this.joinPersonsAndInstitutions([this.persons[s][m],this.institutions[s][m]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[s].length){var d=this.nameset_base+this.variable_offset[s];this.freeters[s].length&&(d+=1),l=this.joinInstitutionSets(o,d)}this.debug&&this.state.sys.print("(11c)");var f=this.joinFreetersAndInstitutionSets([this.freeters[s],l]);this.debug&&this.state.sys.print("(11d)")}if(f&&(this.state.tmp.extension||(f=this._applyLabels(f,s)),n.push(f)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),e=0,t=n.length;e<t;e+=1)this.state.output.append(n[e],"literal",!0);!this.state.tmp.just_looking&&n.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var g=this.state.output.pop();this.state.tmp.name_node.top=g,this.debug&&this.state.sys.print("(16)");var h=i.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&i.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(g,h),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),r[0]!=="authority"){var _=[],E=this.Item[r[0]];if(E)for(var e=0,t=E.length;e<t;e+=1){var b=i.Util.Names.getRawName(E[e]);b&&_.push(b)}_=_.join(", "),_&&(this.state.tmp.name_node.string=_)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),this.Item.type==="classic"&&this.state.tmp.first_name_string){var S=[];S.push(this.state.tmp.first_name_string),this.Item.title&&S.push(this.Item.title),S=S.join(", "),S&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(S=this.state.sys.normalizeAbbrevsKey("classic",S)),this.state.transform.loadAbbreviation("default","classic",S,this.Item.language),this.state.transform.abbrevs.default.classic[S]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[S],"empty",!0),g=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(g)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")},i.NameOutput.prototype._applyLabels=function(e,t){var r;if(!this.label||!this.label[this.labelVariable])return e;var n=0,s=this.freeters_count[t]+this.institutions_count[t];if(s>1)n=1;else{for(var o=0,l=this.persons[t].length;o<l;o+=1)s+=this.persons_count[t][o];s>1&&(n=1)}return this.label[this.labelVariable].before?(typeof this.label[this.labelVariable].before.strings.plural=="number"&&(n=this.label[this.labelVariable].before.strings.plural),r=this._buildLabel(t,n,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&(typeof this.label[this.labelVariable].after.strings.plural=="number"&&(n=this.label[this.labelVariable].after.strings.plural),r=this._buildLabel(t,n,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(r,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},i.NameOutput.prototype._buildLabel=function(e,t,r,n){this.common_term&&(e=this.common_term);var s=!1,o=this.label[n][r];return o&&(s=i.castLabel(this.state,o,e,t,i.TOLERANT)),s},i.NameOutput.prototype._collapseAuthor=function(){var e,t,r;this.state.tmp.name_node.top.blobs.length!==0&&(this.nameset_base===0&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=r,this.state.registry.authorstrings[this.Item.id]=t):!this.state.tmp.just_looking&&!this.state.tmp.suppress_decorations&&(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)&&(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&this.Item.type!=="legal_case"&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},i.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},i.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,r,n,s,o;this.freeters_count={},this.persons_count={},this.institutions_count={};for(e in this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],n=0,s=this.persons[e].length;n<s;n+=1)this.persons_count[e][n]=this.persons[e][n].length,this.persons[e][n]=this._truncateNameList(this.persons,e,n);if(this.state.opt.development_extensions.etal_min_etal_usefirst_hack&&this.etal_min===1&&this.etal_use_first===1&&!(this.state.tmp.extension||this.state.tmp.just_looking)?o=e:o=!1,o||this._please_chop)for(t=0,r=this.variables.length;t<r;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):o&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=o));for(var n=0,s=this.persons[e].length;n<s;n++)if(this.persons[e][n].length){if(this._please_chop===e){this.persons[e][n]=this.persons[e][n].slice(1),this.persons_count[e][n]+=-1,this._please_chop=!1;break}else if(o&&!this._please_chop){this.freeters[e]=this.persons[e][n].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=o;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):o&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,this._please_chop=o))}for(t=0,r=this.variables.length;t<r;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(var n=0,s=this.persons[e].length;n<s;n++)this.persons[e][n].length&&(this.nameset_offset+=1)}},i.NameOutput.prototype._truncateNameList=function(e,t,r){var n;if(typeof r>"u"?n=e[t]:n=e[t][r],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&n.length>50&&n.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;n=n.slice(0,s+1).concat(n.slice(-1))}return n},i.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,r,n,s=this.Item,o=this.variables;for(this.varnames=o.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=o.length;e<t;e+=1){var l=o[e];this.variable_offset[l]=this.nameset_offset;var f=this._normalizeVariableValue(s,l);if(this.name.strings["suppress-min"]&&f.length>=this.name.strings["suppress-min"]&&(f=[]),this.name.strings["suppress-max"]&&f.length<=this.name.strings["suppress-max"]&&(f=[]),this._getFreeters(l,f),this._getPersonsAndInstitutions(l,f),this.state.opt.development_extensions.spoof_institutional_affiliations){if(this.name.strings["suppress-min"]===0)for(this.freeters[l]=[],r=0,n=this.persons[l].length;r<n;r+=1)this.persons[l][r]=[];else if(this.institution.strings["suppress-min"]===0){for(this.institutions[l]=[],this.freeters[l]=this.freeters[l].concat(this.persons[l]),r=0,n=this.persons[l].length;r<n;r+=1)for(var m=0,p=this.persons[l][r].length;m<p;m+=1)this.freeters[l].push(this.persons[l][r][m]);this.persons[l]=[]}}}},i.NameOutput.prototype._normalizeVariableValue=function(e,t){var r;return typeof e[t]=="string"||typeof e[t]=="number"?(i.debug('name variable "'+t+'" is string or number, not array. Attempting to fix.'),r=[{literal:e[t]+""}]):e[t]?(typeof e[t].length!="number"&&(i.debug('name variable "'+t+'" is object, not array. Attempting to fix.'),e[t]=[e[t]]),r=e[t].slice()):r=[],r},i.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var r=t.length-1;r>-1&&this.isPerson(t[r]);r--){var n=this._checkNickname(t.pop());n&&this.freeters[e].push(n)}else for(var r=t.length-1;r>-1;r--){var n=t.pop();if(this.isPerson(n))var n=this._checkNickname(n);this.freeters[e].push(n)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},i.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],!!this.state.opt.development_extensions.spoof_institutional_affiliations){for(var r=[],n=!1,s=!0,o=t.length-1;o>-1;o+=-1)if(this.isPerson(t[o])){var l=this._checkNickname(t[o]);l&&r.push(l)}else n=!0,this.institutions[e].push(t[o]),s||(r.reverse(),this.persons[e].push(r),r=[]),s=!1;n&&(r.reverse(),this.persons[e].push(r),this.persons[e].reverse(),this.institutions[e].reverse())}},i.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},i.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var t="";if(t=i.Util.Names.getRawName(e),t&&this.state.sys.getAbbreviation&&!(this.item&&this.item["suppress-author"])){var r=t;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",t)),this.state.transform.loadAbbreviation("default","nickname",r,this.Item.language);var n=this.state.transform.abbrevs.default.nickname[r];n&&(n==="!here>>>"?e=!1:e={family:n,given:""})}}return e},i.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)(!e[t]||e[t].length===0||!e[t].blobs.length)&&(e=e.slice(0,t).concat(e.slice(t+1)));return e},i.NameOutput.prototype.joinPersons=function(e,t,r,n){var s;return e=this._purgeEmptyBlobs(e),typeof r>"u"?this.etal_spec[t].freeters===1?s=this._joinEtAl(e):this.etal_spec[t].freeters===2?s=this._joinEllipsis(e):this.state.tmp.sort_key_flag?s=this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):s=this._joinAnd(e):this.etal_spec[t].persons[r]===1?s=this._joinEtAl(e):this.etal_spec[t].persons[r]===2?s=this._joinEllipsis(e):this.state.tmp.sort_key_flag?s=this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):s=this._joinAnd(e),s},i.NameOutput.prototype.joinInstitutionSets=function(e,t){var r;return e=this._purgeEmptyBlobs(e),this.etal_spec[t].institutions===1?r=this._joinEtAl(e,"institution"):this.etal_spec[t].institutions===2?r=this._joinEllipsis(e,"institution"):r=this._joinAnd(e),r},i.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},i.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,"[never here]",this.with.single,this.with.multiple);return t},i.NameOutput.prototype._getAfterInvertedName=function(e,t,r){if(r&&e.length>1&&this.state.inheritOpt(this.name,"delimiter-precedes-last")==="after-inverted-name"){var n=e[e.length-2];n.blobs.length>0&&n.blobs[0].isInverted&&(r.strings.prefix=t)}return r},i.NameOutput.prototype._getAndJoin=function(e,t){var r=!1;if(e.length>1){var n="single";e.length>2&&(n="multiple"),e[e.length-1].isInstitution?r=this.institution.and[n]:r=this.name.and[n],r=JSON.parse(JSON.stringify(r)),r=this._getAfterInvertedName(e,t,r)}return r},i.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(r,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):e.length===1&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},i.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=!1;if(e.length>1){var n="single";e.length>2&&(n="multiple"),r=JSON.parse(JSON.stringify(this.name.ellipsis[n])),r=this._getAfterInvertedName(e,t,r)}return this._join(e,t,r)},i.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),r=this._getAndJoin(e,t);return this._join(e,t,r)},i.NameOutput.prototype._join=function(e,t,r){var n,s;if(!e||(e=this._purgeEmptyBlobs(e),!e.length))return!1;if(e.length>1)if(e.length===2)r?e=[e[0],r,e[1]]:e[0].strings.suffix+=t;else{var o;r?o=1:o=0;for(var l=e.pop(),n=0,s=e.length-o;n<s;n++)e[n].strings.suffix+=t;e.push(r),e.push(l)}for(this.state.output.openLevel(),n=0,s=e.length;n<s;n+=1)this.state.output.append(e[n],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},i.NameOutput.prototype._getToken=function(e){var t=this[e];if(e==="institution"){var r=new i.Token;return r}return t},i.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(this.variables.length===2){var r=this.variables,n=r.slice();n.sort(),t=n.join("")}if(!t)return!1;var s=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(s=!0),!s)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var o=this.Item[this.variables[0]],l=this.Item[this.variables[1]],f=this._compareNamesets(o,l);return f===!0&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!f},i.NameOutput.prototype.setCommonTerm=function(){var e=this.variables,t=e.slice();if(t.sort(),this.common_term=t.join(""),!!this.common_term){var r=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?r=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(r=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!r||this.variables.length<2){this.common_term=!1;return}for(var n=0,s=this.variables.length-1;n<s;n+=1){var o=this.variables[n],l=this.variables[n+1];if((this.freeters[o].length||this.freeters[l].length)&&(this.etal_spec[o].freeters!==this.etal_spec[l].freeters||!this._compareNamesets(this.freeters[o],this.freeters[l]))){this.common_term=!1;return}if(this.persons[o].length!==this.persons[l].length){this.common_term=!1;return}for(var f=0,m=this.persons[o].length;f<m;f+=1)if(this.etal_spec[o].persons[f]!==this.etal_spec[l].persons[f]||!this._compareNamesets(this.persons[o][f],this.persons[l][f])){this.common_term=!1;return}}}},i.NameOutput.prototype._compareNamesets=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var r=0,n=t.length;r<n;r+=1)for(var s=0,o=i.NAME_PARTS.length;s<o;s+=1){var l=i.NAME_PARTS[s];if(!e[r]||e[r][l]!=t[r][l])return!1}return!0},i.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var e,t=0,r=this.variables.length;t<r;t+=1){var n=this.variables[t];e=this.nameset_base+t,this.freeters[n].length&&(this.state.tmp.names_max.push(this.freeters[n].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,n,e),this.names_count+=this.freeters[n].length),this.institutions[n].length&&(this.state.tmp.names_max.push(this.institutions[n].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,n,e),this.persons[n]=this.persons[n].slice(0,this.institutions[n].length),this.names_count+=this.institutions[n].length);for(var s=0,o=this.persons[n].length;s<o;s+=1)this.persons[n][s].length&&(this.state.tmp.names_max.push(this.persons[n][s].length,"literal"),this._imposeNameConstraints(this.persons[n],this.persons_count[n],s,e),this.names_count+=this.persons[n][s].length)}},i.NameOutput.prototype._imposeNameConstraints=function(e,t,r,n){var s=e[r],o=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]?o=this.state.tmp.disambig_request.names[n]:t[r]>=this.etal_min&&(o=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]>this.etal_use_first?t[r]<this.etal_min?o=t[r]:o=this.state.tmp.disambig_request.names[n]:t[r]>=this.etal_min&&(o=this.etal_use_first),this.etal_use_last&&o>this.etal_min-2&&(o=this.etal_min-2));var l=this.etal_min>=this.etal_use_first,f=t[r]>o;o>t[r]&&(o=s.length),l&&f&&(this.etal_use_last?e[r]=s.slice(0,o).concat(s.slice(-1)):e[r]=s.slice(0,o)),this.state.tmp.disambig_settings.names[n]=e[r].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},i.NameOutput.prototype.disambigNames=function(){for(var e,t=0,r=this.variables.length;t<r;t+=1){var n=this.variables[t];if(e=this.nameset_base+t,this.freeters[n].length&&this._runDisambigNames(this.freeters[n],e),this.institutions[n].length){typeof this.state.tmp.disambig_settings.givens[e]>"u"&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var s=0,o=this.institutions[n].length;s<o;s+=1)typeof this.state.tmp.disambig_settings.givens[e][s]>"u"&&this.state.tmp.disambig_settings.givens[e].push(2)}for(var s=0,o=this.persons[n].length;s<o;s+=1)this.persons[n][s].length&&this._runDisambigNames(this.persons[n][s],e)}},i.NameOutput.prototype._runDisambigNames=function(e,t){var r,n,s,o,l,f,m;for(l=0,f=e.length;l<f;l+=1)if(!(!e[l].given&&!e[l].family)){if(s=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[l],l),r=this.state.tmp.disambig_settings.givens[t],typeof r>"u")for(var p=0,d=t+1;p<d;p+=1)this.state.tmp.disambig_settings.givens[p]||(this.state.tmp.disambig_settings.givens[p]=[]);if(r=this.state.tmp.disambig_settings.givens[t][l],typeof r>"u"&&(n=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,e[l],l,0,n,s),this.state.tmp.disambig_settings.givens[t].push(o)),n=this.state.inheritOpt(this.name,"form","name-form","long"),m=this.state.registry.namereg.evalname(""+this.Item.id,e[l],l,0,n,s),this.state.tmp.disambig_request){var g=this.state.tmp.disambig_settings.givens[t][l];g===1&&this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(typeof this.state.inheritOpt(this.name,"initialize-with")>"u"||typeof e[l].given>"u")&&(g=2),o=g,this.state.opt["disambiguate-add-givenname"]&&e[l].given&&(o=this.state.registry.namereg.evalname(""+this.Item.id,e[l],l,o,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else o=m;!this.state.tmp.just_looking&&this.item&&this.item.position===i.POSITION_FIRST&&m>o&&(o=m),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[t][l]=o,typeof s=="string"&&(typeof this.name.strings.initialize>"u"||this.name.strings.initialize===!0)&&(this.state.tmp.disambig_settings.use_initials=!0))}},i.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,typeof e>"u"&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),typeof this.state.tmp["et-al-use-last"]=="boolean"?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},i.NameOutput.prototype.setEtAlParameters=function(){var e,t,r,n;for(e=0,t=this.variables.length;e<t;e+=1){var s=this.variables[e];for(typeof this.etal_spec[s]>"u"&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),r=0,n=this.persons[s].length;r<n;r+=1)typeof this.etal_spec[s][r]>"u"&&(this.etal_spec[s].persons[r]=0),this._setEtAlParameter("persons",s,r);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},i.NameOutput.prototype._setEtAlParameter=function(e,t,r){var n,s;e==="persons"?(n=this.persons[t][r],s=this.persons_count[t][r]):(n=this[e][t],s=this[e+"_count"][t]),n.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?e==="persons"?this.etal_spec[t].persons[r]=2:this.etal_spec[t][e]=2:e==="persons"?this.etal_spec[t].persons[r]=1:this.etal_spec[t][e]=1:e==="persons"?this.etal_spec[t].persons[r]=0:this.etal_spec[t][e]=0},i.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,r=this.variables.length;t<r;t+=1){var n=this.variables[t];(this.freeters[n].length||this.institutions[n].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[n].length&&(this.freeters[n]=this._renderNames(n,this.freeters[n],e));for(var s=0,o=this.institutions[n].length;s<o;s+=1)this.persons[n][s]=this._renderNames(n,this.persons[n][s],e,s)}this.renderInstitutionNames()},i.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var r=this.variables[e],n=0,s=this.institutions[r].length;n<s;n+=1){var g,o=this.institutions[r][n],n,s,l;this.state.tmp.extension?l=["sort"]:o.isInstitution||o.literal?l=this.state.opt["cite-lang-prefs"].institutions:l=this.state.opt["cite-lang-prefs"].persons;var f={primary:"locale-orig",secondary:!1,tertiary:!1};if(l)for(var m=["primary","secondary","tertiary"],p=0,d=m.length;p<d&&!(l.length-1<p);p+=1)l[p]&&(f[m[p]]="locale-"+l[p]);else f.primary="locale-translat";this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position)&&(f.secondary=!1,f.tertiary=!1),this.setRenderedName(o);var g=this._renderInstitutionName(r,o,f,n);this.institutions[r][n]=g}},i.NameOutput.prototype._renderInstitutionName=function(e,t,r,n){var s,o,l,f,m,p,d,g=this.getName(t,r.primary,!0),h=g.name,_=g.usedOrig;if(h&&(h=this.fixupInstitution(h,e,n)),s=!1,r.secondary){g=this.getName(t,r.secondary,!1,_);var s=g.name;_=g.usedOrig,s&&(s=this.fixupInstitution(s,e,n))}o=!1,r.tertiary&&(g=this.getName(t,r.tertiary,!1,_),o=g.name,o&&(o=this.fixupInstitution(o,e,n)));var E={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(h&&(E.l.pri=h.long,E.s.pri=h.short.length?h.short:h.long),s&&(E.l.sec=s.long,E.s.sec=s.short.length?s.short:s.long),o&&(E.l.ter=o.long,E.s.ter=o.short.length?o.short:o.long),this.institution.strings["institution-parts"]){case"short":h.short.length?(f=this._getShortStyle(),m=[this._composeOneInstitutionPart([E.s.pri,E.s.sec,E.s.ter],r,f,e)]):(l=this._getLongStyle(h,e,n),m=[this._composeOneInstitutionPart([E.l.pri,E.l.sec,E.l.ter],r,l,e)]);break;case"short-long":l=this._getLongStyle(h,e,n),f=this._getShortStyle(),p=this._renderOneInstitutionPart(h.short,f),d=this._composeOneInstitutionPart([E.l.pri,E.l.sec,E.l.ter],r,l,e),m=[p,d];break;case"long-short":l=this._getLongStyle(h,e,n),f=this._getShortStyle(),p=this._renderOneInstitutionPart(h.short,f),d=this._composeOneInstitutionPart([E.l.pri,E.l.sec,E.l.ter],r,l,e),m=[d,p];break;default:l=this._getLongStyle(h,e,n),m=[this._composeOneInstitutionPart([E.l.pri,E.l.sec,E.l.ter],r,l,e)];break}var b=this._join(m," ");return b&&(b.isInstitution=!0),this.state.tmp.name_node.children.push(b),b},i.NameOutput.prototype._composeOneInstitutionPart=function(e,t,r){var n=!1,s=!1,o=!1,l,f,m;if(e[0]){if(l=i.Util.cloneToken(r),this.state.opt.citeAffixes[t.primary]&&this.state.opt.citeAffixes.institutions[t.primary].prefix==="<i>"){for(var p=!1,d=0,g=l.decorations.length;d<g;d+=1)r.decorations[d][0]==="@font-style"&&l.decorations[d][1]==="italic"&&(p=!0);p||l.decorations.push(["@font-style","italic"])}n=this._renderOneInstitutionPart(e[0],l)}e[1]&&(s=this._renderOneInstitutionPart(e[1],r)),e[2]&&(o=this._renderOneInstitutionPart(e[2],r));var h;if(s||o){this.state.output.openLevel("empty"),this.state.output.append(n),f=i.Util.cloneToken(r),t.secondary&&(f.strings.prefix=this.state.opt.citeAffixes.institutions[t.secondary].prefix,f.strings.suffix=this.state.opt.citeAffixes.institutions[t.secondary].suffix,f.strings.prefix||(f.strings.prefix=" "));var _=new i.Token;_.decorations.push(["@font-style","normal"]),_.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(_),this.state.output.append(s,f),this.state.output.closeLevel(),m=i.Util.cloneToken(r),t.tertiary&&(m.strings.prefix=this.state.opt.citeAffixes.institutions[t.tertiary].prefix,m.strings.suffix=this.state.opt.citeAffixes.institutions[t.tertiary].suffix,m.strings.prefix||(m.strings.prefix=" "));var E=new i.Token;E.decorations.push(["@font-style","normal"]),E.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(E),this.state.output.append(o,m),this.state.output.closeLevel(),this.state.output.closeLevel(),h=this.state.output.pop()}else h=n;return h},i.NameOutput.prototype._renderOneInstitutionPart=function(e,t){for(var r=0,n=e.length;r<n;r+=1)if(e[r]){var s=e[r];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var o=0,l=t.decorations.length;o<l;o+=1)if(t.decorations[o][0]==="@strip-periods"&&t.decorations[o][1]==="true"){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,i.LITERAL),s==="!here>>>"?e[r]=!1:(this.state.output.append(s,t,!0),e[r]=this.state.output.pop())}return typeof this.institution.strings["part-separator"]>"u"&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},i.NameOutput.prototype._renderNames=function(e,t,r,n){var s=!1;if(t.length){for(var o=[],l=0,f=t.length;l<f;l+=1){var m=t[l],s,p;this.state.tmp.extension?p=["sort"]:m.isInstitution||m.literal?p=this.state.opt["cite-lang-prefs"].institutions:p=this.state.opt["cite-lang-prefs"].persons;var d={primary:"locale-orig",secondary:!1,tertiary:!1};if(p)for(var g=["primary","secondary","tertiary"],h=0,_=g.length;h<_&&!(p.length-1<h);h+=1)d[g[h]]="locale-"+p[h];else d.primary="locale-translat";if((this.state.tmp.sort_key_flag||this.state.tmp.area!=="bibliography"&&!(this.state.tmp.area==="citation"&&this.state.opt.xclass==="note"&&this.item&&!this.item.position))&&(d.secondary=!1,d.tertiary=!1),this.setRenderedName(m),!m.literal&&!m.isInstitution){var E=this._renderPersonalName(e,m,d,r,l,n),b=i.Util.cloneToken(this.name);this.state.output.append(E,b,!0),o.push(this.state.output.pop())}else o.push(this._renderInstitutionName(e,m,d,n))}s=this.joinPersons(o,r,n)}return s},i.NameOutput.prototype._renderPersonalName=function(e,t,r,n,s,o){var l=this.getName(t,r.primary,!0),f=this._renderOnePersonalName(l.name,n,s,o),m=!1;r.secondary&&(l=this.getName(t,r.secondary,!1,l.usedOrig),l.name&&(m=this._renderOnePersonalName(l.name,n,s,o)));var p=!1;r.tertiary&&(l=this.getName(t,r.tertiary,!1,l.usedOrig),l.name&&(p=this._renderOnePersonalName(l.name,n,s,o)));var d;if(m||p){this.state.output.openLevel("empty"),this.state.output.append(f);var g=new i.Token;r.secondary&&(g.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,g.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,g.strings.prefix||(g.strings.prefix=" ")),this.state.output.append(m,g);var h=new i.Token;r.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(p,h),this.state.output.closeLevel(),d=this.state.output.pop()}else d=f;return d},i.NameOutput.prototype._isRomanesque=function(e){var t=2;e.family.replace(/\"/g,"").match(i.ROMANESQUE_REGEXP)||(t=0),!t&&e.given&&e.given.match(i.STARTSWITH_ROMANESQUE_REGEXP)&&(t=1);var r;return t==2&&(e.multi&&e.multi.main?r=e.multi.main.slice(0,2):this.Item.language&&(r=this.Item.language.slice(0,2)),["ja","zh"].indexOf(r)>-1&&(t=1)),t},i.NameOutput.prototype._renderOnePersonalName=function(e,t,r,n){var s=e,o=this._droppingParticle(s,t,n),l=this._familyName(s),f=this._nonDroppingParticle(s),m=this._givenName(s,t,r),p=m.blob,d=this._nameSuffix(s);p===!1&&(o=!1,d=!1);var g=this.state.inheritOpt(this.name,"sort-separator");g||(g="");var h;s["comma-suffix"]?h=", ":h=" ";var _=this._isRomanesque(s);function E(C){return C?typeof C.blobs=="string"?["â","'","-"," "].indexOf(C.blobs.slice(-1))>-1:E(C.blobs[C.blobs.length-1]):!1}var b=E(f),S;["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?S="Â ":S=" ";var x,O,w,T;if(_===0)x=this._join([f,l,p],"");else if(_===1||s["static-ordering"])O=this._join([f,l],S),x=this._join([O,p]," ");else if(s["reverse-ordering"])O=this._join([f,l],S),x=this._join([p,O]," ");else if(this.state.tmp.sort_key_flag)this.state.opt["demote-non-dropping-particle"]==="never"?(O=this._join([f,l],S),O=this._join([O,o]," "),O=this._join([O,p],this.state.opt.sort_sep),x=this._join([O,d]," ")):(T=this._join([p,o,f]," "),O=this._join([l,T],this.state.opt.sort_sep),x=this._join([O,d]," "));else if(this.state.inheritOpt(this.name,"name-as-sort-order")==="all"||this.state.inheritOpt(this.name,"name-as-sort-order")==="first"&&r===0&&(n===0||typeof n>"u"))["Lord","Lady"].indexOf(s.given)>-1&&(g=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(T=this._join([p,o],s["comma-dropping-particle"]+" "),T=this._join([T,f]," "),T&&this.given&&(T.strings.prefix=this.given.strings.prefix,T.strings.suffix=this.given.strings.suffix),l&&this.family&&(l.strings.prefix=this.family.strings.prefix,l.strings.suffix=this.family.strings.suffix),O=this._join([l,T],g),x=this._join([O,d],g)):(b?w=this._join([f,l],""):w=this._join([f,l],S),w&&this.family&&(w.strings.prefix=this.family.strings.prefix,w.strings.suffix=this.family.strings.suffix),T=this._join([p,o],s["comma-dropping-particle"]+" "),T&&this.given&&(T.strings.prefix=this.given.strings.prefix,T.strings.suffix=this.given.strings.suffix),O=this._join([w,T],g),x=this._join([O,d],g)),x.isInverted=!0;else{if(s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]){var q=s["dropping-particle"],N=["'","Ê¼","â","-"];N.indexOf(q.slice(-1))>-1&&q.slice(0,-1)!=="de"&&(l=this._join([o,l],""),o=!1)}b?(T=this._join([f,l],""),T=this._join([o,T],S)):T=this._join([o,f,l],S),T=this._join([T,d],h),T&&this.family&&(T.strings.prefix=this.family.strings.prefix,T.strings.suffix=this.family.strings.suffix),p&&this.given&&(p.strings.prefix=this.given.strings.prefix,p.strings.suffix=this.given.strings.suffix),T.strings.prefix&&(s["comma-dropping-particle"]="");var W;this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&m.initializationLevel===1?W=S:W=" ",x=this._join([p,T],s["comma-dropping-particle"]+W)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,i.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(x),x},i.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},i.NameOutput.prototype._stripPeriods=function(e,t){var r=this[e+"_decor"];if(t){if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(r){for(var n=0,s=r.decorations.length;n<s;n+=1)if(r.decorations[n][0]==="@strip-periods"&&r.decorations[n][1]==="true"){t=t.replace(/\./g,"");break}}}return t},i.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var r=this._stripPeriods("family",t);return this.state.output.append(r,this.family_decor,!0)?this.state.output.pop():!1},i.NameOutput.prototype._droppingParticle=function(e,t,r){var n=e["dropping-particle"];n&&this.state.tmp.sort_key_flag&&(n=n.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",n);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?typeof r>"u"?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:typeof r>"u"?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},i.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return this.state.output.append(t,this.family_decor,!0)?this.state.output.pop():!1},i.NameOutput.prototype._givenName=function(e,t,r){var n,s=this.state.inheritOpt(this.name,"form","name-form","long")!=="long",o=this.state.inheritOpt(this.name,"initialize")!==!1,l=typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&!e.block_initialize,f,m;if(e["full-form-always"])m=2;else{s?f=0:l?f=1:f=2;var p=this.state.tmp.disambig_settings.givens[t][r];p>f?m=p:m=f}var d=this.state.citation.opt["givenname-disambiguation-rule"];if(d&&d.slice(-14)==="-with-initials"&&(l=!0),e.family&&m===1)if(l){var g=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=i.Util.Names.initializeWith(this.state,e.given,g,!o)}else e.given=i.Util.Names.unInitialize(this.state,e.given);else{if(m===0)return{blob:!1};m===2&&(e.given=i.Util.Names.unInitialize(this.state,e.given))}var h=this._stripPeriods("given",e.given),_=this.state.output.append(h,this.given_decor,!0);return _?(n=this.state.output.pop(),{blob:n,initializationLevel:m}):{blob:!1}},i.NameOutput.prototype._nameSuffix=function(e){var t=e.suffix,r;t&&typeof this.state.inheritOpt(this.name,"initialize-with")=="string"&&(t=i.Util.Names.initializeWith(this.state,t,this.state.inheritOpt(this.name,"initialize-with"),!0)),t=this._stripPeriods("family",t);var n="";t&&t.slice(-1)==="."&&(t=t.slice(0,-1),n=".");var s=this.state.output.append(t,"empty",!0);return s?(r=this.state.output.pop(),r.strings.suffix=n+r.strings.suffix,r):!1},i.NameOutput.prototype._getLongStyle=function(e){var t;return e.short.length?this.institutionpart["long-with-short"]?t=this.institutionpart["long-with-short"]:t=this.institutionpart.long:t=this.institutionpart.long,t||(t=new i.Token),t},i.NameOutput.prototype._getShortStyle=function(){var e;return this.institutionpart.short?e=this.institutionpart.short:e=new i.Token,e},i.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&typeof e["parse-names"]<"u")return e;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0);var t;e.family&&e.family.slice(0,1)==='"'&&e.family.slice(-1)==='"'||!e["parse-names"]&&typeof e["parse-names"]<"u"?(e.family=e.family.slice(1,-1),t=!0,e["parse-names"]=0):t=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!t&&e.given&&(e["static-particles"]||i.parseParticles(e,!0))},i.NameOutput.prototype.getName=function(e,t,r,n){if(n&&t==="locale-orig")return{name:!1,usedOrig:n};e.family||(e.family=""),e.given||(e.given="");var s={};s["static-ordering"]=this.getStaticOrder(e);var o=!0,l;if(t!=="locale-orig"&&(o=!1,e.multi)){for(var f=this.state.opt[t],m=0,p=f.length;m<p;m+=1)if(l=f[m],e.multi._key[l]){o=!0;var d=e.isInstitution;e=e.multi._key[l],e.isInstitution=d,s=this.getNameParams(l),s.transliterated=!0;break}}if(o||(l=!1,e.multi&&e.multi.main?l=e.multi.main:this.Item.language&&(l=this.Item.language),l&&(s=this.getNameParams(l))),!r&&!o)return{name:!1,usedOrig:n};e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":s["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi},!e.literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),e=this._normalizeNameInput(e);var g;return n?g=n:g=!o,{name:e,usedOrig:g}},i.NameOutput.prototype.getNameParams=function(e){var t={},r=i.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),n=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],s=this.state.locale[n].opts["name-as-sort-order"],o=this.state.locale[n].opts["name-as-reverse-order"],l=this.state.locale[n].opts["name-never-short"],f=e.split("-")[0];return s&&s[f]&&(t["static-ordering"]=!0,t["reverse-ordering"]=!1),o&&o[f]&&(t["reverse-ordering"]=!0,t["static-ordering"]=!1),l&&l[f]&&(t["full-form-always"]=!0),t["static-ordering"]&&(t["block-initialize"]=!0),t},i.NameOutput.prototype.setRenderedName=function(e){if(this.state.tmp.area==="bibliography"){for(var t="",r=0,n=i.NAME_PARTS.length;r<n;r+=1)e[i.NAME_PARTS[r]]&&(t+=e[i.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(t)}},i.NameOutput.prototype.fixupInstitution=function(e,t,r){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var n=e.literal,s=n,o={long:n.split(/\s*\|\s*/),short:s.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if(this.institution.strings.form==="short"){let h=this.Item.jurisdiction;h=this.state.transform.loadAbbreviation(h,"institution-entire",n,this.Item.language),this.state.transform.abbrevs[h]["institution-entire"][n]?n=this.state.transform.abbrevs[h]["institution-entire"][n]:(h=this.Item.jurisdiction,h=this.state.transform.loadAbbreviation(h,"institution-part",n,this.Item.language),this.state.transform.abbrevs[h]["institution-part"][n]&&(n=this.state.transform.abbrevs[h]["institution-part"][n])),n=this._quashChecks(h,n)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let h=this.Item.jurisdiction;h=this.state.transform.loadAbbreviation(h,"institution-part",s,this.Item.language),this.state.transform.abbrevs[h]["institution-part"][s]&&(s=this.state.transform.abbrevs[h]["institution-part"][s]),s=this._quashChecks(h,s),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&s===n&&(s="")}if(o.long=n.split(/\s*\|\s*/),o.short=s.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var l=o.short.length-1;l>-1;l--){let h=this.Item.jurisdiction;var f=o.short[l];if(h=this.state.transform.loadAbbreviation(h,"institution-part",f,this.Item.language),this.state.transform.abbrevs[h]["institution-part"][f]&&(o.short[l]=this.state.transform.abbrevs[h]["institution-part"][f]),o.short[l].indexOf("|")>-1){let _=o.short,E=_[l].split(/\s*\|\s*/);o.short=_.slice(0,l).concat(E).concat(_.slice(l+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&o.short.reverse(),o.short=this._trimInstitution(o.short),this.institution.strings["reverse-order"]&&o.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let h=this.Item.jurisdiction;var m=this.state.tmp.abbrev_trimmer;if(m&&m[h]&&m[h][t])for(var p=0,d=o.short.length;p<d;p++){var g=o.short[p];o.short[p]=g.replace(m[h][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&o.long.reverse(),o.long=this._trimInstitution(o.long),this.institution.strings["reverse-order"]&&o.long.reverse(),o},i.NameOutput.prototype.getStaticOrder=function(e,t){var r=!1;return(!t&&e["static-ordering"]||this._isRomanesque(e)===0||(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&i.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&i.VIETNAMESE_SPECIALS.exec(e.family+e.given))&&(r=!0),r},i.NameOutput.prototype._quashChecks=function(e,r){var r=this.state.transform.quashCheck(e,r),n=r.split(/>>[0-9]{4}>>/),s=r.match(/>>([0-9]{4})>>/);r=n.pop();var o=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(o&&(o=parseInt(o.year,10),o=isNaN(o)?!1:o),o){if(n.length>0)for(var l=s.length-1;l>0&&!(o>=parseInt(s[l],10));l--)r=n.pop();r=r.replace(/\s*\|\s*/g,"|")}return r},i.NameOutput.prototype._trimInstitution=function(e){var t=!1,r=!1,n=!1,s=!1,o=e.slice();if(this.institution){if(typeof this.institution.strings["use-first"]<"u"&&(t=this.institution.strings["use-first"]),typeof this.institution.strings["use-last"]<"u"&&(n=this.institution.strings["use-last"]),typeof this.institution.strings["stop-first"]<"u"&&(s=this.institution.strings["stop-first"]),typeof this.institution.strings["stop-last"]<"u"&&(r=this.institution.strings["stop-last"]),t&&(r&&(o=o.slice(0,r*-1)),o=o.slice(0,t)),n){var l=e.slice();t?s=t:o=[],s&&(l=l.slice(s)),l=l.slice(n*-1),o=o.concat(l)}e=o}return e},i.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},i.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},i.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;this.group_tok.strings.and==="text"?e=this.state.getTerm("and"):this.group_tok.strings.and==="symbol"&&(e="&");var t=new i.Token;t.strings.suffix=" ",t.strings.prefix=" ",this.state.output.append(e,t,!0);var r=this.state.output.pop();t.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,t,!0);var n=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&(this.group_tok.strings["subgroup-delimiter-precedes-last"]==="always"?this.and_blob.single=n:this.group_tok.strings["subgroup-delimiter-precedes-last"]==="never"?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=n))},i.PublisherOutput.prototype.composeElements=function(){for(var e=0,t=2;e<t;e+=1)for(var r=["publisher","publisher-place"][e],n=0,s=this["publisher-list"].length;n<s;n+=1){var o=this[r+"-list"][n],l=this[r+"-token"];this.state.output.append(o,l,!0),this[r+"-list"][n]=this.state.output.pop()}},i.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,r=this["publisher-list"].length;t<r;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},i.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},i.PublisherOutput.prototype._join=i.NameOutput.prototype._join,i.PublisherOutput.prototype._getToken=i.NameOutput.prototype._getToken,i.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},i.evaluateLabel=function(e,t,r,n){var s;e.strings.term==="locator"?(n&&n.label&&(n.label==="sub verbo"?s="sub-verbo":s=n.label),s||(s="page")):s=e.strings.term;var o=e.strings.plural;if(typeof o!="number"){var l=n&&e.strings.term==="locator"?n:r;l[e.strings.term]&&(t.processNumber(!1,l,e.strings.term,r.type),o=t.tmp.shadow_numbers[e.strings.term].plural,!t.tmp.shadow_numbers[e.strings.term].labelForm&&!t.tmp.shadow_numbers[e.strings.term].labelDecorations&&(e.strings.form?t.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:t.tmp.group_context.tip.label_form&&(t.tmp.shadow_numbers[e.strings.term].labelForm=t.tmp.group_context.tip.label_form),t.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,t.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&t.tmp.shadow_numbers[e.strings.term].label&&(s=t.tmp.shadow_numbers[e.strings.term].label),e.decorations&&t.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return i.castLabel(t,e,s,o,i.TOLERANT)},i.castLabel=function(e,t,r,n,s){var o=t.strings.form,l=t.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&(o==="static"?e.tmp.group_context.tip.label_static=!0:o=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(l=e.tmp.group_context.tip.label_capitalize_if_first);var f=e.getTerm(r,o,n,!1,s,t.default_locale);if(l&&(f=i.Output.Formatters["capitalize-first"](e,f)),e.tmp.strip_periods)f=f.replace(/\./g,"");else for(var m=0,p=t.decorations.length;m<p;m+=1)if(t.decorations[m][0]==="@strip-periods"&&t.decorations[m][1]==="true"){f=f.replace(/\./g,"");break}return f},i.Node.name={build:function(e,t){var r;if([i.SINGLETON,i.START].indexOf(this.tokentype)>-1){var n;typeof e.tmp.root>"u"?(n=void 0,e.tmp.root="citation"):n=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=i.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=i.POSITION),e.tmp.root=n,r=function(s){s.tmp.etal_term="et-al",s.tmp.name_delimiter=s.inheritOpt(this,"delimiter","name-delimiter",", "),s.tmp["delimiter-precedes-et-al"]=s.inheritOpt(this,"delimiter-precedes-et-al"),s.inheritOpt(this,"and")==="text"?this.and_term=s.getTerm("and","long",0):s.inheritOpt(this,"and")==="symbol"&&(s.opt.development_extensions.expect_and_symbol_form?this.and_term=s.getTerm("and","symbol",0):this.and_term="&"),s.tmp.and_term=this.and_term,i.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ",typeof s.tmp.name_delimiter=="string"&&(this.and_prefix_multiple=s.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),s.inheritOpt(this,"delimiter-precedes-last")==="always"?this.and_prefix_single=s.tmp.name_delimiter:s.inheritOpt(this,"delimiter-precedes-last")==="never"?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):s.inheritOpt(this,"delimiter-precedes-last")==="after-inverted-name"&&(this.and_prefix_single&&(this.and_prefix_single=s.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},s.inheritOpt(this,"and")?(s.output.append(this.and_term,"empty",!0),this.and.single=s.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,s.output.append(this.and_term,"empty",!0),this.and.multiple=s.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):s.tmp.name_delimiter&&(this.and.single=new i.Blob(s.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new i.Blob(s.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},s.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="â¦",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=s.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new i.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new i.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),typeof s.tmp["et-al-min"]>"u"&&(s.tmp["et-al-min"]=s.inheritOpt(this,"et-al-min")),typeof s.tmp["et-al-use-first"]>"u"&&(s.tmp["et-al-use-first"]=s.inheritOpt(this,"et-al-use-first")),typeof s.tmp["et-al-use-last"]>"u"&&(s.tmp["et-al-use-last"]=s.inheritOpt(this,"et-al-use-last")),s.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(r)}t.push(this)}},i.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},i.Node.names={build:function(e,t){var r;if((this.tokentype===i.START||this.tokentype===i.SINGLETON)&&(i.Util.substituteStart.call(this,e,t),e.build.substitute_level.push(1)),this.tokentype===i.SINGLETON){e.build.names_variables[e.build.names_variables.length-1].concat(this.variables);for(var n in this.variables){var s=this.variables[n],o=e.build.name_label[e.build.name_label.length-1];Object.keys(o).length&&(o[s]=o[Object.keys(o)[0]])}r=function(m){m.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(r)}if(this.tokentype===i.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),r=function(m){m.tmp.can_substitute.push(!0),m.tmp.name_node={},m.tmp.name_node.children=[],m.nameOutput.init(this)},this.execs.push(r)),this.tokentype===i.END){for(var n=0,l=3;n<l;n+=1){var f=["family","given","et-al"][n];this[f]=e.build[f],e.build.names_level===1&&(e.build[f]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),r=function(m){m.tmp.etal_node?this.etal_style=m.tmp.etal_node:this.etal_style="empty",this.etal_term=m.getTerm(m.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=m.tmp.name_delimiter,m.tmp["delimiter-precedes-et-al"]==="always"?this.etal_prefix_single=m.tmp.name_delimiter:m.tmp["delimiter-precedes-et-al"]==="never"?this.etal_prefix_multiple=" ":m.tmp["delimiter-precedes-et-al"]==="after-inverted-name"&&(this.etal_prefix_single=m.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",i.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(this.etal_prefix_single===" "&&(this.etal_prefix_single=""),this.etal_prefix_multiple===" "&&(this.etal_prefix_multiple=""),this.etal_suffix===" "&&(this.etal_suffix=""));for(var p=0,d=3;p<d;p+=1){var g=["family","given"][p];m.nameOutput[g]=this[g]}m.nameOutput.with=this.with;var h="with",_="",E="";i.STARTSWITH_ROMANESQUE_REGEXP.test(h)&&(_=" ",E=" ");var b={};b.single=new i.Blob(h),b.single.strings.suffix=E,b.multiple=new i.Blob(h),b.multiple.strings.suffix=E,m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="always"?(b.single.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter"),b.multiple.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter")):m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="contextual"?(b.single.strings.prefix=_,b.multiple.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter")):m.inheritOpt(m.nameOutput.name,"delimiter-precedes-last")==="after-inverted-name"?(b.single.strings.prefix=m.inheritOpt(this,"delimiter","names-delimiter"),b.multiple.strings.prefix=_):(b.single.strings.prefix=_,b.multiple.strings.prefix=_),m.nameOutput.with=b,m.nameOutput.label=this.label,m.nameOutput.etal_style=this.etal_style,m.nameOutput.etal_term=this.etal_term,m.nameOutput.etal_prefix_single=this.etal_prefix_single,m.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,m.nameOutput.etal_suffix=this.etal_suffix,m.nameOutput.outputNames(),m.tmp["et-al-use-first"]=void 0,m.tmp["et-al-min"]=void 0,m.tmp["et-al-use-last"]=void 0},this.execs.push(r),r=function(m){m.tmp.can_substitute.pop()||m.tmp.can_substitute.replace(!1,i.LITERAL),m.tmp.can_substitute.mystack.length===1&&(m.tmp.can_block_substitute=!1)},this.execs.push(r),e.build.name_flag=!1}t.push(this),(this.tokentype===i.END||this.tokentype===i.SINGLETON)&&(e.build.substitute_level.pop(),i.Util.substituteEnd.call(this,e,t))}},i.Node.number={build:function(e,t){var r;i.Util.substituteStart.call(this,e,t),this.strings.form==="roman"?this.formatter=e.fun.romanizer:this.strings.form==="ordinal"?this.formatter=e.fun.ordinalizer:this.strings.form==="long-ordinal"&&(this.formatter=e.fun.long_ordinalizer),typeof this.successor_prefix>"u"&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),typeof this.splice_prefix>"u"&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),r=function(n,s,o){if(this.variables.length!==0){var l;if(l=this.variables[0],typeof o>"u")var o={};if(["locator","locator-extra"].indexOf(l)>-1){if(n.tmp.just_looking||!o[l])return}else if(!s[l])return;l==="collection-number"&&s.type==="legal_case"&&(n.tmp.renders_collection_number=!0);var f=this;if(n.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(l)>-1?n.processNumber.call(n,f,o,l,s.type):(!n.tmp.group_context.tip.condition&&s[l]&&(n.tmp.just_did_number=(""+s[l]).match(/[0-9]$/)),n.processNumber.call(n,f,s,l,s.type)),this.substring){var m=s[l].slice(this.substring);n.output.append(m,f)}else i.Util.outputNumericField(n,l,s.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!n.tmp.just_looking&&(n.tmp.done_vars.push(this.variables_real[0]),n.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(r),t.push(this),i.Util.substituteEnd.call(this,e,t)}},i.Node.sort={build:function(e,t){if(t=e[e.build.root+"_sort"].tokens,this.tokentype===i.START){e.build.area==="citation"&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var r=function(n,s){if(n.opt.has_layout_locale){for(var o=i.localeResolve(s.language,n.opt["default-locale"][0]),l=n[n.tmp.area.slice(0,-5)].opt.sort_locales,f,m=0,p=l.length;m<p&&(f=l[m][o.bare],f||(f=l[m][o.best]),!f);m+=1);f||(f=n.opt["default-locale"][0]),n.tmp.lang_sort_hold=n.opt.lang,n.opt.lang=f}};this.execs.push(r)}if(this.tokentype===i.END){e.build.area=e.build.root,e.build.extension="";var r=function(s){s.opt.has_layout_locale&&(s.opt.lang=s.tmp.lang_sort_hold,delete s.tmp.lang_sort_hold)};this.execs.push(r)}t.push(this)}},i.Node.substitute={build:function(e,t){var r;if(this.tokentype===i.START){var n=new i.Token("choose",i.START);i.Node.choose.build.call(n,e,t);var s=new i.Token("if",i.SINGLETON);r=function(){return!!(e.tmp.value.length&&!e.tmp.common_term_match_fail)},s.tests=[r],s.test=e.fun.match.any(s,e,s.tests),t.push(s),r=function(l){l.tmp.can_block_substitute=!0,l.tmp.value.length&&!l.tmp.common_term_match_fail&&l.tmp.can_substitute.replace(!1,i.LITERAL),l.tmp.common_term_match_fail=!1},this.execs.push(r),t.push(this)}if(this.tokentype===i.END){t.push(this);var o=new i.Token("choose",i.END);i.Node.choose.build.call(o,e,t)}}},i.Node.text={build:function(e,t){var r,n,s,o,l,f,m,p,d,g,h;if(this.postponed_macro){var _=i.Util.cloneToken(this);_.name="group",_.tokentype=i.START,i.Node.group.build.call(_,e,t),i.expandMacro.call(e,this,t);var E=i.Util.cloneToken(this);E.name="group",E.tokentype=i.END,this.postponed_macro==="juris-locator-label"&&(E.isJurisLocatorLabel=!0),i.Node.group.build.call(E,e,t)}else{if(i.Util.substituteStart.call(this,e,t),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),n="long",s=0,this.strings.form&&(n=this.strings.form),this.strings.plural&&(s=this.strings.plural),this.variables_real[0]==="citation-number"||this.variables_real[0]==="year-suffix"||this.variables_real[0]==="citation-label")this.variables_real[0]==="citation-number"?(e.build.root==="citation"&&(e.opt.update_mode=i.NUMERIC),e.build.root==="bibliography"&&(e.opt.bib_mode=i.NUMERIC),e[e.tmp.area].opt.collapse==="citation-number"&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,r=function(w,T,q){if(o=""+T.id,!w.tmp.just_looking){if(w.tmp.area.slice(-5)==="_sort"&&this.variables[0]==="citation-number"){if(w.tmp.area==="bibliography_sort"&&w.tmp.group_context.tip.done_vars.push("citation-number"),w.tmp.area==="citation_sort"&&w.bibliography_sort.tmp.citation_number_map)var N=w.bibliography_sort.tmp.citation_number_map[w.registry.registry[T.id].seq];else var N=w.registry.registry[T.id].seq;N&&(N=i.Util.padding(""+N)),w.output.append(N,this);return}q&&q["author-only"]&&w.tmp.element_trace.replace("suppress-me"),w.tmp.area!=="bibliography_sort"&&w.bibliography_sort.tmp.citation_number_map&&w.bibliography_sort.opt.citation_number_sort_direction===i.DESCENDING?N=w.bibliography_sort.tmp.citation_number_map[w.registry.registry[o].seq]:N=w.registry.registry[o].seq,w.opt.citation_number_slug?w.output.append(w.opt.citation_number_slug,this):(f=new i.NumericBlob(w,!1,N,this,T.id),w.tmp.in_cite_predecessor&&(f.suppress_splice_prefix=!0),w.output.append(f,"literal"))}},this.execs.push(r)):this.variables_real[0]==="year-suffix"?(e.opt.has_year_suffix=!0,e[e.tmp.area].opt.collapse==="year-suffix-ranged"&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),r=function(w,T){if(w.registry.registry[T.id]&&w.registry.registry[T.id].disambig.year_suffix!==!1&&!w.tmp.just_looking){l=parseInt(w.registry.registry[T.id].disambig.year_suffix,10),w[w.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=w[w.tmp.area].opt.cite_group_delimiter),f=new i.NumericBlob(w,!1,l,this,T.id),m=new i.Util.Suffixator(i.SUFFIX_CHARS),f.setFormatter(m),w.output.append(f,"literal"),p=!1;for(var q=0,N=w.tmp.group_context.mystack.length;q<N;q++){var W=w.tmp.group_context.mystack[q];if(!W.variable_success&&(W.variable_attempt||!W.variable_attempt&&!W.term_intended)){p=!0;break}}d=w[w.tmp.area].opt["year-suffix-delimiter"],p&&d&&!w.tmp.sort_key_flag&&(w.tmp.splice_delimiter=w[w.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(r)):this.variables_real[0]==="citation-label"&&(e.build.root==="bibliography"&&(e.opt.bib_mode=i.TRIGRAPH),e.opt.has_year_suffix=!0,r=function(w,T){g=T["citation-label"],g||(g=w.getCitationLabel(T)),w.tmp.just_looking||(h="",w.registry.registry[T.id]&&w.registry.registry[T.id].disambig.year_suffix!==!1&&(l=parseInt(w.registry.registry[T.id].disambig.year_suffix,10),h=w.fun.suffixator.format(l)),g+=h),w.output.append(g,this)},this.execs.push(r));else if(this.strings.term)r=function(w,T){var q=w.opt.gender[T.type],N=this.strings.term;N=w.getTerm(N,n,s,q,i.TOLERANT,this.default_locale);var W;if(N!==""&&(w.tmp.group_context.tip.term_intended=!0),i.UPDATE_GROUP_CONTEXT_CONDITION(w,N,null,this),!w.tmp.term_predecessor&&!(w.opt.class==="in-text"&&w.tmp.area==="citation")?W=i.Output.Formatters["capitalize-first"](w,N):W=N,w.tmp.strip_periods)W=W.replace(/\./g,"");else for(var C=0,I=this.decorations.length;C<I;C+=1)if(this.decorations[C][0]==="@strip-periods"&&this.decorations[C][1]==="true"){W=W.replace(/\./g,"");break}w.output.append(W,this),w.tmp.can_block_substitute&&w.tmp.can_substitute.replace(!1,i.LITERAL)},this.execs.push(r),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(r=function(w,T){this.variables_real[0]!=="locator"&&(w.tmp.have_collapsed=!1),!w.tmp.group_context.tip.condition&&T[this.variables[0]]&&(w.tmp.just_did_number=!1);var q=T[this.variables[0]];q&&!w.tmp.group_context.tip.condition&&((""+q).slice(-1).match(/[0-9]/)?w.tmp.just_did_number=!0:w.tmp.just_did_number=!1)},this.execs.push(r),i.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var b=this.variables[0],S=!1,x=!1,O=!1;n==="short"?this.variables_real[0].slice(-6)!=="-short"&&(x=this.variables_real[0]+"-short"):b=!1,e.build.extension?O=!0:(O=!0,S=!0),r=e.transform.getOutputFunction(this.variables,b,S,x,O)}else i.CITE_FIELDS.indexOf(this.variables_real[0])>-1?r=function(w,T,q){q&&q[this.variables[0]]&&(w.processNumber(this,q,this.variables[0],T.type),i.Util.outputNumericField(w,this.variables[0],T.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!w.tmp.just_looking&&w.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?r=function(w,T){w.processNumber(this,T,this.variables[0],T.type),i.Util.outputNumericField(w,this.variables[0],T.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?r=function(w,T){var q;if(this.variables[0]&&(q=w.getVariable(T,this.variables[0],n),q))if(this.variables[0]==="URL"&&n==="short"&&(q=q.replace(/(.*\.[^\/]+)\/.*/,"$1"),q.match(/\/\/www\./)&&(q=q.replace(/https?:\/\//,""))),w.opt.development_extensions.wrap_url_and_doi)if(!this.decorations.length||this.decorations[0][0]!=="@"+this.variables[0]){var N=i.Util.cloneToken(this),W=new i.Blob(null,null,"url-wrapper");if(W.decorations.push(["@DOI","true"]),this.variables_real[0]==="DOI"){var C;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(q=q.replace(/^https?:\/\/doi\.org\//,""),q.match(/^https?:\/\//)?C="":C="https://doi.org/",N.strings.prefix=this.strings.prefix.slice(0,N.strings.prefix.length-16));var I=new i.Blob(C),z=new i.Blob(q);W.push(I),W.push(z),w.output.append(W,N,!1,!1,!0)}else{var z=new i.Blob(q);W.push(z),w.output.append(W,N,!1,!1,!0)}}else w.output.append(q,this,!1,!1,!0);else{if(this.decorations.length)for(var X=this.decorations.length-1;X>-1;X--)this.decorations[X][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,X).concat(this.decorations.slice(X+1)));w.output.append(q,this,!1,!1,!0)}}:this.variables_real[0]==="section"?r=function(w,T){var q;q=w.getVariable(T,this.variables[0],n),q&&w.output.append(q,this)}:this.variables_real[0]==="hereinafter"?r=function(w,T){var q=w.transform.abbrevs.default.hereinafter[T.id];q&&(w.output.append(q,this),w.tmp.group_context.tip.variable_success=!0)}:r=function(w,T){var q;this.variables[0]&&(q=w.getVariable(T,this.variables[0],n),q&&(q=""+q,q=q.split("\\").join(""),w.output.append(q,this)))};this.execs.push(r)}else this.strings.value&&(r=function(w){w.tmp.group_context.tip.term_intended=!0,i.UPDATE_GROUP_CONTEXT_CONDITION(w,this.strings.value,!0,this),w.output.append(this.strings.value,this),w.tmp.can_block_substitute&&w.tmp.can_substitute.replace(!1,i.LITERAL)},this.execs.push(r));t.push(this),i.Util.substituteEnd.call(this,e,t)}}},i.Node.intext={build:function(e,t){if(this.tokentype===i.START){e.build.area="intext",e.build.root="intext",e.build.extension="";var r=function(n,s){n.tmp.area="intext",n.tmp.root="intext",n.tmp.extension=""};this.execs.push(r)}this.tokentype===i.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),t.push(this)}},i.Attributes={},i.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),t==="true"){e.opt.has_disambiguate=!0;var r=function(n){if(e.tmp.area==="bibliography"){if(e.tmp.disambiguate_count<e.registry.registry[n.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(r)}else if(t==="check-ambiguity-and-backreference"){var r=function(s){return!!(e.registry.registry[s.id].disambig.disambiguate&&e.registry.registry[s.id]["citation-count"]>1)};this.tests.push(r)}},i.Attributes["@is-numeric"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(o){return function(l,f){var m=l;if(f&&["locator","locator-extra"].indexOf(o)>-1&&(m=f),!m[o])return!1;if(i.NUMERIC_VARIABLES.indexOf(o)>-1){if(e.tmp.shadow_numbers[o]||e.processNumber(!1,m,o,l.type),e.tmp.shadow_numbers[o].numeric)return!0}else if(["title","version"].indexOf(o)>-1&&m[o].slice(-1)===""+parseInt(m[o].slice(-1),10))return!0;return!1}},s=0;s<r.length;s+=1)this.tests.push(n(r[s]))},i.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){return!!(f[l]&&f[l].circa)}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);var r=t.replace("sub verbo","sub-verbo");r=r.split(/\s+/);for(var n=function(l){return function(f,m){var p;return e.processNumber(!1,m,"locator"),p=e.tmp.shadow_numbers.locator.label,!!(p&&l===p)}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@position"]=function(e,t){this.tests||(this.tests=[]);var r;e.opt.update_mode=i.POSITION;for(var n=t.split(/\s+/),s=function(p,d){return!!(d&&i.POSITION_MAP[d.position]>=i.POSITION_MAP[i.POSITION_SUBSEQUENT]&&d["near-note"])},o=function(p,d){return!!(d&&i.POSITION_MAP[d.position]==i.POSITION_MAP[i.POSITION_SUBSEQUENT]&&!d["near-note"])},l=function(p){return function(d,g){if(e.tmp.area==="bibliography")return!1;if(g&&typeof g.position>"u"&&(g.position=0),g&&typeof g.position=="number"){if(g.position===0&&p===0)return!0;if(p>0&&i.POSITION_MAP[g.position]>=i.POSITION_MAP[p])return!0}else if(p===0)return!0;return!1}},f=0,m=n.length;f<m;f+=1){var r=n[f];r==="first"?r=i.POSITION_FIRST:r==="container-subsequent"?r=i.POSITION_CONTAINER_SUBSEQUENT:r==="subsequent"?r=i.POSITION_SUBSEQUENT:r==="ibid"?r=i.POSITION_IBID:r==="ibid-with-locator"&&(r=i.POSITION_IBID_WITH_LOCATOR),r==="near-note"?this.tests.push(s):r==="far-note"?this.tests.push(o):this.tests.push(l(r))}},i.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(f){return function(m){var p=m.type===f;return!!p}},s=[],o=0,l=r.length;o<l;o+=1)s.push(n(r[o]));this.tests.push(e.fun.match.any(this,e,s))},i.Attributes["@variable"]=function(e,t){this.tests||(this.tests=[]);var r;if(this.variables=t.split(/\s+/),this.variables_real=this.variables.slice(),this.name==="label"&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)r=function(l,f,m){for(var p=this.variables.length-1;p>-1;p+=-1)this.variables.pop();for(var p=0,d=this.variables_real.length;p<d;p++)l.tmp.done_vars.indexOf(this.variables_real[p])===-1&&this.variables.push(this.variables_real[p]),l.tmp.can_block_substitute&&l.tmp.done_vars.push(this.variables_real[p])},this.execs.push(r),r=function(l,f,m){for(var p=!1,d=0,g=this.variables.length;d<g;d++){var h=this.variables[d];if(["authority","committee"].indexOf(h)>-1&&typeof f[h]=="string"&&this.name==="names"){var _=!0,E=f[h].split(/\s*;\s*/),b={};if(f.multi&&f.multi._keys[h]){for(var S in f.multi._keys[h])if(b[S]=f.multi._keys[h][S].split(/\s*;\s*/),b[S].length!==E.length){_=!1;break}}_||(E=[f[h]],b=f.multi._keys[h]);for(var x=0,O=E.length;x<O;x++){var w={literal:E[x],multi:{_key:{}}};for(var S in b){var T={literal:b[S][x]};w.multi._key[S]=T}E[x]=w}f[h]=E}if(this.strings.form==="short"&&!f[h]&&(h==="title"?h="title-short":h==="container-title"&&(h="container-title-short")),h==="year-suffix"){p=!0;break}else if(i.DATE_VARIABLES.indexOf(h)>-1){if(l.opt.development_extensions.locator_date_and_revision&&h==="locator-date"){p=!0;break}if(f[h]){for(var q in f[h])if(!(this.dateparts.indexOf(q)===-1&&q!=="literal")&&f[h][q]){p=!0;break}if(p)break}}else if(h==="locator"){m&&m.locator&&(p=!0);break}else if(h==="locator-extra"){m&&m["locator-extra"]&&(p=!0);break}else if(["citation-number","citation-label"].indexOf(h)>-1){p=!0;break}else if(h==="first-reference-note-number"){m&&m["first-reference-note-number"]&&(p=!0);break}else if(h==="first-container-reference-note-number"){m&&m["first-container-reference-note-number"]&&(p=!0);break}else if(h==="hereinafter"){l.transform.abbrevs.default.hereinafter[f.id]&&l.sys.getAbbreviation&&f.id&&(p=!0);break}else{if(typeof f[h]=="object")break;if(typeof f[h]=="string"&&f[h]){p=!0;break}else if(typeof f[h]=="number"){p=!0;break}}if(p)break}if(p){for(var d=0,g=this.variables_real.length;d<g;d++){var h=this.variables_real[d];(h!=="citation-number"||l.tmp.area!=="bibliography")&&(l.tmp.cite_renders_content=!0),l.tmp.group_context.tip.variable_success=!0,l.tmp.can_substitute.value()&&l.tmp.area==="bibliography"&&typeof f[h]=="string"&&(l.tmp.name_node.top=l.output.current.value(),l.tmp.rendered_name.push(f[h]))}l.tmp.can_substitute.replace(!1,i.LITERAL)}else l.tmp.group_context.tip.variable_attempt=!0},this.execs.push(r);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var n=function(l){return function(f,m){var p=f;if(m&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(l)>-1&&(p=m),l==="hereinafter"&&e.sys.getAbbreviation&&p.id){if(e.transform.abbrevs.default.hereinafter[p.id])return!0}else if(p[l]){if(typeof p[l]=="number"||typeof p[l]=="string")return!0;if(typeof p[l]=="object"){for(var d in p[l])if(p[l][d])return!0}}return!1}},s=0,o=this.variables.length;s<o;s+=1)this.tests.push(n(this.variables[s]))},i.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);var r=t.replace("sub verbo","sub-verbo");r=r.split(/\s+/);for(var n=function(l){return function(f){var m;return e.processNumber(!1,f,"page",f.type),e.tmp.shadow_numbers.page.label?e.tmp.shadow_numbers.page.label==="sub verbo"?m="sub-verbo":m=e.tmp.shadow_numbers.page.label:m="page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),l===m}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){var m;return e.processNumber(!1,f,"number",f.type),e.tmp.shadow_numbers.number.label?m=e.tmp.shadow_numbers.number.label:m="number",l===m}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var r=t.split(/\s+/),n=function(s){return function(o){if(!o.jurisdiction)return!1;for(var l=o.jurisdiction,f=0,m=s.length;f<m;f++)if(l===s[f])return!0;return!1}};this.tests.push(n(r))},i.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var r=t.split(/\s+/),n=function(s){return function(o){if(!o.country)return!1;for(var l=o.country,f=0,m=s.length;f<m;f++)if(l===s[f])return!0;return!1}};this.tests.push(n(r))},i.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);var r=function(){if(["bibliography","citation"].indexOf(t)>-1){var n=e.tmp.area.slice(0,t.length);return n===t}else if(t==="alternative")return!!e.tmp.abort_alternative};this.tests.push(r)},i.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){var m=f[l];return!(!m||m.month||m.season)}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){var m=f[l];return!(!m||!m.month&&!m.season||m.day)}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){var m=f[l];return!(!m||!m.day)}},s=0,o=r.length;s<o;s+=1)this.tests.push(n(r[s]))},i.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);var r=function(n){var s=n[t];if(s&&s.length){for(var o=0,l=0,f=!1,m=0,p=s.length;m<p;m+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(s[m].literal||s[m].isInstitution&&s[m].family&&!s[m].given)?(l+=1,f=!1):(o+=1,f=!0);if(o>1)return!0;if(l>1)return!0;if(l&&f)return!0}return!1};this.tests.push(r)},i.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);var r=function(n){var s=""+n[t],o=s.split(/(?:,\s|\s(?:tot\sen\smet|lÄ«dz|oraz|and|bis|Î­ÏÏ|ÎºÎ±Î¹|och|aÅ¾|do|en|et|in|ir|ja|og|sa|to|un|und|Ã©s|Èi|i|u|y|Ã |e|a|Ð¸|-|â)\s|â|\&)/);return o.length>1};this.tests.push(r)},i.Attributes["@locale"]=function(e,t){this.tests||(this.tests=[]);var r,n,s,o,l,f=e.opt["default-locale"][0];if(this.name==="layout"){if(this.locale_raw=t,this.tokentype===i.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var m=[],p=t.split(/\s+/),d={},g=i.localeResolve(p[0],f);m.push(g),g.generic?d[g.generic]=g.best:d[g.best]=g.best;for(var o=1,l=p.length;o<l;o+=1){var h=i.localeResolve(p[o],f);m.push(h),h.generic?d[h.generic]=g.best:d[h.best]=g.best}e[e.build.area].opt.sort_locales.push(d),e.opt.multi_layout.push(m)}e.opt.has_layout_locale=!0}else{s=t.split(/\s+/);var _=[];for(o=0,l=s.length;o<l;o+=1)n=s[o],r=i.localeResolve(n,f),s[o].length===2&&_.push(r.bare),e.localeConfigure(r,!0),s[o]=r;var E=s.slice(),b=function(S,x,O){return function(w){var T;T=!1;var q=!1,N;for(w.language?N=w.language:N=x,q=i.localeResolve(N,x),o=0,l=S.length;o<l;o+=1)if(q.best===S[o].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=S[0].best,T=!0;break}return!T&&O.indexOf(q.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=S[0].best,T=!0),T}};this.tests.push(b(E,f,_))}},i.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);var t=function(){return function(){return!e.tmp.abort_alternative}};this.tests.push(t())},i.Attributes["@locale-internal"]=function(e,t){this.tests||(this.tests=[]);var r,n,s,o,l;for(s=t.split(/\s+/),this.locale_bares=[],o=0,l=s.length;o<l;o+=1)n=s[o],r=i.localeResolve(n,e.opt["default-locale"][0]),s[o].length===2&&this.locale_bares.push(r.bare),e.localeConfigure(r),s[o]=r;this.locale_default=e.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();var f=function(p){return function(d){var g;g=!1;var h=!1;if(d.language&&(n=d.language,h=i.localeResolve(n,e.opt["default-locale"][0]),h.best===e.opt["default-locale"][0]&&(h=!1)),h){for(o=0,l=p.locale_list.length;o<l;o+=1)if(h.best===p.locale_list[o].best){e.opt.lang=p.locale,e.tmp.last_cite_locale=p.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=p.locale,g=!0;break}!g&&p.locale_bares.indexOf(h.bare)>-1&&(e.opt.lang=p.locale,e.tmp.last_cite_locale=p.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=p.locale,g=!0)}return g}},m=this;this.tests.push(f(m))},i.Attributes["@court-class"]=function(e,t){this.tests||(this.tests=[]);for(var r=t.split(/\s+/),n=function(l){return function(f){var m=i.GET_COURT_CLASS(e,f);return m===l}},s=0,o=r.length;s<o;s++)this.tests.push(n(r[s]))},i.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var r=t==="true",n=function(s){return function(o){if(e.tmp.container_item_count[o.container_id]){if(e.tmp.container_item_count[o.container_id]>1)return s}else return!s;return!s}};this.tests.push(n(r))},i.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var r=t==="true",n=function(s){return function(o){return e.tmp.container_item_pos[o.container_id]>1?s:!s}};this.tests.push(n(r))},i.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var r=function(n){return function(s){var o=0;for(var l in s[n]){var f=s[n][l];if(!f.given){var m=f.literal?f.literal:f.family,p=m.split("|").length;(o===0||p<o)&&(o=p)}}return o>1}};this.tests.push(r(t))},i.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var r=function(n){return function(s){return s["cite-form"]===n}};this.tests.push(r(t))},i.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},i.Attributes["@consolidate-containers"]=function(e,t){i.Attributes["@track-containers"](e,t);var r=t.split(/\s+/);e.bibliography.opt.consolidate_containers=r},i.Attributes["@track-containers"]=function(e,t){var r=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(r)},i.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={};for(var n in r){var s=r[n];this.parallel_first[s]=!0,e.opt.track_repeat[s]=!0}},i.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={};for(var n in r){var s=r[n];this.parallel_last[s]=!0,e.opt.track_repeat[s]=!0}},i.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);this.parallel_last_to_first={};for(var n=0,s=r.length;n<s;n++)this.parallel_last_to_first[r[n]]=!0},i.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},i.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},i.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var r=t.split(/\s+/);e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={};for(var n in r){var s=r[n];this.non_parallel[s]=!0,e.opt.track_repeat[s]=!0}},i.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},i.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},i.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},i.Attributes["@gender"]=function(e,t){this.gender=t},i.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},i.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},i.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},i.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},i.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},i.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},i.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},i.Attributes["@class"]=function(e,t){e.opt.class=t},i.Attributes["@version"]=function(e,t){e.opt.version=t},i.Attributes["@value"]=function(e,t){this.strings.value=t},i.Attributes["@name"]=function(e,t){this.strings.name=t},i.Attributes["@form"]=function(e,t){this.strings.form=t},i.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},i.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},i.Attributes["@macro"]=function(e,t){this.postponed_macro=t},i.Attributes["@term"]=function(e,t){t==="sub verbo"?this.strings.term="sub-verbo":this.strings.term=t},i.Attributes["@xmlns"]=function(){},i.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},i.Attributes["@lingo"]=function(){},i.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},i.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},i.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},i.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},i.Attributes["@match"]=function(e,t){this.match=t},i.Attributes["@names-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),this.strings["et-al-min"]=r},i.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},i.Attributes["@names-use-last"]=function(e,t){t==="true"?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1},i.Attributes["@sort"]=function(e,t){t==="descending"&&(this.strings.sort_direction=i.DESCENDING)},i.Attributes["@plural"]=function(e,t){t==="always"||t==="true"?this.strings.plural=1:t==="never"||t==="false"?this.strings.plural=0:t==="contextual"&&(this.strings.plural=!1)},i.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},i.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},i.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},i.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},i.Attributes["@givenname-disambiguation-rule"]=function(e,t){i.GIVENNAME_DISAMBIGUATION_RULES.indexOf(t)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=t)},i.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},i.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},i.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},i.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},i.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},i.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},i.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},i.Attributes["@et-al-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),e.setOpt(this,"et-al-min",r)},i.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},i.Attributes["@et-al-use-last"]=function(e,t){t==="true"?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},i.Attributes["@et-al-subsequent-min"]=function(e,t){var r=parseInt(t,10);e[e.build.area].opt.max_number_of_names<r&&(e[e.build.area].opt.max_number_of_names=r),e.setOpt(this,"et-al-subsequent-min",r)},i.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},i.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},i.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},i.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},i.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},i.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},i.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},i.Attributes["@initialize"]=function(e,t){t==="false"&&e.setOpt(this,"initialize",!1)},i.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},i.Attributes["@name-as-sort-order"]=function(e,t){this.name==="style-options"?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},i.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},i.Attributes["@require-match"]=function(e,t){t==="true"&&(this.requireMatch=!0)},i.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},i.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},i.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},i.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},i.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},i.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},i.Attributes["@disambiguate-add-names"]=function(e,t){t==="true"&&(e.opt["disambiguate-add-names"]=!0)},i.Attributes["@disambiguate-add-givenname"]=function(e,t){t==="true"&&(e.opt["disambiguate-add-givenname"]=!0)},i.Attributes["@disambiguate-add-year-suffix"]=function(e,t){t==="true"&&e.opt.xclass!=="numeric"&&(e.opt["disambiguate-add-year-suffix"]=!0)},i.Attributes["@second-field-align"]=function(e,t){(t==="flush"||t==="margin")&&(e[this.name].opt["second-field-align"]=t)},i.Attributes["@hanging-indent"]=function(e,t){t==="true"&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},i.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},i.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},i.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},i.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},i.Attributes["@text-case"]=function(e,t){var r=function(n,s){t==="normal"?this.text_case_normal=!0:(this.strings["text-case"]=t,t==="title"&&s.jurisdiction&&(this.strings["text-case"]="passthrough"))};this.execs.push(r)},i.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},i.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},i.Attributes["@default-locale"]=function(e,t){if(this.name==="style"){var r,n,s,l,o,l=t.match(/-x-(sort|translit|translat)-/g);if(l)for(s=0,n=l.length;s<n;s+=1)l[s]=l[s].replace(/^-x-/,"").replace(/-$/,"");for(r=t.split(/-x-(?:sort|translit|translat)-/),o=[r[0]],s=1,n=r.length;s<n;s+=1)o.push(l[s-1]),o.push(r[s]);for(r=o.slice(),n=r.length,s=1;s<n;s+=2)e.opt["locale-"+r[s]].push(r[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));r.length?e.opt["default-locale"]=r.slice(0,1):e.opt["default-locale"]=["en"]}else t==="true"&&(this.default_locale=!0)},i.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},i.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},i.Attributes["@initialize-with-hyphen"]=function(e,t){t==="false"&&(e.opt["initialize-with-hyphen"]=!1)},i.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},i.Attributes["@if-short"]=function(e,t){t==="true"&&(this.strings["if-short"]=!0)},i.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},i.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},i.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},i.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},i.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=parseInt(t,10)*-1},i.Attributes["@reverse-order"]=function(e,t){t==="true"&&(this.strings["reverse-order"]=!0)},i.Attributes["@display"]=function(e,t){e.bibliography.tokens.length===2&&(e.opt.using_display=!0),this.strings.cls=t},i.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},i.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},i.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},i.Stack.prototype.replace=function(e,t){this.mystack.length===0&&i.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),t||e?this.mystack[this.mystack.length-1]=e:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]},i.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},i.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},i.Stack.prototype.length=function(){return this.mystack.length},i.Parallel=function(e){this.state=e},i.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var r=0,n=!1,s=[],o=0,l=e.length-1;o<l;o++){var f=e[o][0],m=e[o+1][0],p=!1,d={};if(e[o][0].seeAlso&&e[o][0].seeAlso.length>0&&!n){p=!0,n=[e[o][0].id].concat(e[o][0].seeAlso);var g=n.slice(),h=e.slice(o);h[0][1].parallel="first";for(var _=0,E=h.length;_<E;_++){var b=h[_][0].id,S=g.indexOf(b);if(r=!1,S===-1?r=o+_-1:o+_===e.length-1&&(r=o+_),r){s.push([o,r]);break}else g=g.slice(0,S).concat(g.slice(S+1))}}o>0&&p&&(this.state.tmp.suppress_repeats[o-1].START=!0,p=!1);for(var x in this.state.opt.track_repeat)if(!f[x]||!m[x])d[x]=!1;else if(typeof m[x]=="string"||typeof m[x]=="number"){if(x==="title"&&f["title-short"]&&m["title-short"])var O=f["title-short"],w=m["title-short"];else var O=f[x],w=m[x];O==w?d[x]=!0:d[x]=!1}else if(typeof f[x].length>"u"){d[x]=!1;var T=f[x].year,q=m[x].year;T&&q&&T==q&&(d[x]=!0)}else{var O=JSON.stringify(f[x]),w=JSON.stringify(m[x]);O===w?d[x]=!0:d[x]=!1}n||(d.ORPHAN=!0),r===o&&(d.END=!0,n=!1),this.state.tmp.suppress_repeats.push(d)}for(var _=0,E=s.length;_<E;_++){var N=e[s[_][0]][0].id;this.state.registry.registry[N].master=!0,this.state.registry.registry[N].siblings=[];for(var W=s[_][0],C=s[_][1],I=W;I<C;I++){this.state.tmp.suppress_repeats[I].SIBLING=!0;var z=e[I+1][0].id;e[I+1][1].parallel="other",this.state.registry.registry[N].siblings.push(z)}}}},i.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var r=[{}].concat(this.state.tmp.suppress_repeats),n=!0;for(var s in e.parallel_first)(!r[t][s]||r[t].START)&&(n=!1);return n}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){var r=this.state.tmp.suppress_repeats.concat([{}]),n=Object.keys(e.parallel_last).length>0;for(var s in e.parallel_last)(!r[t][s]||r[t].END)&&(n=!1);return n}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){var r=[{}].concat(this.state.tmp.suppress_repeats),n=!0;for(var s in e.non_parallel)r[t][s]||(n=!1);return n}}return!1},i.Util={},i.Util.Match=function(){this.any=function(e,t,r){return function(n,s){for(var o=0,l=r.length;o<l;o+=1){var f=r[o](n,s);if(f)return!0}return!1}},this.none=function(e,t,r){return function(n,s){for(var o=0,l=r.length;o<l;o+=1){var f=r[o](n,s);if(f)return!1}return!0}},this.all=function(e,t,r){return function(n,s){for(var o=0,l=r.length;o<l;o+=1){var f=r[o](n,s);if(!f)return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,r){return function(n,s){for(var o=0,l=r.length;o<l;o+=1){var f=r[o](n,s);if(!f)return!0}return!1}}},i.Transform=function(e){this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments;function t(d,g,h){var _="";return e.sys.getHumanForm&&(d==="country"?(_=e.sys.getHumanForm(g.toLowerCase(),!1,!0),_=_.split("|")[0]):d==="jurisdiction"&&(_=e.sys.getHumanForm(g.toLowerCase(),!1,!0),h?_="":_=_.split("|").slice(1).join(", "))),_}function r(d,g,h,_,E,b,S){var x="",O=i.FIELD_CATEGORY_REMAP[b],w;if(!O)return E;var T=b,q=E;d.sys.normalizeAbbrevsKey&&(q=d.sys.normalizeAbbrevsKey(b,E));var N=!1;if(T==="jurisdiction"&&q&&(N=q.indexOf(":")===-1),["jurisdiction","country"].indexOf(b)>-1&&E===E.toLowerCase()&&(q=E.toUpperCase()),d.sys.getAbbreviation){["jurisdiction","country","language-name","language-name-original"].indexOf(T)>-1?w="default":h.jurisdiction?w=h.jurisdiction:w="default";var W=d.transform.loadAbbreviation(w,O,q,h.language);if(d.transform.abbrevs[W][O]&&q){var C=d.transform.abbrevs[W][O][q];g.strings.form==="short"&&C?N?x="":x=C:x=t(T,q,N)}}return!x&&(!d.opt.development_extensions.require_explicit_legal_case_title_short||h.type!=="legal_case")&&_&&h[_]&&S&&(x=h[_]),!x&&!d.sys.getAbbreviation&&d.sys.getHumanForm&&(x=t(T,q,N)),!x&&!N&&(!d.sys.getHumanForm||T!=="jurisdiction")&&(x=E),d.opt.development_extensions.force_title_abbrev_fallback&&T==="title"&&x===E&&h["title-short"]&&(x=h["title-short"]),x}function n(d,g){var h=e.opt["default-locale"][0].slice(0,2),_;if(e.opt.development_extensions.strict_text_case_locales?_=new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):_=new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),d.language){var E=(""+d.language).match(_);E?h=E[1]:h="tlh"}return d.multi&&d.multi&&d.multi.main&&d.multi.main[g]&&(h=d.multi.main[g]),(!e.opt.development_extensions.strict_text_case_locales||e.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(h=h.toLowerCase()),h}function s(d,g,h,_,E,b){var S,x,O,w,T=E,q=!1;if(!d[g])return{name:"",usedOrig:E,token:i.Util.cloneToken(this)};var N=!1;i.VARIABLES_WITH_SHORT_FORM.indexOf(g)>-1&&b&&(g=g+"-short",N=!0);var W=!1,C=null,I=[];g.slice(-6)==="-short"?(I.push(g),I.push(g.slice(0,-6))):I.push(g);for(var z=0,X=I.length;z<X;z++){var ee=!1,g=I[z];O={name:"",usedOrig:E,locale:n(d,g)},w=e.opt[h]?e.opt[h].slice():[];var Y=!1;if(h==="locale-orig"?(E||(O.name=d[g],O.usedOrig=!1),Y=!0,q=!0):_&&(typeof w>"u"||w.length===0)&&(O.name=d[g],O.usedOrig=!0,Y=!0,q=!0),!Y){for(var K=0,se=w.length;K<se;K+=1)if(S=w[K],x=S.split(/[\-_]/)[0],S&&d.multi&&d.multi._keys[g]&&d.multi._keys[g][S]){O.name=d.multi._keys[g][S],O.locale=S,Y=!0,ee=!0,q=!1;break}else if(x&&d.multi&&d.multi._keys[g]&&d.multi._keys[g][x]){O.name=d.multi._keys[g][x],O.locale=x,Y=!0,ee=!0,q=!1;break}!O.name&&_&&(O={name:d[g],usedOrig:!0,locale:n(d,g)},q=!0)}if(O.token=i.Util.cloneToken(this),z===0?(ee&&(O.found_variant_ok=!0),C=O,!N&&(typeof w>"u"||w.length===0)&&(W=!0),ee&&(W=!0)):!N&&!ee&&C?(O=C,g=I[0]):ee&&(O.found_variant_ok=!0),["title","container-title"].indexOf(g)>-1&&!T&&(!O.token.strings["text-case"]||O.token.strings["text-case"]==="sentence"||O.token.strings["text-case"]==="normal")){e.opt.lang;var F;q?F=!1:F=O.locale;var G=g.slice(0,-5),V=O.token.strings["text-case"]==="sentence";O.name=i.titlecaseSentenceOrNormal(e,d,G,F,V),delete O.token.strings["text-case"]}if(W)break}return O}this.getTextSubField=s;function o(d,g,h,_){d||(d="default");var E=d.split(":")[0],b=i.getAbbrevsDomain(e,E,_);return b&&(d+="@"+b),h?(e.sys.getAbbreviation&&(d=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,d,g,h),d||(d="default",b&&(d+="@"+b))),d):(e.transform.abbrevs[d]||(e.transform.abbrevs[d]=new e.sys.AbbreviationSegments),e.transform.abbrevs[d][g]||(e.transform.abbrevs[d][g]={}),d)}this.loadAbbreviation=o;function l(d,g,h,_){var E=d.variables[0];if(e.publisherOutput&&h){if(["publisher","publisher-place"].indexOf(E)===-1)return!1;e.publisherOutput[E+"-token"]=d,e.publisherOutput.varlist.push(E);var b=h.split(/;\s*/);b.length===e.publisherOutput[E+"-list"].length&&(e.publisherOutput[E+"-list"]=b);for(var S=0,x=b.length;S<x;S+=1)b[S]=r(e,d,g,!1,b[S],_,!0);return e.tmp[E+"-token"]=d,!0}return!1}function f(d,g){var h=g.match(/^#([0-9]+).*>>>/);h&&h[1]&&(d["cite-form"]=h[1])}function m(d,g){var h=g.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(h&&(g=g.slice(h[0].length),h[1]))for(var _=h[1].split(","),E=0,b=_.length;E<b;E+=1){var S=_[E],x=S.match(/^([-_a-z]+)(?:\:(.*))*$/),O=x[1],w=e.tmp.abbrev_trimmer;x[2]?w&&d&&(w[d]||(w[d]={}),w[d][O]=x[2]):e.tmp.done_vars.indexOf(O)===-1&&(w&&d&&(w.QUASHES[d]||(w.QUASHES[d]={}),w.QUASHES[d][O]=!0),e.tmp.done_vars.push(O))}return g}this.quashCheck=m;function p(d,g,h,_){var E,b=i.LangPrefsMap[d[0]];return b?E=e.opt["cite-lang-prefs"][b]:E=!1,function(S,x,O){var w,T,q,N,W,C,se;if(!d[0]||!x[d[0]]&&!x[_]||!S.tmp.just_looking&&O&&O["suppress-author"]&&!S.tmp.probably_rendered_something&&S.tmp.can_substitute.length()>1)return null;var I={primary:!1,secondary:!1,tertiary:!1};if(S.tmp.area.slice(-5)==="_sort")I.primary="locale-sort";else if(E&&E.length===1&&E[0]==="locale-orig")I.primary="locale-orig",E=!1;else if(E&&!S.tmp.multi_layout)for(var z=["primary","secondary","tertiary"],X=0,ee=z.length;X<ee&&!(E.length-1<X);X+=1)E[X]&&(I[z[X]]="locale-"+E[X]);else I.primary="locale-orig";if((d[0]==="title-short"||S.tmp.area!=="bibliography"&&!(S.tmp.area==="citation"&&S.opt.xclass==="note"&&O&&!O.position))&&(I.secondary=!1,I.tertiary=!1),S.tmp.multi_layout&&(I.secondary=!1,I.tertiary=!1),S.tmp["publisher-list"])return d[0]==="publisher"?S.tmp["publisher-token"]=this:d[0]==="publisher-place"&&(S.tmp["publisher-place-token"]=this),null;var Y=S.tmp.lang_array.slice(),K=s.call(this,x,d[0],I.primary,!0,null,g);w=K.name,T=K.locale;var se=K.token,F=K.usedOrig;if(g&&!K.found_variant_ok&&(w=r(S,se,x,_,w,g,!0),w&&(f(x,w),S.tmp.just_looking||(w=m(x.jurisdiction,w)))),l(this,x,w,g))return S.tmp.lang_array=Y,null;q=!1,W=!1;var G,V;I.secondary&&(K=s.call(this,x,d[0],I.secondary,!1,K.usedOrig,null,g),q=K.name,N=K.locale,G=K.token,g&&!K.found_variant_ok&&q&&(q=r(S,G,x,!1,q,g,!0))),I.tertiary&&(K=s.call(this,x,d[0],I.tertiary,!1,K.usedOrig,null,g),W=K.name,C=K.locale,V=K.token,g&&!K.found_variant_ok&&W&&(W=r(S,V,x,!1,W,g,!0)));var me;if(I.primary==="locale-translit"&&(me=S.opt.citeAffixes[b][I.primary].prefix),me==="<i>"&&d[0]==="title"&&!F){for(var ue=!1,X=0,ee=se.decorations.length;X<ee;X+=1)se.decorations[X][0]==="@font-style"&&se.decorations[X][1]==="italic"&&(ue=!0);ue||se.decorations.push(["@font-style","italic"])}if(T!=="en"&&se.strings["text-case"]==="title"&&(se.strings["text-case"]="passthrough"),d[0]==="title"&&(w=i.demoteNoiseWords(S,w,this["leading-noise-words"])),q||W){if(S.output.openLevel("empty"),se.strings.suffix=se.strings.suffix.replace(/[ .,]+$/,""),T&&(S.tmp.lang_array=[T].concat(Y)),i.UPDATE_GROUP_CONTEXT_CONDITION(S,null,null,se,se.strings.prefix+w),S.output.append(w,se),S.tmp.probably_rendered_something=!0,w===q&&(q=!1),q){G.strings.prefix=S.opt.citeAffixes[b][I.secondary].prefix,G.strings.suffix=S.opt.citeAffixes[b][I.secondary].suffix,G.strings.prefix||(G.strings.prefix=" ");for(var X=G.decorations.length-1;X>-1;X+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(G.decorations[X].join("/"))>-1&&(G.decorations=G.decorations.slice(0,X).concat(G.decorations.slice(X+1)));N!=="en"&&G.strings["text-case"]==="title"&&(G.strings["text-case"]="passthrough"),N&&(S.tmp.lang_array=[N].concat(Y));var M=new i.Token;M.decorations.push(["@font-style","normal"]),M.decorations.push(["@font-weight","normal"]),S.output.openLevel(M),S.output.append(q,G),S.output.closeLevel(),S.output.current.value(),S.output.current.value().blobs.length-1}if(w===W&&(W=!1),W){V.strings.prefix=S.opt.citeAffixes[b][I.tertiary].prefix,V.strings.suffix=S.opt.citeAffixes[b][I.tertiary].suffix,V.strings.prefix||(V.strings.prefix=" ");for(var X=V.decorations.length-1;X>-1;X+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(V.decorations[X].join("/"))>-1&&(V.decorations=V.decorations.slice(0,X).concat(V.decorations.slice(X+1)));C!=="en"&&V.strings["text-case"]==="title"&&(V.strings["text-case"]="passthrough"),C&&(S.tmp.lang_array=[C].concat(Y));var te=new i.Token;te.decorations.push(["@font-style","normal"]),te.decorations.push(["@font-weight","normal"]),S.output.openLevel(te),S.output.append(W,V),S.output.closeLevel(),S.output.current.value(),S.output.current.value().blobs.length-1}S.output.closeLevel()}else T&&(S.tmp.lang_array=[T].concat(Y)),i.UPDATE_GROUP_CONTEXT_CONDITION(S,null,null,se,se.strings.prefix+w),S.output.append(w,se),S.tmp.probably_rendered_something=!0;return S.tmp.lang_array=Y,S.tmp.can_block_substitute&&S.tmp.name_node.children.push(S.output.current.value()),null}}this.getOutputFunction=p},i.Token=function(e,t,r){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},i.Util.cloneToken=function(e){var t,r,n,s;if(typeof e=="string")return e;t=new i.Token(e.name,e.tokentype);for(var r in e.strings)e.strings.hasOwnProperty(r)&&(t.strings[r]=e.strings[r]);if(e.decorations)for(t.decorations=[],n=0,s=e.decorations.length;n<s;n+=1)t.decorations.push(e.decorations[n].slice());return e.variables&&(t.variables=e.variables.slice()),e.execs&&(t.execs=e.execs.slice(),e.tests&&(t.tests=e.tests.slice())),t},i.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},i.Blob=function(e,t,r){var n,s,o;if(this.levelname=r,t){this.strings={prefix:"",suffix:""};for(var o in t.strings)t.strings.hasOwnProperty(o)&&(this.strings[o]=t.strings[o]);for(this.decorations=[],t.decorations===void 0?n=0:n=t.decorations.length,s=0;s<n;s+=1)this.decorations.push(t.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];typeof e=="string"?this.blobs=e:e?this.blobs=[e]:this.blobs=[],this.alldecor=[this.decorations]},i.Blob.prototype.push=function(e){typeof this.blobs=="string"?i.error("Attempt to push blob onto string object"):e!==!1&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},i.NumericBlob=function(e,t,r,n,s){if(this.id=s,this.alldecor=[],this.num=r,this.particle=t,this.blobs=r.toString(),this.status=i.START,this.strings={},n){if(n.strings["text-case"]){var o=n.strings["text-case"];this.particle=i.Output.Formatters[o](e,this.particle),this.blobs=i.Output.Formatters[o](e,this.blobs)}this.gender=n.gender,this.decorations=n.decorations,this.strings.prefix=n.strings.prefix,this.strings.suffix=n.strings.suffix,this.strings["text-case"]=n.strings["text-case"],this.successor_prefix=n.successor_prefix,this.range_prefix=n.range_prefix,this.splice_prefix=n.splice_prefix,this.formatter=n.formatter,this.formatter||(this.formatter=new i.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new i.Output.DefaultFormatter},i.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},i.Output.DefaultFormatter=function(){},i.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},i.NumericBlob.prototype.checkNext=function(e,t){t?(this.status=i.START,typeof e=="object"&&(e.num===this.num+1?e.status=i.SUCCESSOR:e.status=i.SEEN)):!e||!e.num||this.type!==e.type||e.num!==this.num+1?(this.status===i.SUCCESSOR_OF_SUCCESSOR&&(this.status=i.END),typeof e=="object"&&(e.status=i.SEEN)):this.status===i.START||this.status===i.SEEN?e.status=i.SUCCESSOR:(this.status===i.SUCCESSOR||this.status===i.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(e.status=i.SUCCESSOR_OF_SUCCESSOR,this.status=i.SUPPRESS):e.status=i.SUCCESSOR)},i.NumericBlob.prototype.checkLast=function(e){return this.status===i.SEEN||e.num!==this.num-1&&this.status===i.SUCCESSOR?(this.status=i.SUCCESSOR,!0):!1},i.Util.fixDateNode=function(e,t,r){var n,s,o,l,f,m,p,d,g,h,_,E,b,x=this.cslXml.getAttributeValue(r,"lingo"),S=this.cslXml.getAttributeValue(r,"default-locale");this.build.date_key=!0,n=this.cslXml.getAttributeValue(r,"form");var x;if(S?x=this.opt["default-locale"][0]:x=this.cslXml.getAttributeValue(r,"lingo"),!this.getDate(n,S))return e;var O=this.cslXml.getAttributeValue(r,"date-parts");s=this.cslXml.getAttributeValue(r,"variable"),d=this.cslXml.getAttributeValue(r,"prefix"),g=this.cslXml.getAttributeValue(r,"suffix"),E=this.cslXml.getAttributeValue(r,"display"),b=this.cslXml.getAttributeValue(r,"cslid"),o=this.cslXml.nodeCopy(this.getDate(n,S)),this.cslXml.setAttribute(o,"lingo",this.opt.lang),this.cslXml.setAttribute(o,"form",n),this.cslXml.setAttribute(o,"date-parts",O),this.cslXml.setAttribute(o,"cslid",b),this.cslXml.setAttribute(o,"variable",s),this.cslXml.setAttribute(o,"default-locale",S),d&&this.cslXml.setAttribute(o,"prefix",d),g&&this.cslXml.setAttribute(o,"suffix",g),E&&this.cslXml.setAttribute(o,"display",E),h=this.cslXml.children(o);for(var w in h)l=h[w],this.cslXml.nodename(l)==="date-part"&&(f=this.cslXml.getAttributeValue(l,"name"),S&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(o,"date-part",f,"@default-locale","true"));h=this.cslXml.children(r);for(var w in h)if(l=h[w],this.cslXml.nodename(l)==="date-part"){f=this.cslXml.getAttributeValue(l,"name"),_=this.cslXml.attributes(l);for(m in _)m!=="@name"&&(x&&x!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(m)>-1||(p=_[m],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(o,"date-part",f,m,p)))}if(this.cslXml.getAttributeValue(r,"date-parts")==="year")this.cslXml.deleteNodeByNameAttribute(o,"month"),this.cslXml.deleteNodeByNameAttribute(o,"day");else if(this.cslXml.getAttributeValue(r,"date-parts")==="year-month")this.cslXml.deleteNodeByNameAttribute(o,"day");else if(this.cslXml.getAttributeValue(r,"date-parts")==="month-day"){for(var T=this.cslXml.children(o),q=1,N=this.cslXml.numberofnodes(T);q<N;q++)if(this.cslXml.getAttributeValue(T[q],"name")==="year"){this.cslXml.setAttribute(T[q-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(o,"year")}return this.cslXml.insertChildNodeAfter(e,r,t,o)},i.dateMacroAsSortKey=function(e,t){i.dateAsSortKey.call(this,e,t,!0)},i.dateAsSortKey=function(e,t,r){var n,s,o,l,f,m,p,d,g=this.variables[0],h="empty";if(r&&e.tmp.extension&&(h="macro-with-date"),n=t[g],typeof n>"u"&&(n={"date-parts":[[0]]}),typeof this.dateparts>"u"&&(this.dateparts=["year","month","day"]),n.raw?n=e.fun.dateparser.parseDateToArray(n.raw):n["date-parts"]&&(n=e.dateParseArray(n)),typeof n>"u"&&(n={}),n.year)for(p=0,d=i.DATE_PARTS_INTERNAL.length;p<d;p+=1)if(s=i.DATE_PARTS_INTERNAL[p],o=0,l=s,l.slice(-4)==="_end"&&(l=l.slice(0,-4)),n[s]&&this.dateparts.indexOf(l)>-1&&(o=n[s]),s.slice(0,4)==="year"){f=i.Util.Dates[l].numeric(e,o);var m="1";f[0]==="-"&&(m="0",f=f.slice(1),f=9999-parseInt(f,10)),e.output.append(i.Util.Dates[s.slice(0,4)].numeric(e,m+f),h)}else o=i.Util.Dates[l]["numeric-leading-zeros"](e,o),o||(o="00"),e.output.append(o,h)},i.Engine.prototype.dateParseArray=function(e){var t,r,n,s;t={};for(r in e)if(r==="date-parts"){n=e["date-parts"],n.length>1&&n[0].length!==n[1].length&&i.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var o=0,l=n.length;o<l;o+=1)for(var f=0,m=i.DATE_PARTS.length;f<m;f+=1)isNaN(parseInt(n[o][f],10))?t[i.DATE_PARTS[f]+s[o]]=void 0:t[i.DATE_PARTS[f]+s[o]]=parseInt(n[o][f],10)}else e.hasOwnProperty(r)&&(r==="literal"&&typeof e.literal=="object"&&typeof e.literal.part=="string"?(i.debug("Warning: fixing up weird literal date value"),t.literal=e.literal.part):t[r]=e[r]);return t},i.Util.Names={},i.Util.Names.compareNamesets=i.NameOutput.prototype._compareNamesets,i.Util.Names.unInitialize=function(e,t){var r,n,s,o,l;if(!t)return"";for(s=t.split(/(?:\-|\s+)/),o=t.match(/(\-|\s+)/g),l="",r=0,n=s.length;r<n;r+=1)l+=s[r],r<n-1&&(l+=o[r]);return l},i.Util.Names.initializeWith=function(e,t,r,n){var s,o,l;if(!t)return"";if(r||(r=""),["Lord","Lady"].indexOf(t)>-1||!t.replace(/^(?:<[^>]+>)*/,"").match(i.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return t;e.opt["initialize-with-hyphen"]===!1&&(t=t.replace(/\-/g," ")),t=t.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),t=t.replace(/-([a-z])/g,"â$1");for(var s=t.length-2;s>-1;s+=-1)t.slice(s,s+1)==="."&&t.slice(s+1,s+2)!==" "&&(t=t.slice(0,s)+". "+t.slice(s+1));var f=i.Output.Formatters.nameDoppel.split(t),m=[];if(m=[f.strings[0]],f.tags.length===0){var p=m[0].match(/[^\.]+$/);p&&p[0].length===1&&p[0]!==p[0].toLowerCase()&&(m[0]+=".")}for(s=1,o=f.strings.length;s<o;s+=1)m.push(f.tags[s-1]),m.push(f.strings[s]);return n?l=this.doNormalize(e,m,r):l=this.doInitialize(e,m,r),l=l.replace(/\u2013([a-z])/g,"-$1"),l},i.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},i.Util.Names.mergetag=function(e,t,r){var n=t.match(/(?:-*<[^>]+>-*)/g);if(n)t=n.join("");else return r;return n=r.match(/^(.*[^\s])*(\s+)$/),n?(n[1]=n[1]?n[1]:"",r=n[1]+t+n[2]):r=r+t,r},i.Util.Names.tagonly=function(e,t){var r=t.match(/(?:<[^>]+>)+/);return r?r.join(""):t},i.Util.Names.doNormalize=function(e,t,r){var n,s;r=r||"";var o=[];for(n=0,s=t.length;n<s;n+=1)this.notag(t[n]).length>1&&this.notag(t[n]).slice(-1)==="."?(t[n]=t[n].replace(/^(.*)\.(.*)$/,"$1$2"),o.push(!0)):t[n].length===1&&t[n].toUpperCase()===t[n]?o.push(!0):o.push(!1);for(n=0,s=t.length;n<s;n+=2)o[n]&&(n<t.length-2&&(t[n+1]=this.tagonly(e,t[n+1]),o[n+2]||(t[n+1]=this.tagonly(e,t[n+1])+" "),t[n+2].length>1?t[n+1]=r.replace(/\ufeff$/,"")+t[n+1]:t[n+1]=this.mergetag(e,t[n+1],r)),n===t.length-1&&(t[n]=t[n]+r));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},i.Util.Names.doInitialize=function(e,t,r){var n,s,o,l,f,m,p;for(n=0,s=t.length;n<s;n+=2)if(p=t[n],!!p)if(o=p.match(i.NAME_INITIAL_REGEXP),!o&&!p.match(i.STARTSWITH_ROMANESQUE_REGEXP)&&p.length>1&&r.match("%s")&&(o=p.match(/(.)(.*)/)),o&&o[2]&&o[3]&&(o[1]=o[1]+o[2],o[2]=""),o&&o[1].slice(0,1)===o[1].slice(0,1).toUpperCase()){var d="";if(o[2]){var g="";for(m=o[2].split(""),l=0,f=m.length;l<f;l+=1){var h=m[l];if(h===h.toUpperCase())g+=h;else break}g.length<o[2].length&&(d=i.toLocaleLowerCase.call(e,g))}t[n]=o[1]+d,n<s-1?r.match("%s")?t[n]=r.replace("%s",t[n]):t[n+1].indexOf("-")>-1?t[n+1]=this.mergetag(e,t[n+1].replace("-",""),r)+"-":t[n+1]=this.mergetag(e,t[n+1],r):r.match("%s")?t[n]=r.replace("%s",t[n]):t.push(r)}else p.match(i.ROMANESQUE_REGEXP)&&(!o||!o[3])&&(t[n]=" "+p);var _=t.join("");return _=_.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," "),_},i.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},i.Util.Dates={},i.Util.Dates.year={},i.Util.Dates.year.long=function(e,t){return t||(typeof t=="boolean"?t="":t=0),t.toString()},i.Util.Dates.year.imperial=function(e,t,r){var n="";t||(typeof t=="boolean"?t="":t=0),r=r?"_end":"";var s=e.tmp.date_object["month"+r];for(s=s?""+s:"1";s.length<2;)s="0"+s;var o=e.tmp.date_object["day"+r];for(o=o?""+o:"1";o.length<2;)o="0"+o;var l=parseInt(t+s+o,10),f,m;if(l>=18680908&&l<19120730?(f="ææ²»",m=1867):l>=19120730&&l<19261225?(f="å¤§æ­£",m=1911):l>=19261225&&l<19890108?(f="æ­å",m=1925):l>=19890108&&(f="å¹³æ",m=1988),f&&m){var p=f;e.sys.normalizeAbbrevsKey&&(p=e.sys.normalizeAbbrevsKey("number",f)),e.transform.abbrevs.default.number[p]||e.transform.loadAbbreviation("default","number",p,null),e.transform.abbrevs.default.number[p]&&(f=e.transform.abbrevs.default.number[p]),n=f+(t-m)}return n},i.Util.Dates.year.short=function(e,t){if(t=t.toString(),t&&t.length===4)return t.substr(2)},i.Util.Dates.year.numeric=function(e,t){var n,r;t=""+t;var n=t.match(/([0-9]*)$/);for(n?(r=t.slice(0,n[1].length*-1),t=n[1]):(r=t,t="");t.length<4;)t="0"+t;return r+t},i.Util.Dates.normalizeMonth=function(e,t){var r;if(e||(e=0),e=""+e,e.match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var n={stub:"month-",num:e};if(n.num<1||n.num>24)n.num=0;else{for(;n.num>16;)n.num=n.num-4;n.num>12&&(n.stub="season-",n.num=n.num-12)}r=n}else(e<1||e>12)&&(e=0),r=e;return r},i.Util.Dates.month={},i.Util.Dates.month.numeric=function(e,r){var r=i.Util.Dates.normalizeMonth(r);return r||(r=""),r},i.Util.Dates.month["numeric-leading-zeros"]=function(e,r){var r=i.Util.Dates.normalizeMonth(r);if(!r)r="";else for(r=""+r;r.length<2;)r="0"+r;return r},i.Util.Dates.month.long=function(e,o,r,n){var s=i.Util.Dates.normalizeMonth(o,!0),o=s.num;if(!o)o="";else{for(o=""+o;o.length<2;)o="0"+o;o=e.getTerm(s.stub+o,"long",0,0,!1,n)}return o},i.Util.Dates.month.short=function(e,o,r,n){var s=i.Util.Dates.normalizeMonth(o,!0),o=s.num;if(!o)o="";else{for(o=""+o;o.length<2;)o="0"+o;o=e.getTerm(s.stub+o,"short",0,0,!1,n)}return o},i.Util.Dates.day={},i.Util.Dates.day.numeric=function(e,t){return t.toString()},i.Util.Dates.day.long=i.Util.Dates.day.numeric,i.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},i.Util.Dates.day.ordinal=function(e,t,r){return e.fun.ordinalizer.format(t,r)},i.Util.Sort={},i.Util.Sort.strip_prepositions=function(e){var t;return typeof e=="string"&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},i.Util.substituteStart=function(e,t){var r,n,s,o,l,f,m;o=function(p,d,g){for(var h=0,_=this.decorations.length;h<_;h+=1)if(this.decorations[h][0]==="@strip-periods"&&this.decorations[h][1]==="true"){p.tmp.strip_periods+=1;break}},this.execs.push(o),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),m=["number","date","names"],(this.name==="text"&&!this.postponed_macro||m.indexOf(this.name)>-1)&&(r=function(p,d,g){p.tmp.element_trace.value()==="author"||this.name==="names"?(!p.tmp.just_looking&&g&&g["author-only"]&&p.tmp.area!=="intext"&&p.tmp.probably_rendered_something&&p.tmp.element_trace.push("suppress-me"),!p.tmp.just_looking&&g&&g["suppress-author"]&&(p.tmp.probably_rendered_something||p.tmp.element_trace.push("suppress-me"))):this.name==="date"?!p.tmp.just_looking&&g&&g["author-only"]&&p.tmp.area!=="intext"&&p.tmp.probably_rendered_something&&p.tmp.element_trace.push("suppress-me"):!p.tmp.just_looking&&g&&g["author-only"]&&p.tmp.area!=="intext"?!p.tmp.probably_rendered_something&&p.tmp.can_block_substitute||p.tmp.element_trace.push("suppress-me"):g&&g["suppress-author"]&&p.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),n=this.strings.cls,this.strings.cls=!1,e.build.render_nesting_level===0&&(e.build.area==="bibliography"&&e.bibliography.opt["second-field-align"]?(s=new i.Token("group",i.START),s.decorations=[["@display","left-margin"]],o=function(p,d){p.tmp.render_seen||(s.strings.first_blob=d.id,p.output.startTag("bib_first",s))},s.execs.push(o),t.push(s)):i.DISPLAY_CLASSES.indexOf(n)>-1&&(s=new i.Token("group",i.START),s.decorations=[["@display",n]],o=function(p,d){s.strings.first_blob=d.id,p.output.startTag("bib_first",s)},s.execs.push(o),t.push(s)),e.build.cls=n),e.build.render_nesting_level+=1,e.build.substitute_level.value()===1&&(l=new i.Token("choose",i.START),i.Node.choose.build.call(l,e,t),f=new i.Token("if",i.START),o=function(){return!!e.tmp.can_substitute.value()},f.tests||(f.tests=[]),f.tests.push(o),f.test=e.fun.match.any(this,e,f.tests),t.push(f)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(o=function(p,d,g){if(!p.tmp.just_looking&&!p.tmp.suppress_decorations){var h=new i.Token("text",i.START);h.decorations=[["@showid","true"]],p.output.startTag("variable_entry",h);var _=null;g&&(_=g.position),_||(_=0);var E=["first","container-subsequent","subsequent","ibid","ibid-with-locator"],b=0;g&&g.noteIndex&&(b=g.noteIndex);var S=0;g&&g["first-reference-note-number"]&&(S=g["first-reference-note-number"]);var x=0;g&&g["first-container-reference-note-number"]&&(x=g["first-container-reference-note-number"]);var O=0;g&&g["citation-number"]&&(O=g["citation-number"]);var w=0;g&&g.index&&(w=g.index);var T={itemData:d,variableNames:this.variables,context:p.tmp.area,xclass:p.opt.xclass,position:E[_],"note-number":b,"first-reference-note-number":S,"first-container-reference-note-number":x,"citation-number":O,index:w,mode:p.opt.mode};p.output.current.value().params=T}},this.execs.push(o))},i.Util.substituteEnd=function(e,t){var r,n,s,o,l,f;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(r=function(p){!p.tmp.just_looking&&!p.tmp.suppress_decorations&&p.output.endTag("variable_entry")},this.execs.push(r)),r=function(p){for(var d=0,g=this.decorations.length;d<g;d+=1)if(this.decorations[d][0]==="@strip-periods"&&this.decorations[d][1]==="true"){p.tmp.strip_periods+=-1;break}},this.execs.push(r),e.build.render_nesting_level+=-1,e.build.render_nesting_level===0&&(e.build.cls?(r=function(p){p.output.endTag("bib_first")},this.execs.push(r),e.build.cls=!1):e.build.area==="bibliography"&&e.bibliography.opt["second-field-align"]&&(n=new i.Token("group",i.END),r=function(p){p.tmp.render_seen||p.output.endTag("bib_first")},n.execs.push(r),t.push(n),s=new i.Token("group",i.START),s.decorations=[["@display","right-inline"]],r=function(p){p.tmp.render_seen||(p.tmp.render_seen=!0,p.output.startTag("bib_other",s))},s.execs.push(r),t.push(s))),e.build.substitute_level.value()===1&&(o=new i.Token("if",i.END),t.push(o),l=new i.Token("choose",i.END),i.Node.choose.build.call(l,e,t)),this.name==="names"||this.name==="text"&&this.variables_real!=="title"){new i.Token("text",i.SINGLETON);var m=this.name;r=function(p,d){if(p.tmp.area==="bibliography"&&typeof p.bibliography.opt["subsequent-author-substitute"]=="string"&&!(this.variables_real&&!d[this.variables_real])&&!(this.variables_real&&m==="names")){var g=p.bibliography.opt["subsequent-author-substitute-rule"],h,_,E=!p.tmp.suppress_decorations;if(E&&p.tmp.subsequent_author_substitute_ok&&p.tmp.rendered_name){if(g==="partial-each"||g==="partial-first"){var b=!0,S=[];for(h=0,_=p.tmp.name_node.children.length;h<_;h+=1){var x=p.tmp.rendered_name[h];b&&p.tmp.last_rendered_name&&p.tmp.last_rendered_name.length>h-1&&x&&!x.localeCompare(p.tmp.last_rendered_name[h])?(f=new i.Blob(p[p.tmp.area].opt["subsequent-author-substitute"]),p.tmp.name_node.children[h].blobs=[f],g==="partial-first"&&(b=!1)):b=!1,S.push(x)}p.tmp.last_rendered_name=S}else if(g==="complete-each"){var S=p.tmp.rendered_name.join(",");if(S){if(p.tmp.last_rendered_name&&!S.localeCompare(p.tmp.last_rendered_name))for(h=0,_=p.tmp.name_node.children.length;h<_;h+=1)f=new i.Blob(p[p.tmp.area].opt["subsequent-author-substitute"]),p.tmp.name_node.children[h].blobs=[f];p.tmp.last_rendered_name=S}}else{var S=p.tmp.rendered_name.join(",");S&&(p.tmp.last_rendered_name&&!S.localeCompare(p.tmp.last_rendered_name)&&(f=new i.Blob(p[p.tmp.area].opt["subsequent-author-substitute"]),p.tmp.label_blob?p.tmp.name_node.top.blobs=[f,p.tmp.label_blob]:p.tmp.name_node.top.blobs.length?p.tmp.name_node.top.blobs[0].blobs=[f]:p.tmp.name_node.top.blobs=[f],p.tmp.substituted_variable=m),p.tmp.last_rendered_name=S)}p.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(r)}(this.name==="text"&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(r=function(p,d){p.tmp.element_trace.mystack.length>1&&p.tmp.element_trace.pop()},this.execs.push(r))},i.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for(e=parseInt(t[1],10),e<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},i.Util.LongOrdinalizer=function(){},i.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},i.Util.LongOrdinalizer.prototype.format=function(e,t){e<10&&(e="0"+e);var r=i.Engine.getField(i.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,t);return r||(r=this.state.fun.ordinalizer.format(e,t)),this.state.tmp.cite_renders_content=!0,r},i.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},i.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0,t=3;e<t;e+=1){var r=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][r]=[];for(var n=1;n<5;n+=1){var s=this.state.getTerm("ordinal-0"+n,"long",!1,r);if(typeof s>"u"){delete this.suffixes[this.state.opt.lang][r];break}this.suffixes[this.state.opt.lang][r].push(s)}}}},i.Util.Ordinalizer.prototype.format=function(e,t){var r;e=parseInt(e,10),r=""+e;var n="",s=[];if(t&&s.push(t),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){n=this.state.getTerm("ordinal",!1,0,t);for(var o,l=0,f=s.length;l<f;l+=1){o=s[l];var m=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(m["whole-number"][r]&&m["whole-number"][r][o]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][r][o],!1,0,t):m["last-two-digits"][r.slice(r.length-2)]&&m["last-two-digits"][r.slice(r.length-2)][o]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][r.slice(r.length-2)][o],!1,0,t):m["last-digit"][r.slice(r.length-1)]&&m["last-digit"][r.slice(r.length-1)][o]&&(n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][r.slice(r.length-1)][o],!1,0,t)),n)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),e/10%10===1||e>10&&e<20?n=this.suffixes[this.state.opt.lang][t][3]:e%10===1&&e%100!==11?n=this.suffixes[this.state.opt.lang][t][0]:e%10===2&&e%100!==12?n=this.suffixes[this.state.opt.lang][t][1]:e%10===3&&e%100!==13?n=this.suffixes[this.state.opt.lang][t][2]:n=this.suffixes[this.state.opt.lang][t][3];return r=r+=n,r},i.Util.Romanizer=function(){},i.Util.Romanizer.prototype.format=function(e){var t,r,n,s,o;if(t="",e<6e3)for(s=e.toString().split(""),s.reverse(),r=0,n=0,o=s.length,r=0;r<o;r+=1)n=parseInt(s[r],10),t=i.ROMAN_NUMERALS[r][n]+t;return t},i.Util.Suffixator=function(e){e||(e=i.SUFFIX_CHARS),this.slist=e.split(",")},i.Util.Suffixator.prototype.format=function(e){var t;e+=1;var r="";do{t=e%26===0?26:e%26;var r=this.slist[t-1]+r;e=(e-t)/26}while(e!==0);return r},i.Engine.prototype.processNumber=function(e,t,r){var n,s=this,o=r;r=r==="page-first"?"page":r;var l=",\\s+and\\s+|\\s+and\\s+";this.opt.lang.slice(0,2)!=="en"&&(l+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var f="\\s*&\\s*",m=new RegExp("^"+f+"$"),p=new RegExp("("+f+"|"+l+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),d=new RegExp("(?:"+f+"|"+l+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),g=this.getTerm("and"),h=this.getTerm("and","symbol");g===h&&(h="&");function _(M){M=M.trim();var te=M.match(/^([^ ]+)/);if(te&&!i.STATUTE_SUBDIV_STRINGS[te[1]]){var ie=null;["locator","locator-extra","page"].indexOf(r)>-1?t.label?ie=i.STATUTE_SUBDIV_STRINGS_REVERSE[t.label]:ie="p.":ie=i.STATUTE_SUBDIV_STRINGS_REVERSE[r],ie&&(M=ie+" "+M)}return M}function E(M,te,ie,we,Re){we=we||"";var Te={};if(!te&&!i.STATUTE_SUBDIV_STRINGS_REVERSE[r]&&(te="var:"+r),te){var Se=te.match(/(\s*)([^\s]+)(\s*)/);o==="page"&&Re===0&&["p.","pp."].indexOf(Se[2])===-1?(Te.gotosleepability=!0,Te.labelVisibility=!0):Te.labelVisibility=!1,Te.label=Se[2],Te.origLabel=M,Te.labelSuffix=Se[3]?Se[3]:"",Te.plural=0}var Se=ie.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return Se?(Te.particle=Se[1]?Se[1]:"",Te.value=Se[2]):(Te.particle="",Te.value=ie),Te.joiningSuffix=we.replace(/\s*-\s*/,"-"),Te}function b(M){for(var te=M.length-2;te>-1;te-=2)M[te]==="-"&&M[te-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&M[te+1].match(/^[,a-zA-Z]+$/)&&(M[te-1]=M.slice(te-1,te+2).join(""),M=M.slice(0,te).concat(M.slice(te+2)));return M}function S(M,te){te=te||"",M=_(M);var ie,we,Re;if(r==="page"&&M.indexOf("â")>-1&&(M=M.replace(/\u2013/g,"-")),M.indexOf("\\-")>-1){ie=new RegExp(p.source.replace("\\-","")),we=new RegExp(d.source.replace("\\-",""));for(var Te=M.split("\\-"),Se=0,Ie=Te.length;Se<Ie;Se++)Te[Se]=Te[Se].replace(/\-/g,"â");Re=Te.join("\\-"),Re=Re.replace(/\\/g,"")}else ie=p,we=d,Re=M;var Ne=[],je=Re.match(ie);if(je){for(var Te=Re.split(we),Se=0,Ie=je.length;Se<Ie;Se++)je[Se].match(m)&&(Te[Se].match(/[a-zA-Z]$/)&&Te[Se].match(/^[a-zA-Z]/)?je[Se]=h:je[Se]=" "+h+" ");var Le=!1;for(var Se in Te)if((""+Te[Se]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;if(Le)Ne=[Re];else{for(var Se=0,Ie=Te.length-1;Se<Ie;Se++)Ne.push(Te[Se]),Ne.push(je[Se]);Ne.push(Te[Te.length-1]),Ne=b(Ne)}}else var Ne=[Re];for(var Be=[],Ve=te,Je="",Se=0,Ie=Ne.length;Se<Ie;Se+=2){var je=Ne[Se].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g);if(je){for(var Te=Ne[Se].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/),B=Te.length-1;B>0;B--)Te[B-1]&&(!Te[B].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||!Te[B-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/))&&(Te[B-1]=Te[B-1]+je[B-1]+Te[B],Te=Te.slice(0,B).concat(Te.slice(B+1)),je=je.slice(0,B-1).concat(je.slice(B)));if(je.length>0){var A=je[0].trim(),k=!i.STATUTE_SUBDIV_STRINGS[A]||typeof s.getTerm(i.STATUTE_SUBDIV_STRINGS[A])>"u"||["locator","number","locator-extra","page"].indexOf(r)===-1&&i.STATUTE_SUBDIV_STRINGS[A]!==r;k?Se===0&&(je=je.slice(1),Te[0]=Te[0]+" "+A+" "+Te[1],Te=Te.slice(0,1).concat(Te.slice(2))):Je=A}for(var B=0,U=Te.length;B<U;B++)if(Te[B]||B===Te.length-1){var H;Ve=je[B-1]?je[B-1]:Ve,Je===Ve.trim()?H="":H=Je,Re=Te[B]?Te[B].trim():"",B===Te.length-1?Be.push(E(H,Ve,Re,Ne[Se+1],Se)):Be.push(E(H,Ve,Re,null,Se))}}else{var H;Je===Ve.trim()?H="":H=Je,Be.push(E(H,Ve,Ne[Se],Ne[Se+1]))}}return Be}function x(M){for(var te=0,ie=M.length-1;te<ie;te++)!M[te].joiningSuffix&&M[te+1].label&&(M[te].joiningSuffix=" ")}function O(M,te,ie){var we=M[ie.pos],Re=M[te].value,Te=we.joiningSuffix==="\\-";Re.particle&&Re.particle!==we.particle&&(ie.collapsible=!1);var Se=Re.match(/^[0-9]+([-,:a-zA-Z]*)$/),Ie=we.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if((!Re||!Se||!Ie||Te)&&(ie.collapsible=!1,(!Re||!Ie)&&(ie.numeric=!1),Te&&ie.count--),(Se&&Se[1]||Ie&&Ie[1])&&(ie.collapsible=!1),M[te].collapsible===void 0){for(var Ne=te,je=te+ie.count;Ne<je;Ne++)isNaN(parseInt(M[Ne].value))&&!M[Ne].value.match(/^[ivxlcmIVXLCM]+$/)?M[Ne].collapsible=!1:M[Ne].collapsible=!0;ie.collapsible=M[te].collapsible}for(var Le=ie.collapsible,Ne=ie.pos,je=ie.pos+ie.count;Ne<je;Ne++)ie.count>1&&Le&&(M[Ne].plural=1),M[Ne].numeric=ie.numeric,M[Ne].collapsible=ie.collapsible}function w(M,te,ie){ie.label.slice(0,4)!=="var:"&&(ie.pos===0?(["locator","number","locator-extra","page"].indexOf(r)>-1&&typeof s.getTerm(i.STATUTE_SUBDIV_STRINGS[ie.label])>"u"&&(M[ie.pos].labelVisibility=!0),["locator","number","locator-extra","page"].indexOf(r)===-1&&i.STATUTE_SUBDIV_STRINGS[ie.label]!==r&&(M[0].labelVisibility=!0)):M[ie.pos].labelVisibility=!0)}function T(M){if(M.length!==0){for(var te=0,ie=1,we=1,Re=M.length;we<Re;we++){var Te=M[we-1],Se=M[we];if(Te.label===Se.label&&Te.particle===Te.particle)ie++;else{var Ie=JSON.parse(JSON.stringify(M[te]));Ie.pos=te,Ie.count=ie,Ie.numeric=!0,O(M,te,Ie),Te.label!==Se.label&&w(M,te,Ie),te=we,ie=1}}var Ie=JSON.parse(JSON.stringify(M[te]));Ie.pos=te,Ie.count=ie,Ie.numeric=!0,O(M,te,Ie),w(M,te,Ie),M.length&&M[0].numeric&&r.slice(0,10)==="number-of-"&&parseInt(t[o],10)>1&&(M[0].plural=1)}}function q(M){return M.replace("\\-","-")}function N(M){var te=i.Util.cloneToken(e),ie=new i.Token;s.tmp.just_looking||(ie.decorations=te.decorations,te.decorations=[],ie.strings.prefix=te.strings.prefix,te.strings.prefix="",ie.strings.suffix=te.strings.suffix,te.strings.suffix="");var we=M.length?M[0].label:null;if(M.length){for(var Re=0,Te=M.length;Re<Te;Re++){var Se=M[Re],Ie=i.Util.cloneToken(te);Ie.gender=e.gender,we===Se.label&&(Ie.formatter=e.formatter),Se.numeric&&(Ie.successor_prefix=Se.successor_prefix),Ie.strings.suffix=Ie.strings.suffix+q(Se.joiningSuffix),Se.styling=Ie}s.tmp.just_looking||M[0].value.slice(0,1)==='"'&&M[M.length-1].value.slice(-1)==='"'&&(M[0].value=M[0].value.slice(1),M[M.length-1].value=M[M.length-1].value.slice(0,-1),ie.decorations.push(["@quotes",!0]))}return ie}function W(M,te){var ie=!0;if(["locator","locator-extra","page"].indexOf(M)>-1){var we;te.origLabel?we=te.origLabel:we=te.label,ie=!!s.getTerm(i.STATUTE_SUBDIV_STRINGS[we])}return ie}function C(M,te){return M==="page"||["locator","locator-extra"].indexOf(M)>-1&&(["p."].indexOf(te.label)>-1||["p."].indexOf(te.origLabel)>-1)}function I(M,te,ie,we){var Re=C(M,te),Te=W(M,te);return Te&&ie==="-"&&we&&((Re||["locator","locator-extra","issue","volume","edition","number"].indexOf(M)>-1)&&(ie=s.getTerm("page-range-delimiter"),ie||(ie="â")),M==="collection-number"&&(ie=s.getTerm("year-range-delimiter"),ie||(ie="â"))),ie}function z(M,te,ie){if(!(te<1)&&ie.count===2&&M[te-1].particle===M[te].particle){if(M[te-1].joiningSuffix!=="-"){ie.count=1;return}if(!s.opt["page-range-format"]&&parseInt(M[te-1].value,10)>parseInt(M[te].value,10)){M[te-1].joiningSuffix=I(r,M[te],M[te-1].joiningSuffix,!0);return}var we=M[te],Re=C(r,we),Te;Re&&!isNaN(parseInt(M[te-1].value))&&!isNaN(parseInt(M[te].value))?(Te=M[te-1].particle+M[te-1].value+" - "+M[te].particle+M[te].value,Te=s.fun.page_mangler(Te)):((""+M[te-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+M[te].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(M[te-1].joiningSuffix=s.getTerm("page-range-delimiter")),Te=M[te-1].value+q(M[te-1].joiningSuffix)+M[te].value);var Se=Te.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(Se){var Ie=Se[3];Ie=I(r,we,Ie,M[te].numeric),M[te-1].particle=Se[1],M[te-1].value=Se[2],M[te-1].joiningSuffix=Ie,M[te].particle=Se[4],M[te].value=Se[5]}ie.count=0}}function X(M){if(e&&["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(r)!==-1){for(var te={count:0,label:null},ie=0,we=M.length;ie<we;ie++){var Re=M[ie];if(Re.collapsible)te.label===Re.label&&Re.joiningSuffix==="-"?te.count=1:te.label===Re.label&&Re.joiningSuffix!=="-"?(te.count++,te.count===2&&z(M,ie,te)):te.label!==Re.label?(te.label=Re.label,te.count=1):(te.count=1,te.label=Re.label);else{te.count=0,te.label=null;var Te=Re.numeric;Re.joiningSuffix=I(r,Re,Re.joiningSuffix,Te)}}te.count===2&&z(M,M.length-1,te)}}function ee(M,te,ie){var we=M[te];ie.length&&(we.numeric=ie[0].numeric,we.collapsible=ie[0].collapsible,we.plural=ie[0].plural,we.label=i.STATUTE_SUBDIV_STRINGS[ie[0].label],r==="number"&&we.label==="issue"&&s.getTerm("number")&&(we.label="number"))}if(e&&this.tmp.shadow_numbers[o]&&this.tmp.shadow_numbers[o].values.length){var Y=this.tmp.shadow_numbers[o].values;X(Y),this.tmp.shadow_numbers[o].masterStyling=N(Y);return}if(this.tmp.shadow_numbers[o]||(this.tmp.shadow_numbers[o]={values:[]}),!!t){var K=i.LangPrefsMap[r];if(K){var se=this.opt["cite-lang-prefs"][K][0];n=this.transform.getTextSubField(t,o,"locale-"+se,!0),n=n.name}else n=t[o];if(n&&o==="number"&&t.type==="legal_case"&&(n=n.replace(/[\\]*-/g,"\\-")),n&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var F=this.sys.normalizeAbbrevsKey(o,n);else var F=n;var G=this.transform.loadAbbreviation(t.jurisdiction,"number",F,t.language);this.transform.abbrevs[G].number&&(this.transform.abbrevs[G].number[F]?n=this.transform.abbrevs[G].number[F]:typeof this.transform.abbrevs[G].number[F]<"u"&&delete this.transform.abbrevs[G].number[F])}if(typeof n<"u"&&(typeof n=="string"||typeof n=="number")){typeof n=="number"&&(n=""+n);var V=i.STATUTE_SUBDIV_STRINGS_REVERSE[r];if(this.tmp.shadow_numbers[o].values.length===0){var Y=S(n,V);x(Y),T(Y);for(var me of Y)me.numeric||(me.plural=0);this.tmp.shadow_numbers[o].values=Y,e&&(X(Y),this.tmp.shadow_numbers[o].masterStyling=N(Y)),ee(this.tmp.shadow_numbers,o,Y)}var ue=this.tmp.shadow_numbers[o];r==="number"&&ue.values.length===1&&ue.values[0].value.indexOf("|")>-1&&(ue.values[0].value=ue.values[0].value.replace(/\|/g,", "),ue.values[0].numeric=!0,ue.values[0].plural=1,ue.values[0].collapsible=!1,ue.numeric=!0,ue.plural=1,ue.collapsible=!1),ue.values.length===1&&ue.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(ue.values[0].numeric=!0,ue.values[0].plural=0,ue.values[0].collapsible=!1,ue.numeric=!0,ue.plural=0,ue.collapsible=!1),r==="page"&&ue.values.length>0&&ue.values[0].gotosleepability&&(ue.labelForm="short")}}},i.Util.outputNumericField=function(e,t,r){e.output.openLevel(e.tmp.shadow_numbers[t].masterStyling);var n=e.tmp.shadow_numbers[t].masterStyling,s=e.tmp.shadow_numbers[t].values,o=s.length?s[0].label:null,l=e.tmp.shadow_numbers[t].labelForm,f=e.tmp.group_context.tip.label_static,m;l?m=l:m="short";for(var p=e.tmp.shadow_numbers[t].labelCapitalizeIfFirst,d=e.tmp.shadow_numbers[t].labelDecorations,g=null,h=0,_=s.length;h<_;h++){var E=s[h],b="",S;E.label&&(E.label.slice(0,4)==="var:"?S=E.label.slice(4):S=i.STATUTE_SUBDIV_STRINGS[E.label],S&&(E.label===o?(f&&(b=e.getTerm(S,"static",E.plural),b.indexOf("%s")===-1&&(b="")),b||(b=e.getTerm(S,l,E.plural))):(f&&(b=e.getTerm(S,"static",E.plural),b.indexOf("%s")===-1&&(b="")),b||(b=e.getTerm(S,m,E.plural))),p&&(b=i.Output.Formatters["capitalize-first"](e,b))));var x=-1;b&&(x=b.indexOf("%s"));var O=i.Util.cloneToken(E.styling);if(O.formatter=E.styling.formatter,O.type=E.styling.type,O.num=E.styling.num,O.gender=E.styling.gender,x>0&&x<b.length-2)O.strings.prefix+=b.slice(0,x),O.strings.suffix=b.slice(x+2)+O.strings.suffix;else if(E.labelVisibility)if(b||(b=E.label,S=E.label),x>0){var w=new i.Token;w.decorations=d,e.output.append(b.slice(0,x),w)}else(x===b.length-2||x===-1)&&e.output.append(b+E.labelSuffix,"empty");if(i.UPDATE_GROUP_CONTEXT_CONDITION(e,n.strings.prefix,null,n,`${E.particle}${E.value}`),E.collapsible){var T;E.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(E.value,10))?T=new i.NumericBlob(e,E.particle,parseInt(E.value,10),O,r):T=new i.NumericBlob(e,E.particle,E.value,O,r),typeof T.gender>"u"&&(T.gender=e.locale[e.opt.lang]["noun-genders"][t]),e.output.append(T,"literal")}else e.output.append(E.particle+E.value,O);if(x===0&&x<b.length-2&&(g===null&&(g=S),S!==g||h===s.length-1)){var q=new i.Token;q.decorations=d,e.output.append(b.slice(x+2),q)}g=S,e.tmp.term_predecessor=!0}e.output.closeLevel()},i.Util.PageRangeMangler={},i.Util.PageRangeMangler.getFunction=function(e,t){var r,n,s,o,l,f,m,p,d,g,h,_,E,b,S,x,O,w,T=e.getTerm(t+"-range-delimiter");r=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,o=function(N){for(s=N.length,n=1;n<s;n+=2)typeof N[n]=="object"&&(N[n]=N[n].join(""));var W=N.join("");return W=W.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter")),W},l=function(N){var W,C,I,z="\\s+\\-\\s+",X=T==="-"?"":T,ee=new RegExp("([^\\\\])[-"+X+"\\u2013]","g");N=N.replace(ee,"$1 - ").replace(/\s+-\s+/g," - ");var Y=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+z+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),K=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+z+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(W=N.match(Y),C=N.split(K),C.length===0)I=W;else for(I=[C[0]],n=1,s=C.length;n<s;n+=1)I.push(W[n-1].replace(/\s*\-\s*/g,"-")),I.push(C[n]);return I},f=function(N){for(N=""+N,h=l(N),s=h.length,n=1;n<s;n+=2)_=h[n].match(r),_&&(!_[3]||_[1]===_[3])&&(_[4].length<_[2].length&&(_[4]=_[2].slice(0,_[2].length-_[4].length)+_[4]),parseInt(_[2],10)<parseInt(_[4],10)&&(_[3]=T+(_[1]?_[1]:""),h[n]=_.slice(1))),typeof h[n]=="string"&&(h[n]=h[n].replace(/\-/g,T));return h},m=function(N,W,C){s=N.length;for(var I=1,z=N.length;I<z;I+=2)typeof N[I]=="object"&&(N[I][3]=p(N[I][1],N[I][3],W,C),N[I][2].slice(1)===N[I][0]&&(N[I][2]=T));return o(N)},p=function(N,W,C,I){if(C||(C=0),E=(""+N).split(""),b=(""+W).split(""),S=b.slice(),S.reverse(),E.length===b.length)for(var z=0,X=E.length;z<X;z+=1)if(E[z]===b[z]&&S.length>C)S.pop();else{if(C&&I&&S.length===3){var ee=E.slice(0,z);ee.reverse(),S=S.concat(ee)}break}return S.reverse(),S.join("")},d=function(N){for(s=N.length,n=1;n<s;n+=2)typeof N[n]=="object"&&(_=N[n],x=parseInt(_[1],10),O=parseInt(_[3],10),x>100&&x%100&&parseInt(x/100,10)===parseInt(O/100,10)?_[3]=""+O%100:x>=1e4&&(_[3]=""+O%1e3)),_[2].slice(1)===_[0]&&(_[2]=T);return o(N)},g=function(N){for(s=N.length,n=1;n<s;n+=2){if(typeof N[n]=="object"&&(_=N[n],x=parseInt(_[1],10),O=parseInt(_[3],10),b=""+O,x>100&&x%100))for(var W=2;W<b.length;W++){var C=Math.pow(10,W);if(Math.floor(x/C)===Math.floor(O/C)){_[3]=""+O%C;break}}_[2].slice(1)===_[0]&&(_[2]=T)}return o(N)};var q=function(N,W,C,I){var X;N=""+N;var z=f(N),X=W(z,C,I);return X};return e.opt[t+"-range-format"]?e.opt[t+"-range-format"]==="expanded"?w=function(N){return q(N,o)}:e.opt[t+"-range-format"]==="minimal"?w=function(N){return q(N,m)}:e.opt[t+"-range-format"]==="minimal-two"?w=function(N,W){return q(N,m,2,W)}:e.opt[t+"-range-format"]==="chicago"?w=function(N){return q(N,d)}:e.opt[t+"-range-format"]==="chicago-15"?w=function(N){return q(N,d)}:e.opt[t+"-range-format"]==="chicago-16"&&(w=function(N){return q(N,g)}):w=function(N){return q(N,o)},w},i.Util.FlipFlopper=function(e){var t=[],r={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};r['("']=r[' "'],r["('"]=r[" '"];var n=e.getTerm("open-quote"),s=e.getTerm("close-quote"),o=e.getTerm("open-inner-quote"),l=e.getTerm("close-inner-quote");n&&s&&[' "'," '",'"',"'"].indexOf(n)===-1&&(r[n]=JSON.parse(JSON.stringify(r[' "'])),r[n].opener=n,r[n].closer=s),o&&l&&[' "'," '",'"',"'"].indexOf(o)===-1&&(r[o]=JSON.parse(JSON.stringify(r[" '"])),r[o].opener=o,r[o].closer=l);function f(O){var w={" '":' "',' "':" '",'("':"('","('":'("'};r[O].outer="true",r[w[O]].outer="inner"}function m(O){for(var w=[],T=Object.keys(r),q=0,N=T.length;q<N;q++){var W=T[q];(r[O].type!=="quote"||!r[O])&&w.push(W)}var C=r[O];return C.opener=new RegExp("^(?:"+w.map(function(I){return I.replace("(","\\(")}).join("|")+")"),C}var p=function(){for(var O={},w=Object.keys(r),T=0,q=w.length;T<q;T++){var N=w[T];O[N]=m(N)}return O}(),d=function(){var O=[],w=[],T={};for(var q in p)O.push(q),T[p[q].closer]=!0;for(var N=Object.keys(T),W=0,C=N.length;W<C;W++){var I=N[W];w.push(I)}var z=O.concat(w).map(function(X){return X.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+z+"))","g"),splitAll:new RegExp("(?:"+z+")","g"),open:new RegExp("(^(?:"+O.map(function(X){return X.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+w.join("|")+")$)")}}();function g(O,w){var T=t[t.length-1];return!T||O.match(T.opener)?(t.push({type:p[O].type,opener:p[O].opener,closer:p[O].closer,pos:w}),!1):(t.pop(),t.push({type:p[O].type,opener:p[O].opener,closer:p[O].closer,pos:w}),{fixtag:T.pos})}function h(O,w){var T=t[t.length-1];return T&&O===T.closer?(t.pop(),T.type==="nocase"?{nocase:{open:T.pos,close:w}}:!1):T?{fixtag:T.pos}:{fixtag:w}}function _(O,w){return O.match(d.open)?g(O,w):h(O,w)}function E(O){var w=[];O=O.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4'),O=O.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3");var T=O.match(d.matchAll);if(!T)return{tags:[],strings:[O],forcedSpaces:[]};for(var q=O.split(d.splitAll),N=0,W=T.length-1;N<W;N++)r[T[N]]&&(q[N+1]===""&&['"',"'"].indexOf(T[N+1])>-1?(T[N+1]=" "+T[N+1],w.push(!0)):w.push(!1));return{tags:T,strings:q,forcedSpaces:w}}var b=function(O){var w=[];this.set=function(T){for(var q=r[T].attr,N=null,W=w.length-1;W>-1;W--){var C=w[W];if(C[0]===q){N=C;break}}if(!N){var I=[e[e.tmp.area].opt.layout_decorations].concat(O.alldecor);e:for(var W=I.length-1;W>-1;W--){var z=I[W];if(z)for(var X=z.length-1;X>-1;X--){var C=z[X];if(C[0]===q){N=C;break e}}}}N?N=[q,r[T].flipflop[N[1]]]:N=[q,r[T].outer],w.push(N)},this.pair=function(){return w[w.length-1]},this.pop=function(){w.pop()}};function S(O,w){if(O==="'"){if(w&&w.match(/^[^\,\.\?\:\;\ ]/))return"â"}else if(O===" '"&&w&&w.match(/^[\ ]/))return" â";return!1}function x(O,w,T){var q=!0,N=new b(O);O.blobs=[];function W(Y){this.stack=[Y],this.latest=Y,this.addStyling=function(K,se){if(q&&(K.slice(0,1)===" "&&(K=K.slice(1)),K.slice(0,1)===" "&&(K=K.slice(1)),q=!1),this.latest=this.stack[this.stack.length-1],se){if(typeof this.latest.blobs=="string"){var F=new i.Blob;F.blobs=this.latest.blobs,F.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[F]}var G=new i.Token,V=new i.Blob(null,G);if(V.alldecor=this.latest.alldecor.slice(),se[0]==="@class"&&se[1]==="nodecor"){for(var me=[],ue={},M=[e[e.tmp.area].opt.layout_decorations].concat(V.alldecor),te=M.length-1;te>-1;te--){var ie=M[te];if(ie)for(var we=ie.length-1;we>-1;we--){var Re=ie[we];["@font-weight","@font-style","@font-variant"].indexOf(Re[0])>-1&&!ue[Re[0]]&&(se[1]!=="normal"&&(V.decorations.push([Re[0],"normal"]),me.push([Re[0],"normal"])),ue[Re[0]]=!0)}}V.alldecor.push(me)}else V.decorations.push(se),V.alldecor.push([se]);if(this.latest.blobs.push(V),this.stack.push(V),this.latest=V,K){var G=new i.Token,V=new i.Blob(null,G);V.blobs=K,V.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(V)}}else if(K){var F=new i.Blob;F.blobs=K,F.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(F)}},this.popStyling=function(){this.stack.pop()}}var C=new W(O);if(w.strings.length){var I=w.strings[0];T&&(I=" "+I),C.addStyling(I)}for(var z=0,X=w.tags.length;z<X;z++){var ee=w.tags[z],I=w.strings[z+1];ee.match(d.open)?(N.set(ee),C.addStyling(I,N.pair())):(N.pop(),C.popStyling(),C.addStyling(I))}}this.processTags=function(O){var q=O.blobs,w=!1;q.slice(0,1)===" "&&!q.match(/^\s+[\'\"]/)&&(w=!0);var T=new RegExp("("+i.ROMANESQUE_REGEXP.source+")â("+i.ROMANESQUE_REGEXP.source+")","g"),q=" "+q.replace(T,"$1'$2"),N=E(q);if(N.tags.length!==0){for(var W=!1,C=0,I=N.tags.length;C<I;C++){var z=N.tags[C],q=N.strings[C+1],X=S(z,q);if(X)N.strings[C+1]=X+N.strings[C+1],N.tags[C]="";else{for(var ee;ee=_(z,C),ee;)if(Object.keys(ee).indexOf("fixtag")>-1){if(z.match(d.close)&&z==="'")N.strings[C+1]="â"+N.strings[C+1],N.tags[C]="";else{var Y=N.tags[ee.fixtag];N.forcedSpaces[ee.fixtag-1]&&(Y=Y.slice(1)),N.strings[ee.fixtag+1]=Y+N.strings[ee.fixtag+1],N.tags[ee.fixtag]=""}if(t.length>0)if(z!=="'")t.pop();else break;else break}else if(ee.nocase){N.tags[ee.nocase.open]="",N.tags[ee.nocase.close]="";break}else break;ee&&(ee.fixtag||ee.fixtag===0)&&(N.strings[C+1]=N.tags[C]+N.strings[C+1],N.tags[C]="")}}for(var C=t.length-1;C>-1;C--){var K=t[C].pos,z=N.tags[K];z===" '"||z==="'"?N.strings[K+1]=" â"+N.strings[K+1]:N.strings[K+1]=N.tags[K]+N.strings[K+1],N.tags[K]="",t.pop()}for(var C=N.tags.length-1;C>-1;C--)N.tags[C]||(N.tags=N.tags.slice(0,C).concat(N.tags.slice(C+1)),N.strings[C]=N.strings[C]+N.strings[C+1],N.strings=N.strings.slice(0,C+1).concat(N.strings.slice(C+2)));for(var C=0,I=N.tags.length;C<I;C++){var z=N.tags[C],se=N.forcedSpaces[C-1];[' "'," '",'("',"('"].indexOf(z)>-1&&(W||(f(z),W=!0),se||(N.strings[C]+=z.slice(0,1)))}x(O,N,w)}}},i.Output.Formatters=function(){var e=`(?:â|â|â|â| "| '|"|'|[-ââ/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)`,t=new i.Doppeler(e,function(b){return b.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),r='(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)',n=new i.Doppeler(r),s=new i.Doppeler("(?:[Â  Â â-ââã]+)"),o={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function l(b){var S=b.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return S&&!(S[2].match(/^[\u0370-\u03FF]$/)&&!S[3])?S[1]+i.toLocaleUpperCase.call(this,S[2])+S[3]:b}function f(b,S){if(!S)return"";b.doppel=t.split(S);var x={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"â":{opener:"â",closer:"â"},"â":{opener:"â",closer:"â"}};function O(K,se){if(b.quoteState.length===0||K===b.quoteState[b.quoteState.length-1].opener)return b.quoteState.push({opener:x[K].opener,closer:x[K].closer,pos:se}),!1;var F=b.quoteState[b.quoteState.length-1].pos;return b.quoteState.pop(),b.quoteState.push({opener:x[K].opener,closer:x[K].closer,positions:se}),F}function w(K,se){if(b.quoteState.length>0&&K===b.quoteState[b.quoteState.length-1].closer)b.quoteState.pop();else return se}function T(K,se){var F=["â","â",' "'," '"].indexOf(K)>-1;return F?O(K,se):w(K,se)}function q(K,se){var F=K.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(F)return T(F[1],se)}b.doppel.strings.length&&b.doppel.strings[0].trim()&&(b.doppel.strings[0]=b.capitaliseWords(b.doppel.strings[0],0,b.doppel.tags[0]));for(var N=0,W=b.doppel.tags.length;N<W;N++){var C=b.doppel.tags[N],I=b.doppel.strings[N+1];if(b.tagState!==null&&(o[C]?b.tagState.push(o[C]):b.tagState.length&&C===b.tagState[b.tagState.length-1]&&b.tagState.pop()),b.afterPunct!==null&&C.match(/[\!\?\:]$/)&&(b.afterPunct=!0),b.tagState.length===0?b.doppel.strings[N+1]=b.capitaliseWords(I,N+1,b.doppel,b.doppel.tags[N+1]):b.doppel.strings[N+1].trim()&&(b.lastWordPos=null),b.quoteState!==null){var z=q(C,N);if(z||z===0){var X=b.doppel.origStrings[z+1].slice(0,1);b.doppel.strings[z+1]=X+b.doppel.strings[z+1].slice(1),b.lastWordPos=null}}b.isFirst&&I.trim()&&(b.isFirst=!1),b.afterPunct&&I.trim()&&(b.afterPunct=!1)}if(b.quoteState)for(var N=0,W=b.quoteState.length;N<W;N++){var z=b.quoteState[N].pos;if(typeof z<"u"){var X=b.doppel.origStrings[z+1].slice(0,1);b.doppel.strings[z+1]=X+b.doppel.strings[z+1].slice(1)}}if(b.lastWordPos){var ee=s.split(b.doppel.strings[b.lastWordPos.strings]),Y=ee.strings[b.lastWordPos.words];Y.length>1&&i.toLocaleLowerCase.call(this,Y).match(b.skipWordsRex)&&(Y=l.call(this,Y),ee.strings[b.lastWordPos.words]=Y),b.doppel.strings[b.lastWordPos.strings]=s.join(ee)}return t.join(b.doppel)}function m(b,S){return S}function p(b,S){var x={quoteState:null,capitaliseWords:function(O){for(var w=O.split(" "),T=0,q=w.length;T<q;T++){var N=w[T];N&&(w[T]=i.toLocaleLowerCase.call(b,N))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return f.call(b,x,S)}function d(b,S){var x={quoteState:null,capitaliseWords:function(O){for(var w=O.split(" "),T=0,q=w.length;T<q;T++){var N=w[T];N&&(w[T]=i.toLocaleUpperCase.call(b,N))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return f.call(b,x,S)}function g(b,S){var x={quoteState:[],capitaliseWords:function(O){for(var w=O.split(" "),T=0,q=w.length;T<q;T++){var N=w[T];N&&(x.isFirst?(w[T]=l.call(b,N),x.isFirst=!1):w[T]=i.toLocaleLowerCase.call(b,N))}return w.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return f.call(b,x,S)}function h(b,S){var x={quoteState:[],capitaliseWords:function(O,w,T){if(O.trim()){for(var q=s.split(O),N=q.strings,W=0,C=N.length;W<C;W++){var I=N[W];if(!I)continue;let z=i.toLocaleLowerCase.call(b,I),X=!1;(I.length>1&&!z.match(x.skipWordsRex)||W===N.length-1&&T==="-"||x.isFirst||x.afterPunct)&&(X=!0),X&&I===z&&(N[W]=l.call(b,I)),x.afterPunct=!1,x.isFirst=!1,x.lastWordPos={strings:w,words:W}}O=s.join(q)}return O},skipWordsRex:b.locale[b.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return f.call(b,x,S)}function _(b,S){var x={quoteState:[],capitaliseWords:function(O){for(var w=s.split(O),T=w.strings,q=0,N=T.length;q<N;q++){var W=T[q];if(W&&x.isFirst){W===i.toLocaleLowerCase.call(b,W)&&(T[q]=l.call(b,W)),x.isFirst=!1;break}}return s.join(w)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return f.call(b,x,S)}function E(b,S){var x={quoteState:[],capitaliseWords:function(O){for(var w=s.split(O),T=w.strings,q=0,N=T.length;q<N;q++){var W=T[q];W&&W===i.toLocaleLowerCase.call(b,W)&&(T[q]=l.call(b,W))}return s.join(w)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return f.call(b,x,S)}return{nameDoppel:n,passthrough:m,lowercase:p,uppercase:d,sentence:g,title:h,"capitalize-first":_,"capitalize-all":E}}(),i.Output.Formats=function(){},i.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"Â  ").replace(i.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+i.SUPERSCRIPTS[t]+"</sup>"})},bibstart:`<div class="csl-bib-body">
`,bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":i.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t>"u"?"â":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var r="";return e.sys.embedBibliographyEntry&&(r=e.sys.embedBibliographyEntry(this.item_id)+`
`),'  <div class="csl-entry">'+t+`</div>
`+r},"@display/block":function(e,t){return`

    <div class="csl-block">`+t+`</div>
`},"@display/left-margin":function(e,t){return`
    <div class="csl-left-margin">`+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+`</div>
  `},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+`</div>
  `},"@showid/true":function(e,t,r){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){if(r)return'<span class="'+e.opt.nodenames[r]+'" cslid="'+r+'">'+t+"</span>";if(this.params&&typeof t=="string"){var n="";if(t){var s=t.match(i.VARIABLE_WRAPPER_PREPUNCT_REX);n=s[1],t=s[2]}var o="";return t&&i.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(o=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,n,t,o)}else return t}else return t},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),'<a href="'+r+'">'+t+"</a>"}},i.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":i.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t>"u"?"â":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+`
`},"@display/block":function(e,t){return`
`+t},"@display/left-margin":function(e,t){return t+" "},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return`
    `+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},i.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(i.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+i.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":i.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?i.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):i.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+t+i.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,t){return typeof t>"u"?i.Output.Formats.rtf.text_escape("â"):i.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+t+i.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":`\\line{}%%STRING%%\\line\r
`,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+`\r
`},"@display/indent":function(e,t){return`
\\tab `+t+`\\line\r
`},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var r="";if(t){var n=t.match(i.VARIABLE_WRAPPER_PREPUNCT_REX);r=n[1],t=n[2]}var s="";return t&&i.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)}else return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},i.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(i.SUPERSCRIPTS_REGEXP,function(t){return"^"+i.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":i.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return typeof t>"u"?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+`
`},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations&&this.params&&typeof t=="string"){var r="";if(t){var n=t.match(i.VARIABLE_WRAPPER_PREPUNCT_REX);r=n[1],t=n[2]}var s="";return t&&i.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)}else return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),r+"["+t+"]"}},i.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(i.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+i.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":i.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t>"u"?"â":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var r="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var n=e.bibliography.opt.hangingindent;r=' start-indent="'+n+'em" text-indent="-'+n+'em"'}var s="";return e.sys.embedBibliographyEntry&&(s=e.sys.embedBibliographyEntry(this.item_id)+`
`),'<fo:block id="'+this.system_id+'"'+r+">"+t+`</fo:block>
`+s},"@display/block":function(e,t){return`
  <fo:block>`+t+`</fo:block>
`},"@display/left-margin":function(e,t){return`
  <fo:table table-layout="fixed" width="100%">
    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>
    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>
    <fo:table-body>
      <fo:table-row>
        <fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
        `},"@display/right-inline":function(e,t){return`<fo:table-cell>
          <fo:block>`+t+`</fo:block>
        </fo:table-cell>
      </fo:table-row>
    </fo:table-body>
  </fo:table>
`},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+`</fo:block>
`},"@showid/true":function(e,t){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations&&this.params&&typeof t=="string"){var r="";if(t){var n=t.match(i.VARIABLE_WRAPPER_PREPUNCT_REX);r=n[1],t=n[2]}var s="";return t&&i.SWAPPING_PUNCTUATION.indexOf(t.slice(-1))>-1&&(s=t.slice(-1),t=t.slice(0,-1)),e.sys.variableWrapper(this.params,r,t,s)}else return t},"@URL/true":function(e,t){return`<fo:basic-link external-destination="url('`+t+`')">`+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var r=t;return t.match(/^https?:\/\//)||(r="https://doi.org/"+t),`<fo:basic-link external-destination="url('`+r+`')">`+t+"</fo:basic-link>"}},i.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":i.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":i.Output.Formatters.passthrough,"@strip-periods/false":i.Output.Formatters.passthrough,"@quotes/true":function(e,t){return typeof t>"u"?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return typeof t>"u"?"â":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+`}
`},"@display/block":function(e,t){return`
`+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return`
    `+t},"@showid/true":function(e,t,r){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},i.Output.Formats=new i.Output.Formats,i.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new i.Registry.NameReg(e),this.citationreg=new i.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new i.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],r=0,n=this.reflist.length;r<n;r+=1)t.push(""+this.reflist[r].id);return t},this.getSortedRegistryItems=function(){for(var t=[],r=0,n=this.reflist.length;r<n;r+=1)t.push(this.reflist[r]);return t}},i.Registry.prototype.init=function(e,t){var r,n;if(this.oldseq={},t){this.uncited={};for(var r=0,n=e.length;r<n;r+=1)this.myhash[e[r]]||this.mylist.push(""+e[r]),this.uncited[e[r]]=!0,this.myhash[e[r]]=!0}else{for(var s in this.uncited)e.push(s);var o={};for(r=e.length-1;r>-1;r+=-1)o[e[r]]?e=e.slice(0,r).concat(e.slice(r+1)):o[e[r]]=!0;this.mylist=e,this.myhash=o}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},i.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(!this.citationreg.citationsByItemId||!this.citationreg.citationsByItemId[this.mylist[t]])&&!e[this.mylist[t]]&&(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1)));this.dodeletes(this.myhash)},i.Registry.prototype.dodeletes=function(e){var t,r,n,s,o,l,f,m,p;if(typeof e=="string"){var r=e;e={},e[r]=!0}for(var r in this.registry)if(!e[r]){if(this.uncited[r])continue;t=this.namereg.delitems(r);for(f in t)this.refreshes[f]=!0;for(n=this.registry[r].ambig,m=this.ambigcites[n].indexOf(r),m>-1&&(l=this.ambigcites[n].slice(),this.ambigcites[n]=l.slice(0,m).concat(l.slice(m+1,l.length)),this.ambigresets[n]=this.ambigcites[n].length),o=this.ambigcites[n].length,s=0;s<o;s+=1)p=""+this.ambigcites[n][s],this.refreshes[p]=!0;if(this.registry[r].siblings){if(this.registry[r].siblings.length==1){var d=this.registry[r].siblings[0];this.registry[d].siblings&&(this.registry[d].siblings.pop(),this.registry[d].master=!0)}else if(this.registry[r].siblings.length>1){var g=[r];if(this.registry[r].master){var h=this.registry[r].siblings[0],_=this.registry[h];_.master=!0,g.push(h)}for(var E=[],b=this.registry[r].siblings.length-1;b>-1;b+=-1){var S=this.registry[r].siblings.pop();g.indexOf(S)===-1&&E.push(S)}for(var b=E.length-1;b>-1;b+=-1)this.registry[r].siblings.push(E[b])}}for(var x=this.reflist.length-1;x>-1;x--)this.reflist[x].id===r&&(this.reflist=this.reflist.slice(0,x).concat(this.reflist.slice(x+1)));delete this.registry[r],delete this.refhash[r],this.return_data.bibchange=!0}},i.Registry.prototype.doinserts=function(e){var t,r,n,s,o,l,f;typeof e=="string"&&(e=[e]);for(var l=0,f=e.length;l<f;l+=1)t=e[l],this.registry[t]||(r=this.state.retrieveItem(t),n=i.getAmbiguousCite.call(this.state,r),this.ambigsTouched[n]=!0,r.legislation_id||(this.akeys[n]=!0),s={id:""+t,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r,newItem:!0},this.registry[t]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[t]&&(this.registry[t]["first-reference-note-number"]=this.citationreg.citationsByItemId[t][0].properties.noteIndex),o=i.getAmbigConfig.call(this.state),this.registerAmbigToken(n,t,o),this.touched[t]=!0,this.return_data.bibchange=!0)},i.Registry.prototype.rebuildlist=function(e){var t,r,n,s;if(e)for(this.reflist=[],t=this.mylist.length,r=0;r<t;r+=1)n=this.mylist[r],s=this.registry[n],this.reflist.push(s),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=r+1;else for(this.reflist_inserts=[],t=this.mylist.length,r=0;r<t;r+=1)n=this.mylist[r],s=this.registry[n],s.newItem&&this.reflist_inserts.push(s),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=r+1},i.Registry.prototype.dorefreshes=function(){var e,t,r,n,s;for(var e in this.refreshes)if(t=this.registry[e],!!t){t.sortkeys=void 0,r=this.state.refetchItem(e);var n=t.ambig;typeof n>"u"&&(this.state.tmp.disambig_settings=!1,n=i.getAmbiguousCite.call(this.state,r),s=i.getAmbigConfig.call(this.state),this.registerAmbigToken(n,e,s));for(var o in this.ambigresets)if(this.ambigresets[o]===1){var l=this.ambigcites[n][0],r=this.state.refetchItem(l);this.registry[l].disambig=new i.AmbigConfig,this.state.tmp.disambig_settings=!1;var n=i.getAmbiguousCite.call(this.state,r),s=i.getAmbigConfig.call(this.state);this.registerAmbigToken(n,l,s)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[n]=!0,r.legislation_id||(this.akeys[n]=!0),this.touched[e]=!0}},i.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},i.Registry.prototype.renumber=function(){var e,t,r;for(this.state.bibliography_sort.opt.citation_number_sort_direction===i.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,t=0;t<e;t+=1)r=this.reflist[t],r.seq=t+1,this.state.bibliography_sort.opt.citation_number_sort_direction===i.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[r.seq]=this.reflist.length-r.seq+1),this.state.opt.update_mode===i.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0)},i.Registry.prototype.setsortkeys=function(){for(var e,t=0,r=this.mylist.length;t<r;t+=1){var e=this.mylist[t];(this.touched[e]||this.state.tmp.taintedItemIDs[e]||!this.registry[e].sortkeys)&&(this.registry[e].sortkeys=i.getSortKeys.call(this.state,this.state.retrieveItem(e),"bibliography_sort"))}},i.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},i.Registry.prototype._locationOf=function(e,t,r,n){if(t.length===0)return-1;r=r||0,n=n||t.length;var s=r+n>>1,o=this.sorter.compareKeys(e,t[s]);if(n-r<=1)return o==-1?s-1:s;switch(o){case-1:return this._locationOf(e,t,r,s);case 0:return s;case 1:return this._locationOf(e,t,s,n)}},i.Registry.prototype.sorttokens=function(e){var t,r,n,s;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,s=0;s<t;s+=1)r=this.mylist[s],n=this.registry[r],n.newItem&&this.reflist_inserts.push(n);for(var o in this.state.tmp.taintedItemIDs)if(this.registry[o]&&!this.registry[o].newItem)for(var l=this.reflist.length-1;l>-1;l--)this.reflist[l].id===o&&(this.reflist_inserts.push(this.reflist[l]),this.reflist=this.reflist.slice(0,l).concat(this.reflist.slice(l+1)));for(var l=0,f=this.reflist_inserts.length;l<f;l++){var n=this.reflist_inserts[l];delete n.newItem,this.reflist=this._insertItem(n,this.reflist)}for(s=0;s<t;s+=1)r=this.mylist[s],n=this.registry[r],this.registry[r].seq=s+1}},i.Registry.Comparifier=function(e,t){var r,n,s,o,l=i.getSortCompare.call(e,e.opt["default-locale-sort"]);r=e[t].opt.sort_directions,this.compareKeys=function(f,m){for(n=f.sortkeys?f.sortkeys.length:0,s=0;s<n;s+=1){var p=0;if(f.sortkeys[s]===m.sortkeys[s]?p=0:typeof f.sortkeys[s]>"u"?p=r[s][1]:typeof m.sortkeys[s]>"u"?p=r[s][0]:p=l(f.sortkeys[s],m.sortkeys[s]),0<p)return r[s][1];if(0>p)return r[s][0]}return f.seq>m.seq?1:f.seq<m.seq?-1:0},o=this.compareKeys,this.compareCompositeKeys=function(f,m){return o(f[1],m[1])}},i.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},i.Registry.prototype.registerAmbigToken=function(e,t,r){if(this.registry[t]||i.debug("Warning: unregistered item: itemID=("+t+"), akey=("+e+")"),this.registry[t]&&this.registry[t].disambig&&this.registry[t].disambig.names)for(var n=0,s=r.names.length;n<s;n+=1){var o=r.names[n],l=this.registry[t].disambig.names[n];if(o!==l)this.state.tmp.taintedItemIDs[t]=!0;else if(r.givens[n])for(var f=0,m=r.givens[n].length;f<m;f+=1){var p=r.givens[n][f],d=this.registry[t].disambig.givens[n][f];p!==d&&(this.state.tmp.taintedItemIDs[t]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),this.ambigcites[e].indexOf(""+t)===-1&&this.ambigcites[e].push(""+t),this.registry[t].ambig=e,this.registry[t].disambig=i.cloneAmbigConfig(r)},i.getSortKeys=function(e,t){var r,n,s,o,l,f;for(r=this.tmp.area,n=this.tmp.root,s=this.tmp.extension,o=i.Util.Sort.strip_prepositions,this.tmp.area=t,this.tmp.root=t.indexOf("_")>-1?t.slice(0,-5):t,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,i.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,l=this[t].keys.length,f=0;f<l;f+=1)this[t].keys[f]=o(this[t].keys[f]);return this.tmp.area=r,this.tmp.root=n,this.tmp.extension=s,this[t].keys},i.Registry.NameReg=function(e){var t,r,n,s,o,l,f,m,p,d,g,h;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},f=function(_){return _||(_=""),_.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},m=function(_,E,b){t=f(b.family),_.opt["demote-non-dropping-particle"]==="never"&&b["non-dropping-particle"]&&b.family&&(t=`${t} ${b["non-dropping-particle"]}`),n=f(b.given);var S=n.match(/[,\!]* ([^,]+)$/);S&&S[1]===S[1].toLowerCase()&&(n=n.replace(/[,\!]* [^,]+$/,"")),r=i.Util.Names.initializeWith(_,n,"%s"),_.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&(t=""+E+t)},p=function(_,E,b,S,x,O){var w;if(e.tmp.area.slice(0,12)==="bibliography"&&!x)return typeof O=="string"?1:2;var T=e.nameOutput.getName(E,"locale-translit",!0);E=T.name,m(this.state,""+_,E),w=2,s=e.opt["disambiguate-add-givenname"],o=e.citation.opt["givenname-disambiguation-rule"];var q=o;if(o==="by-cite"&&(o="all-names"),x==="short"?w=0:typeof O=="string"&&(w=1),typeof this.namereg[t]>"u"||typeof this.namereg[t].ikey[r]>"u")return w;if(q==="by-cite"&&w<=S)return S;if(!s||typeof o=="string"&&o.slice(0,12)==="primary-name"&&b>0||(!o||o==="all-names"||o==="primary-name"?(this.namereg[t].count>1&&(w=1),(this.namereg[t].ikey&&this.namereg[t].ikey[r].count>1||this.namereg[t].count>1&&typeof O!="string")&&(w=2)):(o==="all-names-with-initials"||o==="primary-name-with-initials")&&(this.namereg[t].count>1?w=1:w=0),e.registry.registry[_]))return w;if(x=="short")return 0;if(typeof O=="string")return 1},d=function(_){var E,b,S,x,O;(typeof _=="string"||typeof _=="number")&&(_=[""+_]);var w={};for(b=_.length,E=0;E<b;E+=1)if(x=""+_[E],!!this.nameind[x]){for(O in this.nameind[x])if(this.nameind[x].hasOwnProperty(O)){var T=O.split("::");if(t=T[0],r=T[1],n=T[2],typeof this.namereg[t]>"u")continue;if(l=this.namereg[t].items,n&&this.namereg[t].ikey[r]&&this.namereg[t].ikey[r].skey[n]&&(h=this.namereg[t].ikey[r].skey[n].items,S=h.indexOf(""+x),S>-1&&(this.namereg[t].ikey[r].skey[n].items=h.slice(0,S).concat(h.slice([S+1]))),this.namereg[t].ikey[r].skey[n].items.length===0&&(delete this.namereg[t].ikey[r].skey[n],this.namereg[t].ikey[r].count+=-1,this.namereg[t].ikey[r].count<2)))for(var q=0,N=this.namereg[t].ikey[r].items.length;q<N;q+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[r].items[q]]=!0;if(r&&this.namereg[t].ikey[r]&&(S=this.namereg[t].ikey[r].items.indexOf(""+x),S>-1&&(l=this.namereg[t].ikey[r].items.slice(),this.namereg[t].ikey[r].items=l.slice(0,S).concat(l.slice([S+1]))),this.namereg[t].ikey[r].items.length===0&&(delete this.namereg[t].ikey[r],this.namereg[t].count+=-1,this.namereg[t].count<2)))for(var q=0,N=this.namereg[t].items.length;q<N;q+=1)e.tmp.taintedItemIDs[this.namereg[t].items[q]]=!0;t&&(S=this.namereg[t].items.indexOf(""+x),S>-1&&(l=this.namereg[t].items.slice(),this.namereg[t].items=l.slice(0,S).concat(l.slice([S+1],l.length))),this.namereg[t].items.length<2&&delete this.namereg[t]),delete this.nameind[x][O]}delete this.nameind[x],delete this.nameindpkeys[x]}return w},g=function(_,E,b){var S,x,O=e.nameOutput.getName(E,"locale-translit",!0);if(E=O.name,!(e.citation.opt["givenname-disambiguation-rule"]&&e.citation.opt["givenname-disambiguation-rule"].slice(0,8)==="primary-"&&b!==0)){if(m(this.state,""+_,E),t&&(typeof this.namereg[t]>"u"?(this.namereg[t]={},this.namereg[t].count=0,this.namereg[t].ikey={},this.namereg[t].items=[_]):this.namereg[t].items.indexOf(_)===-1&&this.namereg[t].items.push(_)),t&&r)if(typeof this.namereg[t].ikey[r]>"u"){if(this.namereg[t].ikey[r]={},this.namereg[t].ikey[r].count=0,this.namereg[t].ikey[r].skey={},this.namereg[t].ikey[r].items=[_],this.namereg[t].count+=1,this.namereg[t].count===2)for(var S=0,x=this.namereg[t].items.length;S<x;S+=1)e.tmp.taintedItemIDs[this.namereg[t].items[S]]=!0}else this.namereg[t].ikey[r].items.indexOf(_)===-1&&this.namereg[t].ikey[r].items.push(_);if(t&&r&&n)if(typeof this.namereg[t].ikey[r].skey[n]>"u"){if(this.namereg[t].ikey[r].skey[n]={},this.namereg[t].ikey[r].skey[n].items=[_],this.namereg[t].ikey[r].count+=1,this.namereg[t].ikey[r].count===2)for(var S=0,x=this.namereg[t].ikey[r].items.length;S<x;S+=1)e.tmp.taintedItemIDs[this.namereg[t].ikey[r].items[S]]=!0}else this.namereg[t].ikey[r].skey[n].items.indexOf(_)===-1&&this.namereg[t].ikey[r].skey[n].items.push(_);typeof this.nameind[_]>"u"&&(this.nameind[_]={},this.nameindpkeys[_]={}),t&&(this.nameind[_][t+"::"+r+"::"+n]=!0,this.nameindpkeys[_][t]=this.namereg[t])}},this.addname=g,this.delitems=d,this.evalname=p},i.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},i.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},i.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},i.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},i.Disambiguation.prototype.scanItems=function(e){var t,r,n;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=i.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var s=0,t=1,r=e[1].length;t<r;t+=1){n=e[1][t];var o=i.getAmbiguousCite.call(this.state,n,this.base,!0);this.debug&&t>1&&this.state.sys.print("  -----------"),this.ItemCite===o?(this.debug&&(this.state.sys.print("  [CLASH]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+o)),s+=1,this.partners.push(n)):(this.debug&&(this.state.sys.print("  [clear]--> "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+o)),this.nonpartners.push(n))}this.clashes[0]=this.clashes[1],this.clashes[1]=s},i.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},i.Disambiguation.prototype.disNames=function(e){var t,r;if(this.debug&&this.state.sys.print("[3] == disNames() =="),this.clashes[1]===0&&this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(this.clashes[1]===0)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(this.nonpartners.length===1)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,r=this.partners.length;t<r;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},i.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var e=!1;if(this.clashes[1]===0&&this.nonpartners.length<2&&(e=!0),!e&&(!this.base.disambiguate||this.state.tmp.disambiguate_count!==this.state.tmp.disambiguate_maxMax))if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var t=0,r=this.lists[this.listpos][1].length;t<r;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0}else if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){for(var n=this.lists[this.listpos][0],t=0,r=this.lists[this.listpos][1].length;t<r;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,n);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var n=this.lists[this.listpos][0];n.disambiguate=!0;for(var t=0,r=this.lists[this.listpos][1].length;t<r;t+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][t].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][t].id,n)}},i.Disambiguation.prototype.disYears=function(){var e,t,r,n;this.debug&&this.state.sys.print("[3] === disYears =="),r=[];var s=this.lists[this.listpos][0];if(this.clashes[1])for(var o=0,l=this.state.registry.mylist.length;o<l;o+=1)for(var f=this.state.registry.mylist[o],m=0,p=this.lists[this.listpos][1].length;m<p;m+=1){var n=this.lists[this.listpos][1][m];if(n.id==f){r.push(this.registry[n.id]);break}}r.sort(this.state.registry.sorter.compareKeys);for(var e=0,t=r.length;e<t;e+=1){s.year_suffix=""+e;var d=this.state.registry.registry[r[e].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+r[e].id,s),i.ambigConfigDiff(d,s)&&(this.state.tmp.taintedItemIDs[r[e].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},i.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print(`
[1] === incrementDisambig() ===`),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if(this.modes[this.modeindex]==="disNames"){t=!1,typeof this.givensMax!="number"&&(t=!0);var r=!1;typeof this.namesMax!="number"&&(r=!0),typeof this.givensMax=="number"&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),typeof this.namesMax=="number"&&t&&(this.state.opt["disambiguate-add-names"]?(r=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):r=!0):r=!0),typeof this.namesetsMax=="number"&&r&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),(typeof this.namesetsMax!="number"||this.namesetsMax===-1||this.gnameset===this.namesetsMax)&&(!this.state.opt["disambiguate-add-names"]||typeof this.namesMax!="number"||this.gname===this.namesMax)&&(typeof this.givensMax!="number"||typeof this.base.givens[this.gnameset]>"u"||typeof this.base.givens[this.gnameset][this.gname]>"u"||this.base.givens[this.gnameset][this.gname]===this.givensMax)&&(e=!0,this.debug&&this.state.sys.print("    MAXED"))}else this.modes[this.modeindex]==="disExtraText"&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},i.Disambiguation.prototype.initVars=function(e){var o,l,t,r,n;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},r=[],t=this.ambigcites[e],!t||!t.length)return!1;var s=this.state.refetchItem(""+t[0]);if(this.getCiteData(s),this.base=i.getAmbigConfig.call(this.state),t&&t.length>1){r.push([this.maxNamesByItemId[s.id],s]);for(var o=1,l=t.length;o<l;o+=1)s=this.state.refetchItem(""+t[o]),this.getCiteData(s,this.base),r.push([this.maxNamesByItemId[s.id],s]);r.sort(function(f,m){return f[0]>m[0]?1:f[0]<m[0]?-1:f[1].id>m[1].id?1:f[1].id<m[1].id?-1:0}),n=[];for(var o=0,l=r.length;o<l;o+=1)n.push(r[o][1]);this.lists.push([this.base,n]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+t[0]);this.modeindex=0;var o,l;return this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},i.Disambiguation.prototype.padBase=function(e){for(var t=0,r=e.names.length;t<r;t+=1){e.givens[t]||(e.givens[t]=[]);for(var n=0,s=e.names[t];n<s;n+=1)e.givens[t][n]||(e.givens[t][n]=0)}},i.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&t==="by-cite")&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},i.Disambiguation.prototype.getCiteData=function(e,t){if(!this.maxNamesByItemId[e.id]){i.getAmbiguousCite.call(this.state,e,t),t=i.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=i.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,n=this.state.registry.registry[e.id].disambig.givens.length;r<n;r+=1)this.state.registry.registry[e.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=t,this.betterbase=i.cloneAmbigConfig(t)),t.names.length<this.base.names.length&&(this.base=t);for(var r=0,n=t.names.length;r<n;r+=1)t.names[r]>this.base.names[r]&&(this.base.givens[r]=t.givens[r].slice(),this.base.names[r]=t.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,o=this.base.givens.length;s<o;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},i.Disambiguation.prototype.captureStepToBase=function(){this.state.citation.opt["givenname-disambiguation-rule"]==="by-cite"&&this.base.givens&&this.base.givens.length&&typeof this.base.givens[this.gnameset][this.gname]<"u"&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},i.Engine.prototype.getJurisdictionList=function(e){for(var t=[],r=e.split(":"),n=r.length;n>0;n--){var s=r.slice(0,n).join(":");if(t.push(s),this.opt.jurisdiction_fallbacks[s]){var o=this.opt.jurisdiction_fallbacks[s];t.push(o)}}return t.indexOf("us")===-1&&t.push("us"),t},i.Engine.prototype.loadStyleModule=function(e,t,r){var n=null;this.juris[e]={};var s=i.setupXml(t);s.addMissingNameNodes(s.dataObj),s.addInstitutionNodes(s.dataObj),s.insertPublisherAndPlace(s.dataObj),s.flagDateMacros(s.dataObj);for(var g=s.getNodesByName(s.dataObj,"law-module"),o=0,l=g.length;o<l;o++){var f=s.getAttributeValue(g[o],"types");if(f){this.juris[e].types={},f=f.split(/\s+/);for(var m=0,p=f.length;m<p;m++)this.juris[e].types[f[m]]=!0}r||(n=s.getAttributeValue(g[o],"fallback"),n&&e!=="us"&&(this.opt.jurisdiction_fallbacks[e]=n))}var d=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];i.SET_COURT_CLASSES(this,d,s,s.dataObj),this.juris[e].types||(this.juris[e].types=i.MODULE_TYPES);for(var g=s.getNodesByName(s.dataObj,"macro"),o=0,l=g.length;o<l;o++){var h=s.getAttributeValue(g[o],"name");if(!i.MODULE_MACROS[h]){i.debug('CSL: skipping non-modular macro name "'+h+'" in module context');continue}this.juris[e][h]=[],this.buildTokenLists(g[o],this.juris[e][h]),this.configureTokenList(this.juris[e][h])}return n},i.Engine.prototype.retrieveAllStyleModules=function(e){var t={},r=this.locale[this.opt.lang].opts["jurisdiction-preference"];r=r||[],r=[""].concat(r);for(var n=r.length-1;n>-1;n--)for(var s=r[n],o=0,l=e.length;o<l;o++){var f=e[o];if(!this.opt.jurisdictions_seen[f]){var m=this.sys.retrieveStyleModule(f,s);(!m&&!s||m)&&(this.opt.jurisdictions_seen[f]=!0),m&&(t[f]=m)}}return t},i.ParticleList=function(){var e=[[[0,1],null]],t=[[[0,3],null]],r=[[null,[0,1]]],n=[[null,[0,2]]],s=[[null,[0,3]]],o=[[null,[0,1]],[[0,1],null]],l=[[null,[0,2]],[[0,2],null]],f=[[[0,1],null],[null,[0,1]]],m=[[[0,2],null],[null,[0,2]]],p=[[[0,3],null],[null,[0,3]]],d=[[null,[0,2]],[[0,1],[1,2]]],g=[["'s",r],["'s-",r],["'t",r],["a",r],["aan 't",n],["aan de",n],["aan den",n],["aan der",n],["aan het",n],["aan t",n],["aan",r],["ad-",o],["adh-",o],["af",o],["al",o],["al-",o],["am de",n],["am",r],["an-",o],["ar-",o],["as-",o],["ash-",o],["at-",o],["ath-",o],["auf dem",m],["auf den",m],["auf der",m],["auf ter",n],["auf",f],["aus 'm",m],["aus dem",m],["aus den",m],["aus der",m],["aus m",m],["aus",f],["aus'm",m],["az-",o],["aÅ¡-",o],["aá¸-",o],["aá¸-",o],["aá¹£-",o],["aá¹­-",o],["aá¹¯-",o],["aáº-",o],["ben",r],["bij 't",n],["bij de",n],["bij den",n],["bij het",n],["bij t",n],["bij",r],["bin",r],["boven d",n],["boven d'",n],["d",r],["d'",o],["da",o],["dal",r],["dal'",r],["dall'",r],["dalla",r],["das",o],["de die le",s],["de die",n],["de l",n],["de l'",n],["de la",d],["de las",d],["de le",n],["de li",l],["de van der",s],["de",o],["de'",o],["deca",r],["degli",o],["dei",o],["del",o],["dela",e],["dell'",o],["della",o],["delle",o],["dello",o],["den",o],["der",o],["des",o],["di",o],["die le",n],["do",r],["don",r],["dos",o],["du",o],["ed-",o],["edh-",o],["el",o],["el-",o],["en-",o],["er-",o],["es-",o],["esh-",o],["et-",o],["eth-",o],["ez-",o],["eÅ¡-",o],["eá¸-",o],["eá¸-",o],["eá¹£-",o],["eá¹­-",o],["eá¹¯-",o],["eáº-",o],["het",r],["i",r],["il",e],["im",r],["in 't",n],["in de",n],["in den",n],["in der",l],["in het",n],["in t",n],["in",r],["l",r],["l'",r],["la",r],["las",r],["le",r],["les",o],["lo",o],["los",r],["lou",r],["of",r],["onder 't",n],["onder de",n],["onder den",n],["onder het",n],["onder t",n],["onder",r],["op 't",n],["op de",l],["op den",n],["op der",n],["op gen",n],["op het",n],["op t",n],["op ten",n],["op",r],["over 't",n],["over de",n],["over den",n],["over het",n],["over t",n],["over",r],["s",r],["s'",r],["sen",e],["t",r],["te",r],["ten",r],["ter",r],["tho",r],["thoe",r],["thor",r],["to",r],["toe",r],["tot",r],["uijt 't",n],["uijt de",n],["uijt den",n],["uijt te de",s],["uijt ten",n],["uijt",r],["uit 't",n],["uit de",n],["uit den",n],["uit het",n],["uit t",n],["uit te de",s],["uit ten",n],["uit",r],["unter",r],["v",r],["v.",r],["v.d.",r],["van 't",n],["van de l",s],["van de l'",s],["van de",n],["van de",n],["van den",n],["van der",n],["van gen",n],["van het",n],["van la",n],["van t",n],["van ter",n],["van van de",s],["van",o],["vander",r],["vd",r],["ver",r],["vom und zum",t],["vom",o],["von 't",n],["von dem",m],["von den",m],["von der",m],["von t",n],["von und zu",p],["von zu",m],["von",f],["voor 't",n],["voor de",n],["voor den",n],["voor in 't",s],["voor in t",s],["voor",r],["vor der",m],["vor",f],["z",e],["ze",e],["zu",f],["zum",o],["zur",o]];return g}(),i.parseParticles=function(){function e(n,s,o){var l=n;n=n;var f=[],m,p;s?(n=n.split("").reverse().join(""),m=i.PARTICLE_GIVEN_REGEXP):m=i.PARTICLE_FAMILY_REGEXP;for(var d=n.match(m);d;){var g=s?d[1].split("").reverse().join(""):d[1],h=d?g:!1,h=h?g.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1;if(p=h?h.toUpperCase()!==h:!1,!p)break;s?(f.push(l.slice(g.length*-1)),l=l.slice(0,g.length*-1)):(f.push(l.slice(0,g.length)),l=l.slice(g.length)),n=d[2],d=n.match(m)}if(s){n=n.split("").reverse().join(""),f.reverse();for(var _=1,E=f.length;_<E;_++)f[_].slice(0,1)==" "&&(f[_-1]+=" ");for(var _=0,E=f.length;_<E;_++)f[_].slice(0,1)==" "&&(f[_]=f[_].slice(1));n=l.slice(0,n.length)}else n=l.slice(n.length*-1);return[p,n,f]}function t(n){var s=n.slice(-1);return n=n.trim(),s===" "&&["'","â"].indexOf(n.slice(-1))>-1&&(n+=" "),n}function r(n){if(!n.suffix&&n.given){var s=n.given.match(/(\s*,!*\s*)/);if(s){var o=n.given.indexOf(s[1]),l=n.given.slice(o+s[1].length),f=n.given.slice(o,o+s[1].length).replace(/\s*/g,"");l.replace(/\./g,"")==="et al"&&!n["dropping-particle"]?(n["dropping-particle"]=l,n["comma-dropping-particle"]=","):(f.length===2&&(n["comma-suffix"]=!0),n.suffix=l),n.given=n.given.slice(0,o)}}}return function(n){var f=e(n.family),s=f[1],o=f[2];n.family=s;var l=t(o.join(""));l&&(n["non-dropping-particle"]=l),r(n);var f=e(n.given,!0),m=f[1],p=f[2];n.given=m;var d=p.join("").trim();d&&(n["dropping-particle"]=d)}}(),Oo=i,Oo}var l2=o2();const vi=Ln(l2),Tb=Symbol.for("proxied"),u2=function(i){const e=function(t,r){if(t.sys.wrapBibliographyEntry){const[n,s]=t.sys.wrapBibliographyEntry(this.system_id);r=[n,r,s].join("")}return i.call(this,t,r)};return e[Tb]=!0,e};for(const i in vi.Output.Formats){const e=vi.Output.Formats[i]["@bibliography/entry"];!e||e[Tb]||(vi.Output.Formats[i]["@bibliography/entry"]=u2(e))}function f2(i){if(Wi.has(i))return Wi.get(i);const e=i.replace("-","_");return Wi.has(e)?Wi.get(e):{}}const ko={},m2=function(i,e,t,r,n){const s=`${i}|${e}`;let o;return ko[s]instanceof vi.Engine?(o=ko[s],o.sys.retrieveItem=r,o.sys.wrapBibliographyEntry=void 0,o.updateItems([])):o=ko[s]=new vi.Engine({retrieveLocale:n,retrieveItem:r},t,e,!0),o},Vf=function(i,e,t,r){if(!vi.Output.Formats[r]||!vi.Output.Formats[r]["@bibliography/entry"])throw new TypeError(`Cannot find format '${r}'`);const n=i.reduce((f,m)=>(f[m.id]=m,f),{}),s=Df.get(Df.has(e)?e:"apa");t=Wi.has(t)?t:void 0;const l=m2(e,t,s,function(f){if(Object.prototype.hasOwnProperty.call(n,f))return n[f];throw new Error(`Cannot find entry with id '${f}'`)},f2);return l.setOutputFormat(r),l.opt.development_extensions.wrap_url_and_doi=!1,l},p2=(i,e,t)=>i.replace(/^\s*<[a-z]+/i,`$& data-${e}="${t}"`),c2=(i,e)=>p2(i,"csl-entry-id",e),dh=(i,e)=>typeof e=="function"?e(i):e||"";function h2(i,e={}){const{template:t="apa",lang:r,format:n="text",nosort:s=!1}=e,o=e.entry?[].concat(e.entry):i.map(({id:_})=>_);i=In(i);const l=Vf(i,t,r,n),f=l.updateItems(o,s);if(e.append||e.prepend){const _=i.reduce((E,b)=>(E[b.id]=b,E),{});l.sys.wrapBibliographyEntry=function(E){const b=_[E];return[dh(b,e.prepend),dh(b,e.append)]}}e.hyperlinks&&(l.opt.development_extensions.wrap_url_and_doi=!0);const m=l.makeBibliography(),[{bibstart:p,bibend:d},g]=m,h=g.map((_,E)=>c2(_,f[E]));return e.asEntryArray?h.map((_,E)=>[f[E],_]):p+h.join("")+d}function d2(i){return typeof i=="object"?i:{id:i}}function Sb(i){return i.citationItems?i:{citationItems:[].concat(i).map(d2),properties:{noteIndex:0}}}function gh(i){return i?i.map(Sb):[]}function g2(i,e={}){const{template:t="apa",lang:r,format:n="text"}=e,s=i.map(({id:g})=>g),o=e.entry?e.entry:s;i=In(i);const l=Vf(i,t,r,n),f=gh(e.citationsPre),m=Sb(o),p=gh(e.citationsPost);return l.rebuildProcessorState([...f,m,...p],n,[])[f.length][2]}mb("@csl",{output:{bibliography:h2,citation:g2},config:{engine:Vf,locales:Wi,templates:Df}});var Tn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var v2=Tn.exports,vh;function b2(){return vh||(vh=1,function(i,e){(function(){var t,r="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,p="__lodash_placeholder__",d=1,g=2,h=4,_=1,E=2,b=1,S=2,x=4,O=8,w=16,T=32,q=64,N=128,W=256,C=512,I=30,z="...",X=800,ee=16,Y=1,K=2,se=3,F=1/0,G=9007199254740991,V=17976931348623157e292,me=NaN,ue=4294967295,M=ue-1,te=ue>>>1,ie=[["ary",N],["bind",b],["bindKey",S],["curry",O],["curryRight",w],["flip",C],["partial",T],["partialRight",q],["rearg",W]],we="[object Arguments]",Re="[object Array]",Te="[object AsyncFunction]",Se="[object Boolean]",Ie="[object Date]",Ne="[object DOMException]",je="[object Error]",Le="[object Function]",Be="[object GeneratorFunction]",Ve="[object Map]",Je="[object Number]",B="[object Null]",A="[object Object]",k="[object Promise]",U="[object Proxy]",H="[object RegExp]",ae="[object Set]",pe="[object String]",Pe="[object Symbol]",v="[object Undefined]",J="[object WeakMap]",le="[object WeakSet]",ge="[object ArrayBuffer]",he="[object DataView]",ke="[object Float32Array]",D="[object Float64Array]",ne="[object Int8Array]",fe="[object Int16Array]",be="[object Int32Array]",xe="[object Uint8Array]",ce="[object Uint8ClampedArray]",Ce="[object Uint16Array]",ye="[object Uint32Array]",Fe=/\b__p \+= '';/g,We=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,rn=RegExp(kt.source),Ar=RegExp(pt.source),nn=/<%-([\s\S]+?)%>/g,ra=/<%([\s\S]+?)%>/g,Oi=/<%=([\s\S]+?)%>/g,ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gn=/^\w*$/,ia=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,Vt=RegExp(Wt.source),Wr=/^\s+/,Hn=/\s/,n0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,s0=/\{\n\/\* \[wrapped with (.+)\] \*/,a0=/,? & /,o0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,l0=/[()=,{}\[\]\/\s]/,u0=/\\(\\)?/g,f0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nm=/\w*$/,m0=/^[-+]0x[0-9a-f]+$/i,p0=/^0b[01]+$/i,c0=/^\[object .+?Constructor\]$/,h0=/^0o[0-7]+$/i,d0=/^(?:0|[1-9]\d*)$/,g0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn=/($^)/,v0=/['\n\r\u2028\u2029\\]/g,$n="\\ud800-\\udfff",b0="\\u0300-\\u036f",_0="\\ufe20-\\ufe2f",y0="\\u20d0-\\u20ff",sm=b0+_0+y0,am="\\u2700-\\u27bf",om="a-z\\xdf-\\xf6\\xf8-\\xff",x0="\\xac\\xb1\\xd7\\xf7",A0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",w0="\\u2000-\\u206f",E0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lm="A-Z\\xc0-\\xd6\\xd8-\\xde",um="\\ufe0e\\ufe0f",fm=x0+A0+w0+E0,na="['â]",T0="["+$n+"]",mm="["+fm+"]",Wn="["+sm+"]",pm="\\d+",S0="["+am+"]",cm="["+om+"]",hm="[^"+$n+fm+pm+am+om+lm+"]",sa="\\ud83c[\\udffb-\\udfff]",O0="(?:"+Wn+"|"+sa+")",dm="[^"+$n+"]",aa="(?:\\ud83c[\\udde6-\\uddff]){2}",oa="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+lm+"]",gm="\\u200d",vm="(?:"+cm+"|"+hm+")",k0="(?:"+ki+"|"+hm+")",bm="(?:"+na+"(?:d|ll|m|re|s|t|ve))?",_m="(?:"+na+"(?:D|LL|M|RE|S|T|VE))?",ym=O0+"?",xm="["+um+"]?",C0="(?:"+gm+"(?:"+[dm,aa,oa].join("|")+")"+xm+ym+")*",R0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",I0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Am=xm+ym+C0,N0="(?:"+[S0,aa,oa].join("|")+")"+Am,D0="(?:"+[dm+Wn+"?",Wn,aa,oa,T0].join("|")+")",F0=RegExp(na,"g"),L0=RegExp(Wn,"g"),la=RegExp(sa+"(?="+sa+")|"+D0+Am,"g"),B0=RegExp([ki+"?"+cm+"+"+bm+"(?="+[mm,ki,"$"].join("|")+")",k0+"+"+_m+"(?="+[mm,ki+vm,"$"].join("|")+")",ki+"?"+vm+"+"+bm,ki+"+"+_m,I0,R0,pm,N0].join("|"),"g"),P0=RegExp("["+gm+$n+sm+um+"]"),q0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],M0=-1,xt={};xt[ke]=xt[D]=xt[ne]=xt[fe]=xt[be]=xt[xe]=xt[ce]=xt[Ce]=xt[ye]=!0,xt[we]=xt[Re]=xt[ge]=xt[Se]=xt[he]=xt[Ie]=xt[je]=xt[Le]=xt[Ve]=xt[Je]=xt[A]=xt[H]=xt[ae]=xt[pe]=xt[J]=!1;var _t={};_t[we]=_t[Re]=_t[ge]=_t[he]=_t[Se]=_t[Ie]=_t[ke]=_t[D]=_t[ne]=_t[fe]=_t[be]=_t[Ve]=_t[Je]=_t[A]=_t[H]=_t[ae]=_t[pe]=_t[Pe]=_t[xe]=_t[ce]=_t[Ce]=_t[ye]=!0,_t[je]=_t[Le]=_t[J]=!1;var z0={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},j0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},H0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},X0=parseFloat,$0=parseInt,wm=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,W0=typeof self=="object"&&self&&self.Object===Object&&self,Bt=wm||W0||Function("return this")(),ua=e&&!e.nodeType&&e,oi=ua&&!0&&i&&!i.nodeType&&i,Em=oi&&oi.exports===ua,fa=Em&&wm.process,lr=function(){try{var Q=oi&&oi.require&&oi.require("util").types;return Q||fa&&fa.binding&&fa.binding("util")}catch{}}(),Tm=lr&&lr.isArrayBuffer,Sm=lr&&lr.isDate,Om=lr&&lr.isMap,km=lr&&lr.isRegExp,Cm=lr&&lr.isSet,Rm=lr&&lr.isTypedArray;function er(Q,de,oe){switch(oe.length){case 0:return Q.call(de);case 1:return Q.call(de,oe[0]);case 2:return Q.call(de,oe[0],oe[1]);case 3:return Q.call(de,oe[0],oe[1],oe[2])}return Q.apply(de,oe)}function V0(Q,de,oe,qe){for(var Ke=-1,lt=Q==null?0:Q.length;++Ke<lt;){var Nt=Q[Ke];de(qe,Nt,oe(Nt),Q)}return qe}function ur(Q,de){for(var oe=-1,qe=Q==null?0:Q.length;++oe<qe&&de(Q[oe],oe,Q)!==!1;);return Q}function K0(Q,de){for(var oe=Q==null?0:Q.length;oe--&&de(Q[oe],oe,Q)!==!1;);return Q}function Im(Q,de){for(var oe=-1,qe=Q==null?0:Q.length;++oe<qe;)if(!de(Q[oe],oe,Q))return!1;return!0}function Vr(Q,de){for(var oe=-1,qe=Q==null?0:Q.length,Ke=0,lt=[];++oe<qe;){var Nt=Q[oe];de(Nt,oe,Q)&&(lt[Ke++]=Nt)}return lt}function Vn(Q,de){var oe=Q==null?0:Q.length;return!!oe&&Ci(Q,de,0)>-1}function ma(Q,de,oe){for(var qe=-1,Ke=Q==null?0:Q.length;++qe<Ke;)if(oe(de,Q[qe]))return!0;return!1}function wt(Q,de){for(var oe=-1,qe=Q==null?0:Q.length,Ke=Array(qe);++oe<qe;)Ke[oe]=de(Q[oe],oe,Q);return Ke}function Kr(Q,de){for(var oe=-1,qe=de.length,Ke=Q.length;++oe<qe;)Q[Ke+oe]=de[oe];return Q}function pa(Q,de,oe,qe){var Ke=-1,lt=Q==null?0:Q.length;for(qe&&lt&&(oe=Q[++Ke]);++Ke<lt;)oe=de(oe,Q[Ke],Ke,Q);return oe}function J0(Q,de,oe,qe){var Ke=Q==null?0:Q.length;for(qe&&Ke&&(oe=Q[--Ke]);Ke--;)oe=de(oe,Q[Ke],Ke,Q);return oe}function ca(Q,de){for(var oe=-1,qe=Q==null?0:Q.length;++oe<qe;)if(de(Q[oe],oe,Q))return!0;return!1}var Y0=ha("length");function Q0(Q){return Q.split("")}function Z0(Q){return Q.match(o0)||[]}function Nm(Q,de,oe){var qe;return oe(Q,function(Ke,lt,Nt){if(de(Ke,lt,Nt))return qe=lt,!1}),qe}function Kn(Q,de,oe,qe){for(var Ke=Q.length,lt=oe+(qe?1:-1);qe?lt--:++lt<Ke;)if(de(Q[lt],lt,Q))return lt;return-1}function Ci(Q,de,oe){return de===de?m_(Q,de,oe):Kn(Q,Dm,oe)}function e_(Q,de,oe,qe){for(var Ke=oe-1,lt=Q.length;++Ke<lt;)if(qe(Q[Ke],de))return Ke;return-1}function Dm(Q){return Q!==Q}function Fm(Q,de){var oe=Q==null?0:Q.length;return oe?ga(Q,de)/oe:me}function ha(Q){return function(de){return de==null?t:de[Q]}}function da(Q){return function(de){return Q==null?t:Q[de]}}function Lm(Q,de,oe,qe,Ke){return Ke(Q,function(lt,Nt,vt){oe=qe?(qe=!1,lt):de(oe,lt,Nt,vt)}),oe}function t_(Q,de){var oe=Q.length;for(Q.sort(de);oe--;)Q[oe]=Q[oe].value;return Q}function ga(Q,de){for(var oe,qe=-1,Ke=Q.length;++qe<Ke;){var lt=de(Q[qe]);lt!==t&&(oe=oe===t?lt:oe+lt)}return oe}function va(Q,de){for(var oe=-1,qe=Array(Q);++oe<Q;)qe[oe]=de(oe);return qe}function r_(Q,de){return wt(de,function(oe){return[oe,Q[oe]]})}function Bm(Q){return Q&&Q.slice(0,Mm(Q)+1).replace(Wr,"")}function tr(Q){return function(de){return Q(de)}}function ba(Q,de){return wt(de,function(oe){return Q[oe]})}function sn(Q,de){return Q.has(de)}function Pm(Q,de){for(var oe=-1,qe=Q.length;++oe<qe&&Ci(de,Q[oe],0)>-1;);return oe}function qm(Q,de){for(var oe=Q.length;oe--&&Ci(de,Q[oe],0)>-1;);return oe}function i_(Q,de){for(var oe=Q.length,qe=0;oe--;)Q[oe]===de&&++qe;return qe}var n_=da(z0),s_=da(j0);function a_(Q){return"\\"+H0[Q]}function o_(Q,de){return Q==null?t:Q[de]}function Ri(Q){return P0.test(Q)}function l_(Q){return q0.test(Q)}function u_(Q){for(var de,oe=[];!(de=Q.next()).done;)oe.push(de.value);return oe}function _a(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function(qe,Ke){oe[++de]=[Ke,qe]}),oe}function Um(Q,de){return function(oe){return Q(de(oe))}}function Jr(Q,de){for(var oe=-1,qe=Q.length,Ke=0,lt=[];++oe<qe;){var Nt=Q[oe];(Nt===de||Nt===p)&&(Q[oe]=p,lt[Ke++]=oe)}return lt}function Jn(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function(qe){oe[++de]=qe}),oe}function f_(Q){var de=-1,oe=Array(Q.size);return Q.forEach(function(qe){oe[++de]=[qe,qe]}),oe}function m_(Q,de,oe){for(var qe=oe-1,Ke=Q.length;++qe<Ke;)if(Q[qe]===de)return qe;return-1}function p_(Q,de,oe){for(var qe=oe+1;qe--;)if(Q[qe]===de)return qe;return qe}function Ii(Q){return Ri(Q)?h_(Q):Y0(Q)}function gr(Q){return Ri(Q)?d_(Q):Q0(Q)}function Mm(Q){for(var de=Q.length;de--&&Hn.test(Q.charAt(de)););return de}var c_=da(G0);function h_(Q){for(var de=la.lastIndex=0;la.test(Q);)++de;return de}function d_(Q){return Q.match(la)||[]}function g_(Q){return Q.match(B0)||[]}var v_=function Q(de){de=de==null?Bt:Ni.defaults(Bt.Object(),de,Ni.pick(Bt,U0));var oe=de.Array,qe=de.Date,Ke=de.Error,lt=de.Function,Nt=de.Math,vt=de.Object,ya=de.RegExp,b_=de.String,fr=de.TypeError,Yn=oe.prototype,__=lt.prototype,Di=vt.prototype,Qn=de["__core-js_shared__"],Zn=__.toString,ct=Di.hasOwnProperty,y_=0,zm=function(){var a=/[^.]+$/.exec(Qn&&Qn.keys&&Qn.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),es=Di.toString,x_=Zn.call(vt),A_=Bt._,w_=ya("^"+Zn.call(ct).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ts=Em?de.Buffer:t,Yr=de.Symbol,rs=de.Uint8Array,jm=ts?ts.allocUnsafe:t,is=Um(vt.getPrototypeOf,vt),Gm=vt.create,Hm=Di.propertyIsEnumerable,ns=Yn.splice,Xm=Yr?Yr.isConcatSpreadable:t,an=Yr?Yr.iterator:t,li=Yr?Yr.toStringTag:t,ss=function(){try{var a=ci(vt,"defineProperty");return a({},"",{}),a}catch{}}(),E_=de.clearTimeout!==Bt.clearTimeout&&de.clearTimeout,T_=qe&&qe.now!==Bt.Date.now&&qe.now,S_=de.setTimeout!==Bt.setTimeout&&de.setTimeout,as=Nt.ceil,os=Nt.floor,xa=vt.getOwnPropertySymbols,O_=ts?ts.isBuffer:t,$m=de.isFinite,k_=Yn.join,C_=Um(vt.keys,vt),Dt=Nt.max,qt=Nt.min,R_=qe.now,I_=de.parseInt,Wm=Nt.random,N_=Yn.reverse,Aa=ci(de,"DataView"),on=ci(de,"Map"),wa=ci(de,"Promise"),Fi=ci(de,"Set"),ln=ci(de,"WeakMap"),un=ci(vt,"create"),ls=ln&&new ln,Li={},D_=hi(Aa),F_=hi(on),L_=hi(wa),B_=hi(Fi),P_=hi(ln),us=Yr?Yr.prototype:t,fn=us?us.valueOf:t,Vm=us?us.toString:t;function L(a){if(St(a)&&!Ye(a)&&!(a instanceof st)){if(a instanceof mr)return a;if(ct.call(a,"__wrapped__"))return Kp(a)}return new mr(a)}var Bi=function(){function a(){}return function(u){if(!Et(u))return{};if(Gm)return Gm(u);a.prototype=u;var c=new a;return a.prototype=t,c}}();function fs(){}function mr(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}L.templateSettings={escape:nn,evaluate:ra,interpolate:Oi,variable:"",imports:{_:L}},L.prototype=fs.prototype,L.prototype.constructor=L,mr.prototype=Bi(fs.prototype),mr.prototype.constructor=mr;function st(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function q_(){var a=new st(this.__wrapped__);return a.__actions__=Kt(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Kt(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Kt(this.__views__),a}function U_(){if(this.__filtered__){var a=new st(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function M_(){var a=this.__wrapped__.value(),u=this.__dir__,c=Ye(a),y=u<0,R=c?a.length:0,P=Qy(0,R,this.__views__),j=P.start,$=P.end,Z=$-j,ve=y?$:j-1,_e=this.__iteratees__,Ae=_e.length,De=0,ze=qt(Z,this.__takeCount__);if(!c||!y&&R==Z&&ze==Z)return bp(a,this.__actions__);var Xe=[];e:for(;Z--&&De<ze;){ve+=u;for(var Ze=-1,$e=a[ve];++Ze<Ae;){var it=_e[Ze],at=it.iteratee,nr=it.type,Xt=at($e);if(nr==K)$e=Xt;else if(!Xt){if(nr==Y)continue e;break e}}Xe[De++]=$e}return Xe}st.prototype=Bi(fs.prototype),st.prototype.constructor=st;function ui(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var y=a[u];this.set(y[0],y[1])}}function z_(){this.__data__=un?un(null):{},this.size=0}function j_(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function G_(a){var u=this.__data__;if(un){var c=u[a];return c===f?t:c}return ct.call(u,a)?u[a]:t}function H_(a){var u=this.__data__;return un?u[a]!==t:ct.call(u,a)}function X_(a,u){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=un&&u===t?f:u,this}ui.prototype.clear=z_,ui.prototype.delete=j_,ui.prototype.get=G_,ui.prototype.has=H_,ui.prototype.set=X_;function Fr(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var y=a[u];this.set(y[0],y[1])}}function $_(){this.__data__=[],this.size=0}function W_(a){var u=this.__data__,c=ms(u,a);if(c<0)return!1;var y=u.length-1;return c==y?u.pop():ns.call(u,c,1),--this.size,!0}function V_(a){var u=this.__data__,c=ms(u,a);return c<0?t:u[c][1]}function K_(a){return ms(this.__data__,a)>-1}function J_(a,u){var c=this.__data__,y=ms(c,a);return y<0?(++this.size,c.push([a,u])):c[y][1]=u,this}Fr.prototype.clear=$_,Fr.prototype.delete=W_,Fr.prototype.get=V_,Fr.prototype.has=K_,Fr.prototype.set=J_;function Lr(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var y=a[u];this.set(y[0],y[1])}}function Y_(){this.size=0,this.__data__={hash:new ui,map:new(on||Fr),string:new ui}}function Q_(a){var u=ws(this,a).delete(a);return this.size-=u?1:0,u}function Z_(a){return ws(this,a).get(a)}function ey(a){return ws(this,a).has(a)}function ty(a,u){var c=ws(this,a),y=c.size;return c.set(a,u),this.size+=c.size==y?0:1,this}Lr.prototype.clear=Y_,Lr.prototype.delete=Q_,Lr.prototype.get=Z_,Lr.prototype.has=ey,Lr.prototype.set=ty;function fi(a){var u=-1,c=a==null?0:a.length;for(this.__data__=new Lr;++u<c;)this.add(a[u])}function ry(a){return this.__data__.set(a,f),this}function iy(a){return this.__data__.has(a)}fi.prototype.add=fi.prototype.push=ry,fi.prototype.has=iy;function vr(a){var u=this.__data__=new Fr(a);this.size=u.size}function ny(){this.__data__=new Fr,this.size=0}function sy(a){var u=this.__data__,c=u.delete(a);return this.size=u.size,c}function ay(a){return this.__data__.get(a)}function oy(a){return this.__data__.has(a)}function ly(a,u){var c=this.__data__;if(c instanceof Fr){var y=c.__data__;if(!on||y.length<n-1)return y.push([a,u]),this.size=++c.size,this;c=this.__data__=new Lr(y)}return c.set(a,u),this.size=c.size,this}vr.prototype.clear=ny,vr.prototype.delete=sy,vr.prototype.get=ay,vr.prototype.has=oy,vr.prototype.set=ly;function Km(a,u){var c=Ye(a),y=!c&&di(a),R=!c&&!y&&ri(a),P=!c&&!y&&!R&&Mi(a),j=c||y||R||P,$=j?va(a.length,b_):[],Z=$.length;for(var ve in a)(u||ct.call(a,ve))&&!(j&&(ve=="length"||R&&(ve=="offset"||ve=="parent")||P&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Ur(ve,Z)))&&$.push(ve);return $}function Jm(a){var u=a.length;return u?a[Fa(0,u-1)]:t}function uy(a,u){return Es(Kt(a),mi(u,0,a.length))}function fy(a){return Es(Kt(a))}function Ea(a,u,c){(c!==t&&!br(a[u],c)||c===t&&!(u in a))&&Br(a,u,c)}function mn(a,u,c){var y=a[u];(!(ct.call(a,u)&&br(y,c))||c===t&&!(u in a))&&Br(a,u,c)}function ms(a,u){for(var c=a.length;c--;)if(br(a[c][0],u))return c;return-1}function my(a,u,c,y){return Qr(a,function(R,P,j){u(y,R,c(R),j)}),y}function Ym(a,u){return a&&Er(u,Ft(u),a)}function py(a,u){return a&&Er(u,Yt(u),a)}function Br(a,u,c){u=="__proto__"&&ss?ss(a,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[u]=c}function Ta(a,u){for(var c=-1,y=u.length,R=oe(y),P=a==null;++c<y;)R[c]=P?t:so(a,u[c]);return R}function mi(a,u,c){return a===a&&(c!==t&&(a=a<=c?a:c),u!==t&&(a=a>=u?a:u)),a}function pr(a,u,c,y,R,P){var j,$=u&d,Z=u&g,ve=u&h;if(c&&(j=R?c(a,y,R,P):c(a)),j!==t)return j;if(!Et(a))return a;var _e=Ye(a);if(_e){if(j=e1(a),!$)return Kt(a,j)}else{var Ae=Ut(a),De=Ae==Le||Ae==Be;if(ri(a))return xp(a,$);if(Ae==A||Ae==we||De&&!R){if(j=Z||De?{}:Mp(a),!$)return Z?Gy(a,py(j,a)):jy(a,Ym(j,a))}else{if(!_t[Ae])return R?a:{};j=t1(a,Ae,$)}}P||(P=new vr);var ze=P.get(a);if(ze)return ze;P.set(a,j),dc(a)?a.forEach(function($e){j.add(pr($e,u,c,$e,a,P))}):cc(a)&&a.forEach(function($e,it){j.set(it,pr($e,u,c,it,a,P))});var Xe=ve?Z?Xa:Ha:Z?Yt:Ft,Ze=_e?t:Xe(a);return ur(Ze||a,function($e,it){Ze&&(it=$e,$e=a[it]),mn(j,it,pr($e,u,c,it,a,P))}),j}function cy(a){var u=Ft(a);return function(c){return Qm(c,a,u)}}function Qm(a,u,c){var y=c.length;if(a==null)return!y;for(a=vt(a);y--;){var R=c[y],P=u[R],j=a[R];if(j===t&&!(R in a)||!P(j))return!1}return!0}function Zm(a,u,c){if(typeof a!="function")throw new fr(o);return bn(function(){a.apply(t,c)},u)}function pn(a,u,c,y){var R=-1,P=Vn,j=!0,$=a.length,Z=[],ve=u.length;if(!$)return Z;c&&(u=wt(u,tr(c))),y?(P=ma,j=!1):u.length>=n&&(P=sn,j=!1,u=new fi(u));e:for(;++R<$;){var _e=a[R],Ae=c==null?_e:c(_e);if(_e=y||_e!==0?_e:0,j&&Ae===Ae){for(var De=ve;De--;)if(u[De]===Ae)continue e;Z.push(_e)}else P(u,Ae,y)||Z.push(_e)}return Z}var Qr=Sp(wr),ep=Sp(Oa,!0);function hy(a,u){var c=!0;return Qr(a,function(y,R,P){return c=!!u(y,R,P),c}),c}function ps(a,u,c){for(var y=-1,R=a.length;++y<R;){var P=a[y],j=u(P);if(j!=null&&($===t?j===j&&!ir(j):c(j,$)))var $=j,Z=P}return Z}function dy(a,u,c,y){var R=a.length;for(c=Qe(c),c<0&&(c=-c>R?0:R+c),y=y===t||y>R?R:Qe(y),y<0&&(y+=R),y=c>y?0:vc(y);c<y;)a[c++]=u;return a}function tp(a,u){var c=[];return Qr(a,function(y,R,P){u(y,R,P)&&c.push(y)}),c}function Pt(a,u,c,y,R){var P=-1,j=a.length;for(c||(c=i1),R||(R=[]);++P<j;){var $=a[P];u>0&&c($)?u>1?Pt($,u-1,c,y,R):Kr(R,$):y||(R[R.length]=$)}return R}var Sa=Op(),rp=Op(!0);function wr(a,u){return a&&Sa(a,u,Ft)}function Oa(a,u){return a&&rp(a,u,Ft)}function cs(a,u){return Vr(u,function(c){return Mr(a[c])})}function pi(a,u){u=ei(u,a);for(var c=0,y=u.length;a!=null&&c<y;)a=a[Tr(u[c++])];return c&&c==y?a:t}function ip(a,u,c){var y=u(a);return Ye(a)?y:Kr(y,c(a))}function Gt(a){return a==null?a===t?v:B:li&&li in vt(a)?Yy(a):f1(a)}function ka(a,u){return a>u}function gy(a,u){return a!=null&&ct.call(a,u)}function vy(a,u){return a!=null&&u in vt(a)}function by(a,u,c){return a>=qt(u,c)&&a<Dt(u,c)}function Ca(a,u,c){for(var y=c?ma:Vn,R=a[0].length,P=a.length,j=P,$=oe(P),Z=1/0,ve=[];j--;){var _e=a[j];j&&u&&(_e=wt(_e,tr(u))),Z=qt(_e.length,Z),$[j]=!c&&(u||R>=120&&_e.length>=120)?new fi(j&&_e):t}_e=a[0];var Ae=-1,De=$[0];e:for(;++Ae<R&&ve.length<Z;){var ze=_e[Ae],Xe=u?u(ze):ze;if(ze=c||ze!==0?ze:0,!(De?sn(De,Xe):y(ve,Xe,c))){for(j=P;--j;){var Ze=$[j];if(!(Ze?sn(Ze,Xe):y(a[j],Xe,c)))continue e}De&&De.push(Xe),ve.push(ze)}}return ve}function _y(a,u,c,y){return wr(a,function(R,P,j){u(y,c(R),P,j)}),y}function cn(a,u,c){u=ei(u,a),a=Hp(a,u);var y=a==null?a:a[Tr(hr(u))];return y==null?t:er(y,a,c)}function np(a){return St(a)&&Gt(a)==we}function yy(a){return St(a)&&Gt(a)==ge}function xy(a){return St(a)&&Gt(a)==Ie}function hn(a,u,c,y,R){return a===u?!0:a==null||u==null||!St(a)&&!St(u)?a!==a&&u!==u:Ay(a,u,c,y,hn,R)}function Ay(a,u,c,y,R,P){var j=Ye(a),$=Ye(u),Z=j?Re:Ut(a),ve=$?Re:Ut(u);Z=Z==we?A:Z,ve=ve==we?A:ve;var _e=Z==A,Ae=ve==A,De=Z==ve;if(De&&ri(a)){if(!ri(u))return!1;j=!0,_e=!1}if(De&&!_e)return P||(P=new vr),j||Mi(a)?Pp(a,u,c,y,R,P):Ky(a,u,Z,c,y,R,P);if(!(c&_)){var ze=_e&&ct.call(a,"__wrapped__"),Xe=Ae&&ct.call(u,"__wrapped__");if(ze||Xe){var Ze=ze?a.value():a,$e=Xe?u.value():u;return P||(P=new vr),R(Ze,$e,c,y,P)}}return De?(P||(P=new vr),Jy(a,u,c,y,R,P)):!1}function wy(a){return St(a)&&Ut(a)==Ve}function Ra(a,u,c,y){var R=c.length,P=R,j=!y;if(a==null)return!P;for(a=vt(a);R--;){var $=c[R];if(j&&$[2]?$[1]!==a[$[0]]:!($[0]in a))return!1}for(;++R<P;){$=c[R];var Z=$[0],ve=a[Z],_e=$[1];if(j&&$[2]){if(ve===t&&!(Z in a))return!1}else{var Ae=new vr;if(y)var De=y(ve,_e,Z,a,u,Ae);if(!(De===t?hn(_e,ve,_|E,y,Ae):De))return!1}}return!0}function sp(a){if(!Et(a)||s1(a))return!1;var u=Mr(a)?w_:c0;return u.test(hi(a))}function Ey(a){return St(a)&&Gt(a)==H}function Ty(a){return St(a)&&Ut(a)==ae}function Sy(a){return St(a)&&Rs(a.length)&&!!xt[Gt(a)]}function ap(a){return typeof a=="function"?a:a==null?Qt:typeof a=="object"?Ye(a)?up(a[0],a[1]):lp(a):kc(a)}function Ia(a){if(!vn(a))return C_(a);var u=[];for(var c in vt(a))ct.call(a,c)&&c!="constructor"&&u.push(c);return u}function Oy(a){if(!Et(a))return u1(a);var u=vn(a),c=[];for(var y in a)y=="constructor"&&(u||!ct.call(a,y))||c.push(y);return c}function Na(a,u){return a<u}function op(a,u){var c=-1,y=Jt(a)?oe(a.length):[];return Qr(a,function(R,P,j){y[++c]=u(R,P,j)}),y}function lp(a){var u=Wa(a);return u.length==1&&u[0][2]?jp(u[0][0],u[0][1]):function(c){return c===a||Ra(c,a,u)}}function up(a,u){return Ka(a)&&zp(u)?jp(Tr(a),u):function(c){var y=so(c,a);return y===t&&y===u?ao(c,a):hn(u,y,_|E)}}function hs(a,u,c,y,R){a!==u&&Sa(u,function(P,j){if(R||(R=new vr),Et(P))ky(a,u,j,c,hs,y,R);else{var $=y?y(Ya(a,j),P,j+"",a,u,R):t;$===t&&($=P),Ea(a,j,$)}},Yt)}function ky(a,u,c,y,R,P,j){var $=Ya(a,c),Z=Ya(u,c),ve=j.get(Z);if(ve){Ea(a,c,ve);return}var _e=P?P($,Z,c+"",a,u,j):t,Ae=_e===t;if(Ae){var De=Ye(Z),ze=!De&&ri(Z),Xe=!De&&!ze&&Mi(Z);_e=Z,De||ze||Xe?Ye($)?_e=$:Ct($)?_e=Kt($):ze?(Ae=!1,_e=xp(Z,!0)):Xe?(Ae=!1,_e=Ap(Z,!0)):_e=[]:_n(Z)||di(Z)?(_e=$,di($)?_e=bc($):(!Et($)||Mr($))&&(_e=Mp(Z))):Ae=!1}Ae&&(j.set(Z,_e),R(_e,Z,y,P,j),j.delete(Z)),Ea(a,c,_e)}function fp(a,u){var c=a.length;if(c)return u+=u<0?c:0,Ur(u,c)?a[u]:t}function mp(a,u,c){u.length?u=wt(u,function(P){return Ye(P)?function(j){return pi(j,P.length===1?P[0]:P)}:P}):u=[Qt];var y=-1;u=wt(u,tr(Ge()));var R=op(a,function(P,j,$){var Z=wt(u,function(ve){return ve(P)});return{criteria:Z,index:++y,value:P}});return t_(R,function(P,j){return zy(P,j,c)})}function Cy(a,u){return pp(a,u,function(c,y){return ao(a,y)})}function pp(a,u,c){for(var y=-1,R=u.length,P={};++y<R;){var j=u[y],$=pi(a,j);c($,j)&&dn(P,ei(j,a),$)}return P}function Ry(a){return function(u){return pi(u,a)}}function Da(a,u,c,y){var R=y?e_:Ci,P=-1,j=u.length,$=a;for(a===u&&(u=Kt(u)),c&&($=wt(a,tr(c)));++P<j;)for(var Z=0,ve=u[P],_e=c?c(ve):ve;(Z=R($,_e,Z,y))>-1;)$!==a&&ns.call($,Z,1),ns.call(a,Z,1);return a}function cp(a,u){for(var c=a?u.length:0,y=c-1;c--;){var R=u[c];if(c==y||R!==P){var P=R;Ur(R)?ns.call(a,R,1):Pa(a,R)}}return a}function Fa(a,u){return a+os(Wm()*(u-a+1))}function Iy(a,u,c,y){for(var R=-1,P=Dt(as((u-a)/(c||1)),0),j=oe(P);P--;)j[y?P:++R]=a,a+=c;return j}function La(a,u){var c="";if(!a||u<1||u>G)return c;do u%2&&(c+=a),u=os(u/2),u&&(a+=a);while(u);return c}function et(a,u){return Qa(Gp(a,u,Qt),a+"")}function Ny(a){return Jm(zi(a))}function Dy(a,u){var c=zi(a);return Es(c,mi(u,0,c.length))}function dn(a,u,c,y){if(!Et(a))return a;u=ei(u,a);for(var R=-1,P=u.length,j=P-1,$=a;$!=null&&++R<P;){var Z=Tr(u[R]),ve=c;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return a;if(R!=j){var _e=$[Z];ve=y?y(_e,Z,$):t,ve===t&&(ve=Et(_e)?_e:Ur(u[R+1])?[]:{})}mn($,Z,ve),$=$[Z]}return a}var hp=ls?function(a,u){return ls.set(a,u),a}:Qt,Fy=ss?function(a,u){return ss(a,"toString",{configurable:!0,enumerable:!1,value:lo(u),writable:!0})}:Qt;function Ly(a){return Es(zi(a))}function cr(a,u,c){var y=-1,R=a.length;u<0&&(u=-u>R?0:R+u),c=c>R?R:c,c<0&&(c+=R),R=u>c?0:c-u>>>0,u>>>=0;for(var P=oe(R);++y<R;)P[y]=a[y+u];return P}function By(a,u){var c;return Qr(a,function(y,R,P){return c=u(y,R,P),!c}),!!c}function ds(a,u,c){var y=0,R=a==null?y:a.length;if(typeof u=="number"&&u===u&&R<=te){for(;y<R;){var P=y+R>>>1,j=a[P];j!==null&&!ir(j)&&(c?j<=u:j<u)?y=P+1:R=P}return R}return Ba(a,u,Qt,c)}function Ba(a,u,c,y){var R=0,P=a==null?0:a.length;if(P===0)return 0;u=c(u);for(var j=u!==u,$=u===null,Z=ir(u),ve=u===t;R<P;){var _e=os((R+P)/2),Ae=c(a[_e]),De=Ae!==t,ze=Ae===null,Xe=Ae===Ae,Ze=ir(Ae);if(j)var $e=y||Xe;else ve?$e=Xe&&(y||De):$?$e=Xe&&De&&(y||!ze):Z?$e=Xe&&De&&!ze&&(y||!Ze):ze||Ze?$e=!1:$e=y?Ae<=u:Ae<u;$e?R=_e+1:P=_e}return qt(P,M)}function dp(a,u){for(var c=-1,y=a.length,R=0,P=[];++c<y;){var j=a[c],$=u?u(j):j;if(!c||!br($,Z)){var Z=$;P[R++]=j===0?0:j}}return P}function gp(a){return typeof a=="number"?a:ir(a)?me:+a}function rr(a){if(typeof a=="string")return a;if(Ye(a))return wt(a,rr)+"";if(ir(a))return Vm?Vm.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}function Zr(a,u,c){var y=-1,R=Vn,P=a.length,j=!0,$=[],Z=$;if(c)j=!1,R=ma;else if(P>=n){var ve=u?null:Wy(a);if(ve)return Jn(ve);j=!1,R=sn,Z=new fi}else Z=u?[]:$;e:for(;++y<P;){var _e=a[y],Ae=u?u(_e):_e;if(_e=c||_e!==0?_e:0,j&&Ae===Ae){for(var De=Z.length;De--;)if(Z[De]===Ae)continue e;u&&Z.push(Ae),$.push(_e)}else R(Z,Ae,c)||(Z!==$&&Z.push(Ae),$.push(_e))}return $}function Pa(a,u){return u=ei(u,a),a=Hp(a,u),a==null||delete a[Tr(hr(u))]}function vp(a,u,c,y){return dn(a,u,c(pi(a,u)),y)}function gs(a,u,c,y){for(var R=a.length,P=y?R:-1;(y?P--:++P<R)&&u(a[P],P,a););return c?cr(a,y?0:P,y?P+1:R):cr(a,y?P+1:0,y?R:P)}function bp(a,u){var c=a;return c instanceof st&&(c=c.value()),pa(u,function(y,R){return R.func.apply(R.thisArg,Kr([y],R.args))},c)}function qa(a,u,c){var y=a.length;if(y<2)return y?Zr(a[0]):[];for(var R=-1,P=oe(y);++R<y;)for(var j=a[R],$=-1;++$<y;)$!=R&&(P[R]=pn(P[R]||j,a[$],u,c));return Zr(Pt(P,1),u,c)}function _p(a,u,c){for(var y=-1,R=a.length,P=u.length,j={};++y<R;){var $=y<P?u[y]:t;c(j,a[y],$)}return j}function Ua(a){return Ct(a)?a:[]}function Ma(a){return typeof a=="function"?a:Qt}function ei(a,u){return Ye(a)?a:Ka(a,u)?[a]:Vp(ft(a))}var Py=et;function ti(a,u,c){var y=a.length;return c=c===t?y:c,!u&&c>=y?a:cr(a,u,c)}var yp=E_||function(a){return Bt.clearTimeout(a)};function xp(a,u){if(u)return a.slice();var c=a.length,y=jm?jm(c):new a.constructor(c);return a.copy(y),y}function za(a){var u=new a.constructor(a.byteLength);return new rs(u).set(new rs(a)),u}function qy(a,u){var c=u?za(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Uy(a){var u=new a.constructor(a.source,nm.exec(a));return u.lastIndex=a.lastIndex,u}function My(a){return fn?vt(fn.call(a)):{}}function Ap(a,u){var c=u?za(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function wp(a,u){if(a!==u){var c=a!==t,y=a===null,R=a===a,P=ir(a),j=u!==t,$=u===null,Z=u===u,ve=ir(u);if(!$&&!ve&&!P&&a>u||P&&j&&Z&&!$&&!ve||y&&j&&Z||!c&&Z||!R)return 1;if(!y&&!P&&!ve&&a<u||ve&&c&&R&&!y&&!P||$&&c&&R||!j&&R||!Z)return-1}return 0}function zy(a,u,c){for(var y=-1,R=a.criteria,P=u.criteria,j=R.length,$=c.length;++y<j;){var Z=wp(R[y],P[y]);if(Z){if(y>=$)return Z;var ve=c[y];return Z*(ve=="desc"?-1:1)}}return a.index-u.index}function Ep(a,u,c,y){for(var R=-1,P=a.length,j=c.length,$=-1,Z=u.length,ve=Dt(P-j,0),_e=oe(Z+ve),Ae=!y;++$<Z;)_e[$]=u[$];for(;++R<j;)(Ae||R<P)&&(_e[c[R]]=a[R]);for(;ve--;)_e[$++]=a[R++];return _e}function Tp(a,u,c,y){for(var R=-1,P=a.length,j=-1,$=c.length,Z=-1,ve=u.length,_e=Dt(P-$,0),Ae=oe(_e+ve),De=!y;++R<_e;)Ae[R]=a[R];for(var ze=R;++Z<ve;)Ae[ze+Z]=u[Z];for(;++j<$;)(De||R<P)&&(Ae[ze+c[j]]=a[R++]);return Ae}function Kt(a,u){var c=-1,y=a.length;for(u||(u=oe(y));++c<y;)u[c]=a[c];return u}function Er(a,u,c,y){var R=!c;c||(c={});for(var P=-1,j=u.length;++P<j;){var $=u[P],Z=y?y(c[$],a[$],$,c,a):t;Z===t&&(Z=a[$]),R?Br(c,$,Z):mn(c,$,Z)}return c}function jy(a,u){return Er(a,Va(a),u)}function Gy(a,u){return Er(a,qp(a),u)}function vs(a,u){return function(c,y){var R=Ye(c)?V0:my,P=u?u():{};return R(c,a,Ge(y,2),P)}}function Pi(a){return et(function(u,c){var y=-1,R=c.length,P=R>1?c[R-1]:t,j=R>2?c[2]:t;for(P=a.length>3&&typeof P=="function"?(R--,P):t,j&&Ht(c[0],c[1],j)&&(P=R<3?t:P,R=1),u=vt(u);++y<R;){var $=c[y];$&&a(u,$,y,P)}return u})}function Sp(a,u){return function(c,y){if(c==null)return c;if(!Jt(c))return a(c,y);for(var R=c.length,P=u?R:-1,j=vt(c);(u?P--:++P<R)&&y(j[P],P,j)!==!1;);return c}}function Op(a){return function(u,c,y){for(var R=-1,P=vt(u),j=y(u),$=j.length;$--;){var Z=j[a?$:++R];if(c(P[Z],Z,P)===!1)break}return u}}function Hy(a,u,c){var y=u&b,R=gn(a);function P(){var j=this&&this!==Bt&&this instanceof P?R:a;return j.apply(y?c:this,arguments)}return P}function kp(a){return function(u){u=ft(u);var c=Ri(u)?gr(u):t,y=c?c[0]:u.charAt(0),R=c?ti(c,1).join(""):u.slice(1);return y[a]()+R}}function qi(a){return function(u){return pa(Sc(Tc(u).replace(F0,"")),a,"")}}function gn(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var c=Bi(a.prototype),y=a.apply(c,u);return Et(y)?y:c}}function Xy(a,u,c){var y=gn(a);function R(){for(var P=arguments.length,j=oe(P),$=P,Z=Ui(R);$--;)j[$]=arguments[$];var ve=P<3&&j[0]!==Z&&j[P-1]!==Z?[]:Jr(j,Z);if(P-=ve.length,P<c)return Dp(a,u,bs,R.placeholder,t,j,ve,t,t,c-P);var _e=this&&this!==Bt&&this instanceof R?y:a;return er(_e,this,j)}return R}function Cp(a){return function(u,c,y){var R=vt(u);if(!Jt(u)){var P=Ge(c,3);u=Ft(u),c=function($){return P(R[$],$,R)}}var j=a(u,c,y);return j>-1?R[P?u[j]:j]:t}}function Rp(a){return qr(function(u){var c=u.length,y=c,R=mr.prototype.thru;for(a&&u.reverse();y--;){var P=u[y];if(typeof P!="function")throw new fr(o);if(R&&!j&&As(P)=="wrapper")var j=new mr([],!0)}for(y=j?y:c;++y<c;){P=u[y];var $=As(P),Z=$=="wrapper"?$a(P):t;Z&&Ja(Z[0])&&Z[1]==(N|O|T|W)&&!Z[4].length&&Z[9]==1?j=j[As(Z[0])].apply(j,Z[3]):j=P.length==1&&Ja(P)?j[$]():j.thru(P)}return function(){var ve=arguments,_e=ve[0];if(j&&ve.length==1&&Ye(_e))return j.plant(_e).value();for(var Ae=0,De=c?u[Ae].apply(this,ve):_e;++Ae<c;)De=u[Ae].call(this,De);return De}})}function bs(a,u,c,y,R,P,j,$,Z,ve){var _e=u&N,Ae=u&b,De=u&S,ze=u&(O|w),Xe=u&C,Ze=De?t:gn(a);function $e(){for(var it=arguments.length,at=oe(it),nr=it;nr--;)at[nr]=arguments[nr];if(ze)var Xt=Ui($e),sr=i_(at,Xt);if(y&&(at=Ep(at,y,R,ze)),P&&(at=Tp(at,P,j,ze)),it-=sr,ze&&it<ve){var Rt=Jr(at,Xt);return Dp(a,u,bs,$e.placeholder,c,at,Rt,$,Z,ve-it)}var _r=Ae?c:this,jr=De?_r[a]:a;return it=at.length,$?at=m1(at,$):Xe&&it>1&&at.reverse(),_e&&Z<it&&(at.length=Z),this&&this!==Bt&&this instanceof $e&&(jr=Ze||gn(jr)),jr.apply(_r,at)}return $e}function Ip(a,u){return function(c,y){return _y(c,a,u(y),{})}}function _s(a,u){return function(c,y){var R;if(c===t&&y===t)return u;if(c!==t&&(R=c),y!==t){if(R===t)return y;typeof c=="string"||typeof y=="string"?(c=rr(c),y=rr(y)):(c=gp(c),y=gp(y)),R=a(c,y)}return R}}function ja(a){return qr(function(u){return u=wt(u,tr(Ge())),et(function(c){var y=this;return a(u,function(R){return er(R,y,c)})})})}function ys(a,u){u=u===t?" ":rr(u);var c=u.length;if(c<2)return c?La(u,a):u;var y=La(u,as(a/Ii(u)));return Ri(u)?ti(gr(y),0,a).join(""):y.slice(0,a)}function $y(a,u,c,y){var R=u&b,P=gn(a);function j(){for(var $=-1,Z=arguments.length,ve=-1,_e=y.length,Ae=oe(_e+Z),De=this&&this!==Bt&&this instanceof j?P:a;++ve<_e;)Ae[ve]=y[ve];for(;Z--;)Ae[ve++]=arguments[++$];return er(De,R?c:this,Ae)}return j}function Np(a){return function(u,c,y){return y&&typeof y!="number"&&Ht(u,c,y)&&(c=y=t),u=zr(u),c===t?(c=u,u=0):c=zr(c),y=y===t?u<c?1:-1:zr(y),Iy(u,c,y,a)}}function xs(a){return function(u,c){return typeof u=="string"&&typeof c=="string"||(u=dr(u),c=dr(c)),a(u,c)}}function Dp(a,u,c,y,R,P,j,$,Z,ve){var _e=u&O,Ae=_e?j:t,De=_e?t:j,ze=_e?P:t,Xe=_e?t:P;u|=_e?T:q,u&=~(_e?q:T),u&x||(u&=-4);var Ze=[a,u,R,ze,Ae,Xe,De,$,Z,ve],$e=c.apply(t,Ze);return Ja(a)&&Xp($e,Ze),$e.placeholder=y,$p($e,a,u)}function Ga(a){var u=Nt[a];return function(c,y){if(c=dr(c),y=y==null?0:qt(Qe(y),292),y&&$m(c)){var R=(ft(c)+"e").split("e"),P=u(R[0]+"e"+(+R[1]+y));return R=(ft(P)+"e").split("e"),+(R[0]+"e"+(+R[1]-y))}return u(c)}}var Wy=Fi&&1/Jn(new Fi([,-0]))[1]==F?function(a){return new Fi(a)}:mo;function Fp(a){return function(u){var c=Ut(u);return c==Ve?_a(u):c==ae?f_(u):r_(u,a(u))}}function Pr(a,u,c,y,R,P,j,$){var Z=u&S;if(!Z&&typeof a!="function")throw new fr(o);var ve=y?y.length:0;if(ve||(u&=-97,y=R=t),j=j===t?j:Dt(Qe(j),0),$=$===t?$:Qe($),ve-=R?R.length:0,u&q){var _e=y,Ae=R;y=R=t}var De=Z?t:$a(a),ze=[a,u,c,y,R,_e,Ae,P,j,$];if(De&&l1(ze,De),a=ze[0],u=ze[1],c=ze[2],y=ze[3],R=ze[4],$=ze[9]=ze[9]===t?Z?0:a.length:Dt(ze[9]-ve,0),!$&&u&(O|w)&&(u&=-25),!u||u==b)var Xe=Hy(a,u,c);else u==O||u==w?Xe=Xy(a,u,$):(u==T||u==(b|T))&&!R.length?Xe=$y(a,u,c,y):Xe=bs.apply(t,ze);var Ze=De?hp:Xp;return $p(Ze(Xe,ze),a,u)}function Lp(a,u,c,y){return a===t||br(a,Di[c])&&!ct.call(y,c)?u:a}function Bp(a,u,c,y,R,P){return Et(a)&&Et(u)&&(P.set(u,a),hs(a,u,t,Bp,P),P.delete(u)),a}function Vy(a){return _n(a)?t:a}function Pp(a,u,c,y,R,P){var j=c&_,$=a.length,Z=u.length;if($!=Z&&!(j&&Z>$))return!1;var ve=P.get(a),_e=P.get(u);if(ve&&_e)return ve==u&&_e==a;var Ae=-1,De=!0,ze=c&E?new fi:t;for(P.set(a,u),P.set(u,a);++Ae<$;){var Xe=a[Ae],Ze=u[Ae];if(y)var $e=j?y(Ze,Xe,Ae,u,a,P):y(Xe,Ze,Ae,a,u,P);if($e!==t){if($e)continue;De=!1;break}if(ze){if(!ca(u,function(it,at){if(!sn(ze,at)&&(Xe===it||R(Xe,it,c,y,P)))return ze.push(at)})){De=!1;break}}else if(!(Xe===Ze||R(Xe,Ze,c,y,P))){De=!1;break}}return P.delete(a),P.delete(u),De}function Ky(a,u,c,y,R,P,j){switch(c){case he:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case ge:return!(a.byteLength!=u.byteLength||!P(new rs(a),new rs(u)));case Se:case Ie:case Je:return br(+a,+u);case je:return a.name==u.name&&a.message==u.message;case H:case pe:return a==u+"";case Ve:var $=_a;case ae:var Z=y&_;if($||($=Jn),a.size!=u.size&&!Z)return!1;var ve=j.get(a);if(ve)return ve==u;y|=E,j.set(a,u);var _e=Pp($(a),$(u),y,R,P,j);return j.delete(a),_e;case Pe:if(fn)return fn.call(a)==fn.call(u)}return!1}function Jy(a,u,c,y,R,P){var j=c&_,$=Ha(a),Z=$.length,ve=Ha(u),_e=ve.length;if(Z!=_e&&!j)return!1;for(var Ae=Z;Ae--;){var De=$[Ae];if(!(j?De in u:ct.call(u,De)))return!1}var ze=P.get(a),Xe=P.get(u);if(ze&&Xe)return ze==u&&Xe==a;var Ze=!0;P.set(a,u),P.set(u,a);for(var $e=j;++Ae<Z;){De=$[Ae];var it=a[De],at=u[De];if(y)var nr=j?y(at,it,De,u,a,P):y(it,at,De,a,u,P);if(!(nr===t?it===at||R(it,at,c,y,P):nr)){Ze=!1;break}$e||($e=De=="constructor")}if(Ze&&!$e){var Xt=a.constructor,sr=u.constructor;Xt!=sr&&"constructor"in a&&"constructor"in u&&!(typeof Xt=="function"&&Xt instanceof Xt&&typeof sr=="function"&&sr instanceof sr)&&(Ze=!1)}return P.delete(a),P.delete(u),Ze}function qr(a){return Qa(Gp(a,t,Qp),a+"")}function Ha(a){return ip(a,Ft,Va)}function Xa(a){return ip(a,Yt,qp)}var $a=ls?function(a){return ls.get(a)}:mo;function As(a){for(var u=a.name+"",c=Li[u],y=ct.call(Li,u)?c.length:0;y--;){var R=c[y],P=R.func;if(P==null||P==a)return R.name}return u}function Ui(a){var u=ct.call(L,"placeholder")?L:a;return u.placeholder}function Ge(){var a=L.iteratee||uo;return a=a===uo?ap:a,arguments.length?a(arguments[0],arguments[1]):a}function ws(a,u){var c=a.__data__;return n1(u)?c[typeof u=="string"?"string":"hash"]:c.map}function Wa(a){for(var u=Ft(a),c=u.length;c--;){var y=u[c],R=a[y];u[c]=[y,R,zp(R)]}return u}function ci(a,u){var c=o_(a,u);return sp(c)?c:t}function Yy(a){var u=ct.call(a,li),c=a[li];try{a[li]=t;var y=!0}catch{}var R=es.call(a);return y&&(u?a[li]=c:delete a[li]),R}var Va=xa?function(a){return a==null?[]:(a=vt(a),Vr(xa(a),function(u){return Hm.call(a,u)}))}:po,qp=xa?function(a){for(var u=[];a;)Kr(u,Va(a)),a=is(a);return u}:po,Ut=Gt;(Aa&&Ut(new Aa(new ArrayBuffer(1)))!=he||on&&Ut(new on)!=Ve||wa&&Ut(wa.resolve())!=k||Fi&&Ut(new Fi)!=ae||ln&&Ut(new ln)!=J)&&(Ut=function(a){var u=Gt(a),c=u==A?a.constructor:t,y=c?hi(c):"";if(y)switch(y){case D_:return he;case F_:return Ve;case L_:return k;case B_:return ae;case P_:return J}return u});function Qy(a,u,c){for(var y=-1,R=c.length;++y<R;){var P=c[y],j=P.size;switch(P.type){case"drop":a+=j;break;case"dropRight":u-=j;break;case"take":u=qt(u,a+j);break;case"takeRight":a=Dt(a,u-j);break}}return{start:a,end:u}}function Zy(a){var u=a.match(s0);return u?u[1].split(a0):[]}function Up(a,u,c){u=ei(u,a);for(var y=-1,R=u.length,P=!1;++y<R;){var j=Tr(u[y]);if(!(P=a!=null&&c(a,j)))break;a=a[j]}return P||++y!=R?P:(R=a==null?0:a.length,!!R&&Rs(R)&&Ur(j,R)&&(Ye(a)||di(a)))}function e1(a){var u=a.length,c=new a.constructor(u);return u&&typeof a[0]=="string"&&ct.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Mp(a){return typeof a.constructor=="function"&&!vn(a)?Bi(is(a)):{}}function t1(a,u,c){var y=a.constructor;switch(u){case ge:return za(a);case Se:case Ie:return new y(+a);case he:return qy(a,c);case ke:case D:case ne:case fe:case be:case xe:case ce:case Ce:case ye:return Ap(a,c);case Ve:return new y;case Je:case pe:return new y(a);case H:return Uy(a);case ae:return new y;case Pe:return My(a)}}function r1(a,u){var c=u.length;if(!c)return a;var y=c-1;return u[y]=(c>1?"& ":"")+u[y],u=u.join(c>2?", ":" "),a.replace(n0,`{
/* [wrapped with `+u+`] */
`)}function i1(a){return Ye(a)||di(a)||!!(Xm&&a&&a[Xm])}function Ur(a,u){var c=typeof a;return u=u??G,!!u&&(c=="number"||c!="symbol"&&d0.test(a))&&a>-1&&a%1==0&&a<u}function Ht(a,u,c){if(!Et(c))return!1;var y=typeof u;return(y=="number"?Jt(c)&&Ur(u,c.length):y=="string"&&u in c)?br(c[u],a):!1}function Ka(a,u){if(Ye(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||ir(a)?!0:Gn.test(a)||!ai.test(a)||u!=null&&a in vt(u)}function n1(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function Ja(a){var u=As(a),c=L[u];if(typeof c!="function"||!(u in st.prototype))return!1;if(a===c)return!0;var y=$a(c);return!!y&&a===y[0]}function s1(a){return!!zm&&zm in a}var a1=Qn?Mr:co;function vn(a){var u=a&&a.constructor,c=typeof u=="function"&&u.prototype||Di;return a===c}function zp(a){return a===a&&!Et(a)}function jp(a,u){return function(c){return c==null?!1:c[a]===u&&(u!==t||a in vt(c))}}function o1(a){var u=ks(a,function(y){return c.size===m&&c.clear(),y}),c=u.cache;return u}function l1(a,u){var c=a[1],y=u[1],R=c|y,P=R<(b|S|N),j=y==N&&c==O||y==N&&c==W&&a[7].length<=u[8]||y==(N|W)&&u[7].length<=u[8]&&c==O;if(!(P||j))return a;y&b&&(a[2]=u[2],R|=c&b?0:x);var $=u[3];if($){var Z=a[3];a[3]=Z?Ep(Z,$,u[4]):$,a[4]=Z?Jr(a[3],p):u[4]}return $=u[5],$&&(Z=a[5],a[5]=Z?Tp(Z,$,u[6]):$,a[6]=Z?Jr(a[5],p):u[6]),$=u[7],$&&(a[7]=$),y&N&&(a[8]=a[8]==null?u[8]:qt(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=R,a}function u1(a){var u=[];if(a!=null)for(var c in vt(a))u.push(c);return u}function f1(a){return es.call(a)}function Gp(a,u,c){return u=Dt(u===t?a.length-1:u,0),function(){for(var y=arguments,R=-1,P=Dt(y.length-u,0),j=oe(P);++R<P;)j[R]=y[u+R];R=-1;for(var $=oe(u+1);++R<u;)$[R]=y[R];return $[u]=c(j),er(a,this,$)}}function Hp(a,u){return u.length<2?a:pi(a,cr(u,0,-1))}function m1(a,u){for(var c=a.length,y=qt(u.length,c),R=Kt(a);y--;){var P=u[y];a[y]=Ur(P,c)?R[P]:t}return a}function Ya(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var Xp=Wp(hp),bn=S_||function(a,u){return Bt.setTimeout(a,u)},Qa=Wp(Fy);function $p(a,u,c){var y=u+"";return Qa(a,r1(y,p1(Zy(y),c)))}function Wp(a){var u=0,c=0;return function(){var y=R_(),R=ee-(y-c);if(c=y,R>0){if(++u>=X)return arguments[0]}else u=0;return a.apply(t,arguments)}}function Es(a,u){var c=-1,y=a.length,R=y-1;for(u=u===t?y:u;++c<u;){var P=Fa(c,R),j=a[P];a[P]=a[c],a[c]=j}return a.length=u,a}var Vp=o1(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(ia,function(c,y,R,P){u.push(R?P.replace(u0,"$1"):y||c)}),u});function Tr(a){if(typeof a=="string"||ir(a))return a;var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}function hi(a){if(a!=null){try{return Zn.call(a)}catch{}try{return a+""}catch{}}return""}function p1(a,u){return ur(ie,function(c){var y="_."+c[0];u&c[1]&&!Vn(a,y)&&a.push(y)}),a.sort()}function Kp(a){if(a instanceof st)return a.clone();var u=new mr(a.__wrapped__,a.__chain__);return u.__actions__=Kt(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function c1(a,u,c){(c?Ht(a,u,c):u===t)?u=1:u=Dt(Qe(u),0);var y=a==null?0:a.length;if(!y||u<1)return[];for(var R=0,P=0,j=oe(as(y/u));R<y;)j[P++]=cr(a,R,R+=u);return j}function h1(a){for(var u=-1,c=a==null?0:a.length,y=0,R=[];++u<c;){var P=a[u];P&&(R[y++]=P)}return R}function d1(){var a=arguments.length;if(!a)return[];for(var u=oe(a-1),c=arguments[0],y=a;y--;)u[y-1]=arguments[y];return Kr(Ye(c)?Kt(c):[c],Pt(u,1))}var g1=et(function(a,u){return Ct(a)?pn(a,Pt(u,1,Ct,!0)):[]}),v1=et(function(a,u){var c=hr(u);return Ct(c)&&(c=t),Ct(a)?pn(a,Pt(u,1,Ct,!0),Ge(c,2)):[]}),b1=et(function(a,u){var c=hr(u);return Ct(c)&&(c=t),Ct(a)?pn(a,Pt(u,1,Ct,!0),t,c):[]});function _1(a,u,c){var y=a==null?0:a.length;return y?(u=c||u===t?1:Qe(u),cr(a,u<0?0:u,y)):[]}function y1(a,u,c){var y=a==null?0:a.length;return y?(u=c||u===t?1:Qe(u),u=y-u,cr(a,0,u<0?0:u)):[]}function x1(a,u){return a&&a.length?gs(a,Ge(u,3),!0,!0):[]}function A1(a,u){return a&&a.length?gs(a,Ge(u,3),!0):[]}function w1(a,u,c,y){var R=a==null?0:a.length;return R?(c&&typeof c!="number"&&Ht(a,u,c)&&(c=0,y=R),dy(a,u,c,y)):[]}function Jp(a,u,c){var y=a==null?0:a.length;if(!y)return-1;var R=c==null?0:Qe(c);return R<0&&(R=Dt(y+R,0)),Kn(a,Ge(u,3),R)}function Yp(a,u,c){var y=a==null?0:a.length;if(!y)return-1;var R=y-1;return c!==t&&(R=Qe(c),R=c<0?Dt(y+R,0):qt(R,y-1)),Kn(a,Ge(u,3),R,!0)}function Qp(a){var u=a==null?0:a.length;return u?Pt(a,1):[]}function E1(a){var u=a==null?0:a.length;return u?Pt(a,F):[]}function T1(a,u){var c=a==null?0:a.length;return c?(u=u===t?1:Qe(u),Pt(a,u)):[]}function S1(a){for(var u=-1,c=a==null?0:a.length,y={};++u<c;){var R=a[u];y[R[0]]=R[1]}return y}function Zp(a){return a&&a.length?a[0]:t}function O1(a,u,c){var y=a==null?0:a.length;if(!y)return-1;var R=c==null?0:Qe(c);return R<0&&(R=Dt(y+R,0)),Ci(a,u,R)}function k1(a){var u=a==null?0:a.length;return u?cr(a,0,-1):[]}var C1=et(function(a){var u=wt(a,Ua);return u.length&&u[0]===a[0]?Ca(u):[]}),R1=et(function(a){var u=hr(a),c=wt(a,Ua);return u===hr(c)?u=t:c.pop(),c.length&&c[0]===a[0]?Ca(c,Ge(u,2)):[]}),I1=et(function(a){var u=hr(a),c=wt(a,Ua);return u=typeof u=="function"?u:t,u&&c.pop(),c.length&&c[0]===a[0]?Ca(c,t,u):[]});function N1(a,u){return a==null?"":k_.call(a,u)}function hr(a){var u=a==null?0:a.length;return u?a[u-1]:t}function D1(a,u,c){var y=a==null?0:a.length;if(!y)return-1;var R=y;return c!==t&&(R=Qe(c),R=R<0?Dt(y+R,0):qt(R,y-1)),u===u?p_(a,u,R):Kn(a,Dm,R,!0)}function F1(a,u){return a&&a.length?fp(a,Qe(u)):t}var L1=et(ec);function ec(a,u){return a&&a.length&&u&&u.length?Da(a,u):a}function B1(a,u,c){return a&&a.length&&u&&u.length?Da(a,u,Ge(c,2)):a}function P1(a,u,c){return a&&a.length&&u&&u.length?Da(a,u,t,c):a}var q1=qr(function(a,u){var c=a==null?0:a.length,y=Ta(a,u);return cp(a,wt(u,function(R){return Ur(R,c)?+R:R}).sort(wp)),y});function U1(a,u){var c=[];if(!(a&&a.length))return c;var y=-1,R=[],P=a.length;for(u=Ge(u,3);++y<P;){var j=a[y];u(j,y,a)&&(c.push(j),R.push(y))}return cp(a,R),c}function Za(a){return a==null?a:N_.call(a)}function M1(a,u,c){var y=a==null?0:a.length;return y?(c&&typeof c!="number"&&Ht(a,u,c)?(u=0,c=y):(u=u==null?0:Qe(u),c=c===t?y:Qe(c)),cr(a,u,c)):[]}function z1(a,u){return ds(a,u)}function j1(a,u,c){return Ba(a,u,Ge(c,2))}function G1(a,u){var c=a==null?0:a.length;if(c){var y=ds(a,u);if(y<c&&br(a[y],u))return y}return-1}function H1(a,u){return ds(a,u,!0)}function X1(a,u,c){return Ba(a,u,Ge(c,2),!0)}function $1(a,u){var c=a==null?0:a.length;if(c){var y=ds(a,u,!0)-1;if(br(a[y],u))return y}return-1}function W1(a){return a&&a.length?dp(a):[]}function V1(a,u){return a&&a.length?dp(a,Ge(u,2)):[]}function K1(a){var u=a==null?0:a.length;return u?cr(a,1,u):[]}function J1(a,u,c){return a&&a.length?(u=c||u===t?1:Qe(u),cr(a,0,u<0?0:u)):[]}function Y1(a,u,c){var y=a==null?0:a.length;return y?(u=c||u===t?1:Qe(u),u=y-u,cr(a,u<0?0:u,y)):[]}function Q1(a,u){return a&&a.length?gs(a,Ge(u,3),!1,!0):[]}function Z1(a,u){return a&&a.length?gs(a,Ge(u,3)):[]}var ex=et(function(a){return Zr(Pt(a,1,Ct,!0))}),tx=et(function(a){var u=hr(a);return Ct(u)&&(u=t),Zr(Pt(a,1,Ct,!0),Ge(u,2))}),rx=et(function(a){var u=hr(a);return u=typeof u=="function"?u:t,Zr(Pt(a,1,Ct,!0),t,u)});function ix(a){return a&&a.length?Zr(a):[]}function nx(a,u){return a&&a.length?Zr(a,Ge(u,2)):[]}function sx(a,u){return u=typeof u=="function"?u:t,a&&a.length?Zr(a,t,u):[]}function eo(a){if(!(a&&a.length))return[];var u=0;return a=Vr(a,function(c){if(Ct(c))return u=Dt(c.length,u),!0}),va(u,function(c){return wt(a,ha(c))})}function tc(a,u){if(!(a&&a.length))return[];var c=eo(a);return u==null?c:wt(c,function(y){return er(u,t,y)})}var ax=et(function(a,u){return Ct(a)?pn(a,u):[]}),ox=et(function(a){return qa(Vr(a,Ct))}),lx=et(function(a){var u=hr(a);return Ct(u)&&(u=t),qa(Vr(a,Ct),Ge(u,2))}),ux=et(function(a){var u=hr(a);return u=typeof u=="function"?u:t,qa(Vr(a,Ct),t,u)}),fx=et(eo);function mx(a,u){return _p(a||[],u||[],mn)}function px(a,u){return _p(a||[],u||[],dn)}var cx=et(function(a){var u=a.length,c=u>1?a[u-1]:t;return c=typeof c=="function"?(a.pop(),c):t,tc(a,c)});function rc(a){var u=L(a);return u.__chain__=!0,u}function hx(a,u){return u(a),a}function Ts(a,u){return u(a)}var dx=qr(function(a){var u=a.length,c=u?a[0]:0,y=this.__wrapped__,R=function(P){return Ta(P,a)};return u>1||this.__actions__.length||!(y instanceof st)||!Ur(c)?this.thru(R):(y=y.slice(c,+c+(u?1:0)),y.__actions__.push({func:Ts,args:[R],thisArg:t}),new mr(y,this.__chain__).thru(function(P){return u&&!P.length&&P.push(t),P}))});function gx(){return rc(this)}function vx(){return new mr(this.value(),this.__chain__)}function bx(){this.__values__===t&&(this.__values__=gc(this.value()));var a=this.__index__>=this.__values__.length,u=a?t:this.__values__[this.__index__++];return{done:a,value:u}}function _x(){return this}function yx(a){for(var u,c=this;c instanceof fs;){var y=Kp(c);y.__index__=0,y.__values__=t,u?R.__wrapped__=y:u=y;var R=y;c=c.__wrapped__}return R.__wrapped__=a,u}function xx(){var a=this.__wrapped__;if(a instanceof st){var u=a;return this.__actions__.length&&(u=new st(this)),u=u.reverse(),u.__actions__.push({func:Ts,args:[Za],thisArg:t}),new mr(u,this.__chain__)}return this.thru(Za)}function Ax(){return bp(this.__wrapped__,this.__actions__)}var wx=vs(function(a,u,c){ct.call(a,c)?++a[c]:Br(a,c,1)});function Ex(a,u,c){var y=Ye(a)?Im:hy;return c&&Ht(a,u,c)&&(u=t),y(a,Ge(u,3))}function Tx(a,u){var c=Ye(a)?Vr:tp;return c(a,Ge(u,3))}var Sx=Cp(Jp),Ox=Cp(Yp);function kx(a,u){return Pt(Ss(a,u),1)}function Cx(a,u){return Pt(Ss(a,u),F)}function Rx(a,u,c){return c=c===t?1:Qe(c),Pt(Ss(a,u),c)}function ic(a,u){var c=Ye(a)?ur:Qr;return c(a,Ge(u,3))}function nc(a,u){var c=Ye(a)?K0:ep;return c(a,Ge(u,3))}var Ix=vs(function(a,u,c){ct.call(a,c)?a[c].push(u):Br(a,c,[u])});function Nx(a,u,c,y){a=Jt(a)?a:zi(a),c=c&&!y?Qe(c):0;var R=a.length;return c<0&&(c=Dt(R+c,0)),Is(a)?c<=R&&a.indexOf(u,c)>-1:!!R&&Ci(a,u,c)>-1}var Dx=et(function(a,u,c){var y=-1,R=typeof u=="function",P=Jt(a)?oe(a.length):[];return Qr(a,function(j){P[++y]=R?er(u,j,c):cn(j,u,c)}),P}),Fx=vs(function(a,u,c){Br(a,c,u)});function Ss(a,u){var c=Ye(a)?wt:op;return c(a,Ge(u,3))}function Lx(a,u,c,y){return a==null?[]:(Ye(u)||(u=u==null?[]:[u]),c=y?t:c,Ye(c)||(c=c==null?[]:[c]),mp(a,u,c))}var Bx=vs(function(a,u,c){a[c?0:1].push(u)},function(){return[[],[]]});function Px(a,u,c){var y=Ye(a)?pa:Lm,R=arguments.length<3;return y(a,Ge(u,4),c,R,Qr)}function qx(a,u,c){var y=Ye(a)?J0:Lm,R=arguments.length<3;return y(a,Ge(u,4),c,R,ep)}function Ux(a,u){var c=Ye(a)?Vr:tp;return c(a,Cs(Ge(u,3)))}function Mx(a){var u=Ye(a)?Jm:Ny;return u(a)}function zx(a,u,c){(c?Ht(a,u,c):u===t)?u=1:u=Qe(u);var y=Ye(a)?uy:Dy;return y(a,u)}function jx(a){var u=Ye(a)?fy:Ly;return u(a)}function Gx(a){if(a==null)return 0;if(Jt(a))return Is(a)?Ii(a):a.length;var u=Ut(a);return u==Ve||u==ae?a.size:Ia(a).length}function Hx(a,u,c){var y=Ye(a)?ca:By;return c&&Ht(a,u,c)&&(u=t),y(a,Ge(u,3))}var Xx=et(function(a,u){if(a==null)return[];var c=u.length;return c>1&&Ht(a,u[0],u[1])?u=[]:c>2&&Ht(u[0],u[1],u[2])&&(u=[u[0]]),mp(a,Pt(u,1),[])}),Os=T_||function(){return Bt.Date.now()};function $x(a,u){if(typeof u!="function")throw new fr(o);return a=Qe(a),function(){if(--a<1)return u.apply(this,arguments)}}function sc(a,u,c){return u=c?t:u,u=a&&u==null?a.length:u,Pr(a,N,t,t,t,t,u)}function ac(a,u){var c;if(typeof u!="function")throw new fr(o);return a=Qe(a),function(){return--a>0&&(c=u.apply(this,arguments)),a<=1&&(u=t),c}}var to=et(function(a,u,c){var y=b;if(c.length){var R=Jr(c,Ui(to));y|=T}return Pr(a,y,u,c,R)}),oc=et(function(a,u,c){var y=b|S;if(c.length){var R=Jr(c,Ui(oc));y|=T}return Pr(u,y,a,c,R)});function lc(a,u,c){u=c?t:u;var y=Pr(a,O,t,t,t,t,t,u);return y.placeholder=lc.placeholder,y}function uc(a,u,c){u=c?t:u;var y=Pr(a,w,t,t,t,t,t,u);return y.placeholder=uc.placeholder,y}function fc(a,u,c){var y,R,P,j,$,Z,ve=0,_e=!1,Ae=!1,De=!0;if(typeof a!="function")throw new fr(o);u=dr(u)||0,Et(c)&&(_e=!!c.leading,Ae="maxWait"in c,P=Ae?Dt(dr(c.maxWait)||0,u):P,De="trailing"in c?!!c.trailing:De);function ze(Rt){var _r=y,jr=R;return y=R=t,ve=Rt,j=a.apply(jr,_r),j}function Xe(Rt){return ve=Rt,$=bn(it,u),_e?ze(Rt):j}function Ze(Rt){var _r=Rt-Z,jr=Rt-ve,Cc=u-_r;return Ae?qt(Cc,P-jr):Cc}function $e(Rt){var _r=Rt-Z,jr=Rt-ve;return Z===t||_r>=u||_r<0||Ae&&jr>=P}function it(){var Rt=Os();if($e(Rt))return at(Rt);$=bn(it,Ze(Rt))}function at(Rt){return $=t,De&&y?ze(Rt):(y=R=t,j)}function nr(){$!==t&&yp($),ve=0,y=Z=R=$=t}function Xt(){return $===t?j:at(Os())}function sr(){var Rt=Os(),_r=$e(Rt);if(y=arguments,R=this,Z=Rt,_r){if($===t)return Xe(Z);if(Ae)return yp($),$=bn(it,u),ze(Z)}return $===t&&($=bn(it,u)),j}return sr.cancel=nr,sr.flush=Xt,sr}var Wx=et(function(a,u){return Zm(a,1,u)}),Vx=et(function(a,u,c){return Zm(a,dr(u)||0,c)});function Kx(a){return Pr(a,C)}function ks(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new fr(o);var c=function(){var y=arguments,R=u?u.apply(this,y):y[0],P=c.cache;if(P.has(R))return P.get(R);var j=a.apply(this,y);return c.cache=P.set(R,j)||P,j};return c.cache=new(ks.Cache||Lr),c}ks.Cache=Lr;function Cs(a){if(typeof a!="function")throw new fr(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function Jx(a){return ac(2,a)}var Yx=Py(function(a,u){u=u.length==1&&Ye(u[0])?wt(u[0],tr(Ge())):wt(Pt(u,1),tr(Ge()));var c=u.length;return et(function(y){for(var R=-1,P=qt(y.length,c);++R<P;)y[R]=u[R].call(this,y[R]);return er(a,this,y)})}),ro=et(function(a,u){var c=Jr(u,Ui(ro));return Pr(a,T,t,u,c)}),mc=et(function(a,u){var c=Jr(u,Ui(mc));return Pr(a,q,t,u,c)}),Qx=qr(function(a,u){return Pr(a,W,t,t,t,u)});function Zx(a,u){if(typeof a!="function")throw new fr(o);return u=u===t?u:Qe(u),et(a,u)}function eA(a,u){if(typeof a!="function")throw new fr(o);return u=u==null?0:Dt(Qe(u),0),et(function(c){var y=c[u],R=ti(c,0,u);return y&&Kr(R,y),er(a,this,R)})}function tA(a,u,c){var y=!0,R=!0;if(typeof a!="function")throw new fr(o);return Et(c)&&(y="leading"in c?!!c.leading:y,R="trailing"in c?!!c.trailing:R),fc(a,u,{leading:y,maxWait:u,trailing:R})}function rA(a){return sc(a,1)}function iA(a,u){return ro(Ma(u),a)}function nA(){if(!arguments.length)return[];var a=arguments[0];return Ye(a)?a:[a]}function sA(a){return pr(a,h)}function aA(a,u){return u=typeof u=="function"?u:t,pr(a,h,u)}function oA(a){return pr(a,d|h)}function lA(a,u){return u=typeof u=="function"?u:t,pr(a,d|h,u)}function uA(a,u){return u==null||Qm(a,u,Ft(u))}function br(a,u){return a===u||a!==a&&u!==u}var fA=xs(ka),mA=xs(function(a,u){return a>=u}),di=np(function(){return arguments}())?np:function(a){return St(a)&&ct.call(a,"callee")&&!Hm.call(a,"callee")},Ye=oe.isArray,pA=Tm?tr(Tm):yy;function Jt(a){return a!=null&&Rs(a.length)&&!Mr(a)}function Ct(a){return St(a)&&Jt(a)}function cA(a){return a===!0||a===!1||St(a)&&Gt(a)==Se}var ri=O_||co,hA=Sm?tr(Sm):xy;function dA(a){return St(a)&&a.nodeType===1&&!_n(a)}function gA(a){if(a==null)return!0;if(Jt(a)&&(Ye(a)||typeof a=="string"||typeof a.splice=="function"||ri(a)||Mi(a)||di(a)))return!a.length;var u=Ut(a);if(u==Ve||u==ae)return!a.size;if(vn(a))return!Ia(a).length;for(var c in a)if(ct.call(a,c))return!1;return!0}function vA(a,u){return hn(a,u)}function bA(a,u,c){c=typeof c=="function"?c:t;var y=c?c(a,u):t;return y===t?hn(a,u,t,c):!!y}function io(a){if(!St(a))return!1;var u=Gt(a);return u==je||u==Ne||typeof a.message=="string"&&typeof a.name=="string"&&!_n(a)}function _A(a){return typeof a=="number"&&$m(a)}function Mr(a){if(!Et(a))return!1;var u=Gt(a);return u==Le||u==Be||u==Te||u==U}function pc(a){return typeof a=="number"&&a==Qe(a)}function Rs(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=G}function Et(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function St(a){return a!=null&&typeof a=="object"}var cc=Om?tr(Om):wy;function yA(a,u){return a===u||Ra(a,u,Wa(u))}function xA(a,u,c){return c=typeof c=="function"?c:t,Ra(a,u,Wa(u),c)}function AA(a){return hc(a)&&a!=+a}function wA(a){if(a1(a))throw new Ke(s);return sp(a)}function EA(a){return a===null}function TA(a){return a==null}function hc(a){return typeof a=="number"||St(a)&&Gt(a)==Je}function _n(a){if(!St(a)||Gt(a)!=A)return!1;var u=is(a);if(u===null)return!0;var c=ct.call(u,"constructor")&&u.constructor;return typeof c=="function"&&c instanceof c&&Zn.call(c)==x_}var no=km?tr(km):Ey;function SA(a){return pc(a)&&a>=-9007199254740991&&a<=G}var dc=Cm?tr(Cm):Ty;function Is(a){return typeof a=="string"||!Ye(a)&&St(a)&&Gt(a)==pe}function ir(a){return typeof a=="symbol"||St(a)&&Gt(a)==Pe}var Mi=Rm?tr(Rm):Sy;function OA(a){return a===t}function kA(a){return St(a)&&Ut(a)==J}function CA(a){return St(a)&&Gt(a)==le}var RA=xs(Na),IA=xs(function(a,u){return a<=u});function gc(a){if(!a)return[];if(Jt(a))return Is(a)?gr(a):Kt(a);if(an&&a[an])return u_(a[an]());var u=Ut(a),c=u==Ve?_a:u==ae?Jn:zi;return c(a)}function zr(a){if(!a)return a===0?a:0;if(a=dr(a),a===F||a===-1/0){var u=a<0?-1:1;return u*V}return a===a?a:0}function Qe(a){var u=zr(a),c=u%1;return u===u?c?u-c:u:0}function vc(a){return a?mi(Qe(a),0,ue):0}function dr(a){if(typeof a=="number")return a;if(ir(a))return me;if(Et(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=Et(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=Bm(a);var c=p0.test(a);return c||h0.test(a)?$0(a.slice(2),c?2:8):m0.test(a)?me:+a}function bc(a){return Er(a,Yt(a))}function NA(a){return a?mi(Qe(a),-9007199254740991,G):a===0?a:0}function ft(a){return a==null?"":rr(a)}var DA=Pi(function(a,u){if(vn(u)||Jt(u)){Er(u,Ft(u),a);return}for(var c in u)ct.call(u,c)&&mn(a,c,u[c])}),_c=Pi(function(a,u){Er(u,Yt(u),a)}),Ns=Pi(function(a,u,c,y){Er(u,Yt(u),a,y)}),FA=Pi(function(a,u,c,y){Er(u,Ft(u),a,y)}),LA=qr(Ta);function BA(a,u){var c=Bi(a);return u==null?c:Ym(c,u)}var PA=et(function(a,u){a=vt(a);var c=-1,y=u.length,R=y>2?u[2]:t;for(R&&Ht(u[0],u[1],R)&&(y=1);++c<y;)for(var P=u[c],j=Yt(P),$=-1,Z=j.length;++$<Z;){var ve=j[$],_e=a[ve];(_e===t||br(_e,Di[ve])&&!ct.call(a,ve))&&(a[ve]=P[ve])}return a}),qA=et(function(a){return a.push(t,Bp),er(yc,t,a)});function UA(a,u){return Nm(a,Ge(u,3),wr)}function MA(a,u){return Nm(a,Ge(u,3),Oa)}function zA(a,u){return a==null?a:Sa(a,Ge(u,3),Yt)}function jA(a,u){return a==null?a:rp(a,Ge(u,3),Yt)}function GA(a,u){return a&&wr(a,Ge(u,3))}function HA(a,u){return a&&Oa(a,Ge(u,3))}function XA(a){return a==null?[]:cs(a,Ft(a))}function $A(a){return a==null?[]:cs(a,Yt(a))}function so(a,u,c){var y=a==null?t:pi(a,u);return y===t?c:y}function WA(a,u){return a!=null&&Up(a,u,gy)}function ao(a,u){return a!=null&&Up(a,u,vy)}var VA=Ip(function(a,u,c){u!=null&&typeof u.toString!="function"&&(u=es.call(u)),a[u]=c},lo(Qt)),KA=Ip(function(a,u,c){u!=null&&typeof u.toString!="function"&&(u=es.call(u)),ct.call(a,u)?a[u].push(c):a[u]=[c]},Ge),JA=et(cn);function Ft(a){return Jt(a)?Km(a):Ia(a)}function Yt(a){return Jt(a)?Km(a,!0):Oy(a)}function YA(a,u){var c={};return u=Ge(u,3),wr(a,function(y,R,P){Br(c,u(y,R,P),y)}),c}function QA(a,u){var c={};return u=Ge(u,3),wr(a,function(y,R,P){Br(c,R,u(y,R,P))}),c}var ZA=Pi(function(a,u,c){hs(a,u,c)}),yc=Pi(function(a,u,c,y){hs(a,u,c,y)}),ew=qr(function(a,u){var c={};if(a==null)return c;var y=!1;u=wt(u,function(P){return P=ei(P,a),y||(y=P.length>1),P}),Er(a,Xa(a),c),y&&(c=pr(c,d|g|h,Vy));for(var R=u.length;R--;)Pa(c,u[R]);return c});function tw(a,u){return xc(a,Cs(Ge(u)))}var rw=qr(function(a,u){return a==null?{}:Cy(a,u)});function xc(a,u){if(a==null)return{};var c=wt(Xa(a),function(y){return[y]});return u=Ge(u),pp(a,c,function(y,R){return u(y,R[0])})}function iw(a,u,c){u=ei(u,a);var y=-1,R=u.length;for(R||(R=1,a=t);++y<R;){var P=a==null?t:a[Tr(u[y])];P===t&&(y=R,P=c),a=Mr(P)?P.call(a):P}return a}function nw(a,u,c){return a==null?a:dn(a,u,c)}function sw(a,u,c,y){return y=typeof y=="function"?y:t,a==null?a:dn(a,u,c,y)}var Ac=Fp(Ft),wc=Fp(Yt);function aw(a,u,c){var y=Ye(a),R=y||ri(a)||Mi(a);if(u=Ge(u,4),c==null){var P=a&&a.constructor;R?c=y?new P:[]:Et(a)?c=Mr(P)?Bi(is(a)):{}:c={}}return(R?ur:wr)(a,function(j,$,Z){return u(c,j,$,Z)}),c}function ow(a,u){return a==null?!0:Pa(a,u)}function lw(a,u,c){return a==null?a:vp(a,u,Ma(c))}function uw(a,u,c,y){return y=typeof y=="function"?y:t,a==null?a:vp(a,u,Ma(c),y)}function zi(a){return a==null?[]:ba(a,Ft(a))}function fw(a){return a==null?[]:ba(a,Yt(a))}function mw(a,u,c){return c===t&&(c=u,u=t),c!==t&&(c=dr(c),c=c===c?c:0),u!==t&&(u=dr(u),u=u===u?u:0),mi(dr(a),u,c)}function pw(a,u,c){return u=zr(u),c===t?(c=u,u=0):c=zr(c),a=dr(a),by(a,u,c)}function cw(a,u,c){if(c&&typeof c!="boolean"&&Ht(a,u,c)&&(u=c=t),c===t&&(typeof u=="boolean"?(c=u,u=t):typeof a=="boolean"&&(c=a,a=t)),a===t&&u===t?(a=0,u=1):(a=zr(a),u===t?(u=a,a=0):u=zr(u)),a>u){var y=a;a=u,u=y}if(c||a%1||u%1){var R=Wm();return qt(a+R*(u-a+X0("1e-"+((R+"").length-1))),u)}return Fa(a,u)}var hw=qi(function(a,u,c){return u=u.toLowerCase(),a+(c?Ec(u):u)});function Ec(a){return oo(ft(a).toLowerCase())}function Tc(a){return a=ft(a),a&&a.replace(g0,n_).replace(L0,"")}function dw(a,u,c){a=ft(a),u=rr(u);var y=a.length;c=c===t?y:mi(Qe(c),0,y);var R=c;return c-=u.length,c>=0&&a.slice(c,R)==u}function gw(a){return a=ft(a),a&&Ar.test(a)?a.replace(pt,s_):a}function vw(a){return a=ft(a),a&&Vt.test(a)?a.replace(Wt,"\\$&"):a}var bw=qi(function(a,u,c){return a+(c?"-":"")+u.toLowerCase()}),_w=qi(function(a,u,c){return a+(c?" ":"")+u.toLowerCase()}),yw=kp("toLowerCase");function xw(a,u,c){a=ft(a),u=Qe(u);var y=u?Ii(a):0;if(!u||y>=u)return a;var R=(u-y)/2;return ys(os(R),c)+a+ys(as(R),c)}function Aw(a,u,c){a=ft(a),u=Qe(u);var y=u?Ii(a):0;return u&&y<u?a+ys(u-y,c):a}function ww(a,u,c){a=ft(a),u=Qe(u);var y=u?Ii(a):0;return u&&y<u?ys(u-y,c)+a:a}function Ew(a,u,c){return c||u==null?u=0:u&&(u=+u),I_(ft(a).replace(Wr,""),u||0)}function Tw(a,u,c){return(c?Ht(a,u,c):u===t)?u=1:u=Qe(u),La(ft(a),u)}function Sw(){var a=arguments,u=ft(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var Ow=qi(function(a,u,c){return a+(c?"_":"")+u.toLowerCase()});function kw(a,u,c){return c&&typeof c!="number"&&Ht(a,u,c)&&(u=c=t),c=c===t?ue:c>>>0,c?(a=ft(a),a&&(typeof u=="string"||u!=null&&!no(u))&&(u=rr(u),!u&&Ri(a))?ti(gr(a),0,c):a.split(u,c)):[]}var Cw=qi(function(a,u,c){return a+(c?" ":"")+oo(u)});function Rw(a,u,c){return a=ft(a),c=c==null?0:mi(Qe(c),0,a.length),u=rr(u),a.slice(c,c+u.length)==u}function Iw(a,u,c){var y=L.templateSettings;c&&Ht(a,u,c)&&(u=t),a=ft(a),u=Ns({},u,y,Lp);var R=Ns({},u.imports,y.imports,Lp),P=Ft(R),j=ba(R,P),$,Z,ve=0,_e=u.interpolate||Xn,Ae="__p += '",De=ya((u.escape||Xn).source+"|"+_e.source+"|"+(_e===Oi?f0:Xn).source+"|"+(u.evaluate||Xn).source+"|$","g"),ze="//# sourceURL="+(ct.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++M0+"]")+`
`;a.replace(De,function($e,it,at,nr,Xt,sr){return at||(at=nr),Ae+=a.slice(ve,sr).replace(v0,a_),it&&($=!0,Ae+=`' +
__e(`+it+`) +
'`),Xt&&(Z=!0,Ae+=`';
`+Xt+`;
__p += '`),at&&(Ae+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),ve=sr+$e.length,$e}),Ae+=`';
`;var Xe=ct.call(u,"variable")&&u.variable;if(!Xe)Ae=`with (obj) {
`+Ae+`
}
`;else if(l0.test(Xe))throw new Ke(l);Ae=(Z?Ae.replace(Fe,""):Ae).replace(We,"$1").replace(He,"$1;"),Ae="function("+(Xe||"obj")+`) {
`+(Xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var Ze=Oc(function(){return lt(P,ze+"return "+Ae).apply(t,j)});if(Ze.source=Ae,io(Ze))throw Ze;return Ze}function Nw(a){return ft(a).toLowerCase()}function Dw(a){return ft(a).toUpperCase()}function Fw(a,u,c){if(a=ft(a),a&&(c||u===t))return Bm(a);if(!a||!(u=rr(u)))return a;var y=gr(a),R=gr(u),P=Pm(y,R),j=qm(y,R)+1;return ti(y,P,j).join("")}function Lw(a,u,c){if(a=ft(a),a&&(c||u===t))return a.slice(0,Mm(a)+1);if(!a||!(u=rr(u)))return a;var y=gr(a),R=qm(y,gr(u))+1;return ti(y,0,R).join("")}function Bw(a,u,c){if(a=ft(a),a&&(c||u===t))return a.replace(Wr,"");if(!a||!(u=rr(u)))return a;var y=gr(a),R=Pm(y,gr(u));return ti(y,R).join("")}function Pw(a,u){var c=I,y=z;if(Et(u)){var R="separator"in u?u.separator:R;c="length"in u?Qe(u.length):c,y="omission"in u?rr(u.omission):y}a=ft(a);var P=a.length;if(Ri(a)){var j=gr(a);P=j.length}if(c>=P)return a;var $=c-Ii(y);if($<1)return y;var Z=j?ti(j,0,$).join(""):a.slice(0,$);if(R===t)return Z+y;if(j&&($+=Z.length-$),no(R)){if(a.slice($).search(R)){var ve,_e=Z;for(R.global||(R=ya(R.source,ft(nm.exec(R))+"g")),R.lastIndex=0;ve=R.exec(_e);)var Ae=ve.index;Z=Z.slice(0,Ae===t?$:Ae)}}else if(a.indexOf(rr(R),$)!=$){var De=Z.lastIndexOf(R);De>-1&&(Z=Z.slice(0,De))}return Z+y}function qw(a){return a=ft(a),a&&rn.test(a)?a.replace(kt,c_):a}var Uw=qi(function(a,u,c){return a+(c?" ":"")+u.toUpperCase()}),oo=kp("toUpperCase");function Sc(a,u,c){return a=ft(a),u=c?t:u,u===t?l_(a)?g_(a):Z0(a):a.match(u)||[]}var Oc=et(function(a,u){try{return er(a,t,u)}catch(c){return io(c)?c:new Ke(c)}}),Mw=qr(function(a,u){return ur(u,function(c){c=Tr(c),Br(a,c,to(a[c],a))}),a});function zw(a){var u=a==null?0:a.length,c=Ge();return a=u?wt(a,function(y){if(typeof y[1]!="function")throw new fr(o);return[c(y[0]),y[1]]}):[],et(function(y){for(var R=-1;++R<u;){var P=a[R];if(er(P[0],this,y))return er(P[1],this,y)}})}function jw(a){return cy(pr(a,d))}function lo(a){return function(){return a}}function Gw(a,u){return a==null||a!==a?u:a}var Hw=Rp(),Xw=Rp(!0);function Qt(a){return a}function uo(a){return ap(typeof a=="function"?a:pr(a,d))}function $w(a){return lp(pr(a,d))}function Ww(a,u){return up(a,pr(u,d))}var Vw=et(function(a,u){return function(c){return cn(c,a,u)}}),Kw=et(function(a,u){return function(c){return cn(a,c,u)}});function fo(a,u,c){var y=Ft(u),R=cs(u,y);c==null&&!(Et(u)&&(R.length||!y.length))&&(c=u,u=a,a=this,R=cs(u,Ft(u)));var P=!(Et(c)&&"chain"in c)||!!c.chain,j=Mr(a);return ur(R,function($){var Z=u[$];a[$]=Z,j&&(a.prototype[$]=function(){var ve=this.__chain__;if(P||ve){var _e=a(this.__wrapped__),Ae=_e.__actions__=Kt(this.__actions__);return Ae.push({func:Z,args:arguments,thisArg:a}),_e.__chain__=ve,_e}return Z.apply(a,Kr([this.value()],arguments))})}),a}function Jw(){return Bt._===this&&(Bt._=A_),this}function mo(){}function Yw(a){return a=Qe(a),et(function(u){return fp(u,a)})}var Qw=ja(wt),Zw=ja(Im),eE=ja(ca);function kc(a){return Ka(a)?ha(Tr(a)):Ry(a)}function tE(a){return function(u){return a==null?t:pi(a,u)}}var rE=Np(),iE=Np(!0);function po(){return[]}function co(){return!1}function nE(){return{}}function sE(){return""}function aE(){return!0}function oE(a,u){if(a=Qe(a),a<1||a>G)return[];var c=ue,y=qt(a,ue);u=Ge(u),a-=ue;for(var R=va(y,u);++c<a;)u(c);return R}function lE(a){return Ye(a)?wt(a,Tr):ir(a)?[a]:Kt(Vp(ft(a)))}function uE(a){var u=++y_;return ft(a)+u}var fE=_s(function(a,u){return a+u},0),mE=Ga("ceil"),pE=_s(function(a,u){return a/u},1),cE=Ga("floor");function hE(a){return a&&a.length?ps(a,Qt,ka):t}function dE(a,u){return a&&a.length?ps(a,Ge(u,2),ka):t}function gE(a){return Fm(a,Qt)}function vE(a,u){return Fm(a,Ge(u,2))}function bE(a){return a&&a.length?ps(a,Qt,Na):t}function _E(a,u){return a&&a.length?ps(a,Ge(u,2),Na):t}var yE=_s(function(a,u){return a*u},1),xE=Ga("round"),AE=_s(function(a,u){return a-u},0);function wE(a){return a&&a.length?ga(a,Qt):0}function EE(a,u){return a&&a.length?ga(a,Ge(u,2)):0}return L.after=$x,L.ary=sc,L.assign=DA,L.assignIn=_c,L.assignInWith=Ns,L.assignWith=FA,L.at=LA,L.before=ac,L.bind=to,L.bindAll=Mw,L.bindKey=oc,L.castArray=nA,L.chain=rc,L.chunk=c1,L.compact=h1,L.concat=d1,L.cond=zw,L.conforms=jw,L.constant=lo,L.countBy=wx,L.create=BA,L.curry=lc,L.curryRight=uc,L.debounce=fc,L.defaults=PA,L.defaultsDeep=qA,L.defer=Wx,L.delay=Vx,L.difference=g1,L.differenceBy=v1,L.differenceWith=b1,L.drop=_1,L.dropRight=y1,L.dropRightWhile=x1,L.dropWhile=A1,L.fill=w1,L.filter=Tx,L.flatMap=kx,L.flatMapDeep=Cx,L.flatMapDepth=Rx,L.flatten=Qp,L.flattenDeep=E1,L.flattenDepth=T1,L.flip=Kx,L.flow=Hw,L.flowRight=Xw,L.fromPairs=S1,L.functions=XA,L.functionsIn=$A,L.groupBy=Ix,L.initial=k1,L.intersection=C1,L.intersectionBy=R1,L.intersectionWith=I1,L.invert=VA,L.invertBy=KA,L.invokeMap=Dx,L.iteratee=uo,L.keyBy=Fx,L.keys=Ft,L.keysIn=Yt,L.map=Ss,L.mapKeys=YA,L.mapValues=QA,L.matches=$w,L.matchesProperty=Ww,L.memoize=ks,L.merge=ZA,L.mergeWith=yc,L.method=Vw,L.methodOf=Kw,L.mixin=fo,L.negate=Cs,L.nthArg=Yw,L.omit=ew,L.omitBy=tw,L.once=Jx,L.orderBy=Lx,L.over=Qw,L.overArgs=Yx,L.overEvery=Zw,L.overSome=eE,L.partial=ro,L.partialRight=mc,L.partition=Bx,L.pick=rw,L.pickBy=xc,L.property=kc,L.propertyOf=tE,L.pull=L1,L.pullAll=ec,L.pullAllBy=B1,L.pullAllWith=P1,L.pullAt=q1,L.range=rE,L.rangeRight=iE,L.rearg=Qx,L.reject=Ux,L.remove=U1,L.rest=Zx,L.reverse=Za,L.sampleSize=zx,L.set=nw,L.setWith=sw,L.shuffle=jx,L.slice=M1,L.sortBy=Xx,L.sortedUniq=W1,L.sortedUniqBy=V1,L.split=kw,L.spread=eA,L.tail=K1,L.take=J1,L.takeRight=Y1,L.takeRightWhile=Q1,L.takeWhile=Z1,L.tap=hx,L.throttle=tA,L.thru=Ts,L.toArray=gc,L.toPairs=Ac,L.toPairsIn=wc,L.toPath=lE,L.toPlainObject=bc,L.transform=aw,L.unary=rA,L.union=ex,L.unionBy=tx,L.unionWith=rx,L.uniq=ix,L.uniqBy=nx,L.uniqWith=sx,L.unset=ow,L.unzip=eo,L.unzipWith=tc,L.update=lw,L.updateWith=uw,L.values=zi,L.valuesIn=fw,L.without=ax,L.words=Sc,L.wrap=iA,L.xor=ox,L.xorBy=lx,L.xorWith=ux,L.zip=fx,L.zipObject=mx,L.zipObjectDeep=px,L.zipWith=cx,L.entries=Ac,L.entriesIn=wc,L.extend=_c,L.extendWith=Ns,fo(L,L),L.add=fE,L.attempt=Oc,L.camelCase=hw,L.capitalize=Ec,L.ceil=mE,L.clamp=mw,L.clone=sA,L.cloneDeep=oA,L.cloneDeepWith=lA,L.cloneWith=aA,L.conformsTo=uA,L.deburr=Tc,L.defaultTo=Gw,L.divide=pE,L.endsWith=dw,L.eq=br,L.escape=gw,L.escapeRegExp=vw,L.every=Ex,L.find=Sx,L.findIndex=Jp,L.findKey=UA,L.findLast=Ox,L.findLastIndex=Yp,L.findLastKey=MA,L.floor=cE,L.forEach=ic,L.forEachRight=nc,L.forIn=zA,L.forInRight=jA,L.forOwn=GA,L.forOwnRight=HA,L.get=so,L.gt=fA,L.gte=mA,L.has=WA,L.hasIn=ao,L.head=Zp,L.identity=Qt,L.includes=Nx,L.indexOf=O1,L.inRange=pw,L.invoke=JA,L.isArguments=di,L.isArray=Ye,L.isArrayBuffer=pA,L.isArrayLike=Jt,L.isArrayLikeObject=Ct,L.isBoolean=cA,L.isBuffer=ri,L.isDate=hA,L.isElement=dA,L.isEmpty=gA,L.isEqual=vA,L.isEqualWith=bA,L.isError=io,L.isFinite=_A,L.isFunction=Mr,L.isInteger=pc,L.isLength=Rs,L.isMap=cc,L.isMatch=yA,L.isMatchWith=xA,L.isNaN=AA,L.isNative=wA,L.isNil=TA,L.isNull=EA,L.isNumber=hc,L.isObject=Et,L.isObjectLike=St,L.isPlainObject=_n,L.isRegExp=no,L.isSafeInteger=SA,L.isSet=dc,L.isString=Is,L.isSymbol=ir,L.isTypedArray=Mi,L.isUndefined=OA,L.isWeakMap=kA,L.isWeakSet=CA,L.join=N1,L.kebabCase=bw,L.last=hr,L.lastIndexOf=D1,L.lowerCase=_w,L.lowerFirst=yw,L.lt=RA,L.lte=IA,L.max=hE,L.maxBy=dE,L.mean=gE,L.meanBy=vE,L.min=bE,L.minBy=_E,L.stubArray=po,L.stubFalse=co,L.stubObject=nE,L.stubString=sE,L.stubTrue=aE,L.multiply=yE,L.nth=F1,L.noConflict=Jw,L.noop=mo,L.now=Os,L.pad=xw,L.padEnd=Aw,L.padStart=ww,L.parseInt=Ew,L.random=cw,L.reduce=Px,L.reduceRight=qx,L.repeat=Tw,L.replace=Sw,L.result=iw,L.round=xE,L.runInContext=Q,L.sample=Mx,L.size=Gx,L.snakeCase=Ow,L.some=Hx,L.sortedIndex=z1,L.sortedIndexBy=j1,L.sortedIndexOf=G1,L.sortedLastIndex=H1,L.sortedLastIndexBy=X1,L.sortedLastIndexOf=$1,L.startCase=Cw,L.startsWith=Rw,L.subtract=AE,L.sum=wE,L.sumBy=EE,L.template=Iw,L.times=oE,L.toFinite=zr,L.toInteger=Qe,L.toLength=vc,L.toLower=Nw,L.toNumber=dr,L.toSafeInteger=NA,L.toString=ft,L.toUpper=Dw,L.trim=Fw,L.trimEnd=Lw,L.trimStart=Bw,L.truncate=Pw,L.unescape=qw,L.uniqueId=uE,L.upperCase=Uw,L.upperFirst=oo,L.each=ic,L.eachRight=nc,L.first=Zp,fo(L,function(){var a={};return wr(L,function(u,c){ct.call(L.prototype,c)||(a[c]=u)}),a}(),{chain:!1}),L.VERSION=r,ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){L[a].placeholder=L}),ur(["drop","take"],function(a,u){st.prototype[a]=function(c){c=c===t?1:Dt(Qe(c),0);var y=this.__filtered__&&!u?new st(this):this.clone();return y.__filtered__?y.__takeCount__=qt(c,y.__takeCount__):y.__views__.push({size:qt(c,ue),type:a+(y.__dir__<0?"Right":"")}),y},st.prototype[a+"Right"]=function(c){return this.reverse()[a](c).reverse()}}),ur(["filter","map","takeWhile"],function(a,u){var c=u+1,y=c==Y||c==se;st.prototype[a]=function(R){var P=this.clone();return P.__iteratees__.push({iteratee:Ge(R,3),type:c}),P.__filtered__=P.__filtered__||y,P}}),ur(["head","last"],function(a,u){var c="take"+(u?"Right":"");st.prototype[a]=function(){return this[c](1).value()[0]}}),ur(["initial","tail"],function(a,u){var c="drop"+(u?"":"Right");st.prototype[a]=function(){return this.__filtered__?new st(this):this[c](1)}}),st.prototype.compact=function(){return this.filter(Qt)},st.prototype.find=function(a){return this.filter(a).head()},st.prototype.findLast=function(a){return this.reverse().find(a)},st.prototype.invokeMap=et(function(a,u){return typeof a=="function"?new st(this):this.map(function(c){return cn(c,a,u)})}),st.prototype.reject=function(a){return this.filter(Cs(Ge(a)))},st.prototype.slice=function(a,u){a=Qe(a);var c=this;return c.__filtered__&&(a>0||u<0)?new st(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),u!==t&&(u=Qe(u),c=u<0?c.dropRight(-u):c.take(u-a)),c)},st.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},st.prototype.toArray=function(){return this.take(ue)},wr(st.prototype,function(a,u){var c=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),R=L[y?"take"+(u=="last"?"Right":""):u],P=y||/^find/.test(u);R&&(L.prototype[u]=function(){var j=this.__wrapped__,$=y?[1]:arguments,Z=j instanceof st,ve=$[0],_e=Z||Ye(j),Ae=function(it){var at=R.apply(L,Kr([it],$));return y&&De?at[0]:at};_e&&c&&typeof ve=="function"&&ve.length!=1&&(Z=_e=!1);var De=this.__chain__,ze=!!this.__actions__.length,Xe=P&&!De,Ze=Z&&!ze;if(!P&&_e){j=Ze?j:new st(this);var $e=a.apply(j,$);return $e.__actions__.push({func:Ts,args:[Ae],thisArg:t}),new mr($e,De)}return Xe&&Ze?a.apply(this,$):($e=this.thru(Ae),Xe?y?$e.value()[0]:$e.value():$e)})}),ur(["pop","push","shift","sort","splice","unshift"],function(a){var u=Yn[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",y=/^(?:pop|shift)$/.test(a);L.prototype[a]=function(){var R=arguments;if(y&&!this.__chain__){var P=this.value();return u.apply(Ye(P)?P:[],R)}return this[c](function(j){return u.apply(Ye(j)?j:[],R)})}}),wr(st.prototype,function(a,u){var c=L[u];if(c){var y=c.name+"";ct.call(Li,y)||(Li[y]=[]),Li[y].push({name:u,func:c})}}),Li[bs(t,S).name]=[{name:"wrapper",func:t}],st.prototype.clone=q_,st.prototype.reverse=U_,st.prototype.value=M_,L.prototype.at=dx,L.prototype.chain=gx,L.prototype.commit=vx,L.prototype.next=bx,L.prototype.plant=yx,L.prototype.reverse=xx,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=Ax,L.prototype.first=L.prototype.head,an&&(L.prototype[an]=_x),L},Ni=v_();oi?((oi.exports=Ni)._=Ni,ua._=Ni):Bt._=Ni}).call(v2)}(Tn,Tn.exports)),Tn.exports}var _2=b2();const xr=Ln(_2);var Ps={exports:{}},Tt={},Gi={},ii={},bh;function Zi(){if(bh)return ii;bh=1;function i(o){return typeof o>"u"||o===null}function e(o){return typeof o=="object"&&o!==null}function t(o){return Array.isArray(o)?o:i(o)?[]:[o]}function r(o,l){var f,m,p,d;if(l)for(d=Object.keys(l),f=0,m=d.length;f<m;f+=1)p=d[f],o[p]=l[p];return o}function n(o,l){var f="",m;for(m=0;m<l;m+=1)f+=o;return f}function s(o){return o===0&&Number.NEGATIVE_INFINITY===1/o}return ii.isNothing=i,ii.isObject=e,ii.toArray=t,ii.repeat=n,ii.isNegativeZero=s,ii.extend=r,ii}var Co,_h;function Mn(){if(_h)return Co;_h=1;function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r},Co=i,Co}var Ro,yh;function y2(){if(yh)return Ro;yh=1;var i=Zi();function e(t,r,n,s,o){this.name=t,this.buffer=r,this.position=n,this.line=s,this.column=o}return e.prototype.getSnippet=function(r,n){var s,o,l,f,m;if(!this.buffer)return null;for(r=r||4,n=n||75,s="",o=this.position;o>0&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(o-1))===-1;)if(o-=1,this.position-o>n/2-1){s=" ... ",o+=5;break}for(l="",f=this.position;f<this.buffer.length&&`\0\r
Â\u2028\u2029`.indexOf(this.buffer.charAt(f))===-1;)if(f+=1,f-this.position>n/2-1){l=" ... ",f-=5;break}return m=this.buffer.slice(o,f),i.repeat(" ",r)+s+m+l+`
`+i.repeat(" ",r+this.position-o+s.length)+"^"},e.prototype.toString=function(r){var n,s="";return this.name&&(s+='in "'+this.name+'" '),s+="at line "+(this.line+1)+", column "+(this.column+1),r||(n=this.getSnippet(),n&&(s+=`:
`+n)),s},Ro=e,Ro}var Io,xh;function Lt(){if(xh)return Io;xh=1;var i=Mn(),e=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],t=["scalar","sequence","mapping"];function r(s){var o={};return s!==null&&Object.keys(s).forEach(function(l){s[l].forEach(function(f){o[String(f)]=l})}),o}function n(s,o){if(o=o||{},Object.keys(o).forEach(function(l){if(e.indexOf(l)===-1)throw new i('Unknown option "'+l+'" is met in definition of "'+s+'" YAML type.')}),this.tag=s,this.kind=o.kind||null,this.resolve=o.resolve||function(){return!0},this.construct=o.construct||function(l){return l},this.instanceOf=o.instanceOf||null,this.predicate=o.predicate||null,this.represent=o.represent||null,this.defaultStyle=o.defaultStyle||null,this.styleAliases=r(o.styleAliases||null),t.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+s+'" YAML type.')}return Io=n,Io}var No,Ah;function en(){if(Ah)return No;Ah=1;var i=Zi(),e=Mn(),t=Lt();function r(o,l,f){var m=[];return o.include.forEach(function(p){f=r(p,l,f)}),o[l].forEach(function(p){f.forEach(function(d,g){d.tag===p.tag&&d.kind===p.kind&&m.push(g)}),f.push(p)}),f.filter(function(p,d){return m.indexOf(d)===-1})}function n(){var o={scalar:{},sequence:{},mapping:{},fallback:{}},l,f;function m(p){o[p.kind][p.tag]=o.fallback[p.tag]=p}for(l=0,f=arguments.length;l<f;l+=1)arguments[l].forEach(m);return o}function s(o){this.include=o.include||[],this.implicit=o.implicit||[],this.explicit=o.explicit||[],this.implicit.forEach(function(l){if(l.loadKind&&l.loadKind!=="scalar")throw new e("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=n(this.compiledImplicit,this.compiledExplicit)}return s.DEFAULT=null,s.create=function(){var l,f;switch(arguments.length){case 1:l=s.DEFAULT,f=arguments[0];break;case 2:l=arguments[0],f=arguments[1];break;default:throw new e("Wrong number of arguments for Schema.create function")}if(l=i.toArray(l),f=i.toArray(f),!l.every(function(m){return m instanceof s}))throw new e("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!f.every(function(m){return m instanceof t}))throw new e("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:l,explicit:f})},No=s,No}var Do,wh;function x2(){if(wh)return Do;wh=1;var i=Lt();return Do=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Do}var Fo,Eh;function A2(){if(Eh)return Fo;Eh=1;var i=Lt();return Fo=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Fo}var Lo,Th;function w2(){if(Th)return Lo;Th=1;var i=Lt();return Lo=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Lo}var Bo,Sh;function Ff(){if(Sh)return Bo;Sh=1;var i=en();return Bo=new i({explicit:[x2(),A2(),w2()]}),Bo}var Po,Oh;function E2(){if(Oh)return Po;Oh=1;var i=Lt();function e(n){if(n===null)return!0;var s=n.length;return s===1&&n==="~"||s===4&&(n==="null"||n==="Null"||n==="NULL")}function t(){return null}function r(n){return n===null}return Po=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:e,construct:t,predicate:r,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Po}var qo,kh;function T2(){if(kh)return qo;kh=1;var i=Lt();function e(n){if(n===null)return!1;var s=n.length;return s===4&&(n==="true"||n==="True"||n==="TRUE")||s===5&&(n==="false"||n==="False"||n==="FALSE")}function t(n){return n==="true"||n==="True"||n==="TRUE"}function r(n){return Object.prototype.toString.call(n)==="[object Boolean]"}return qo=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:e,construct:t,predicate:r,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"}),qo}var Uo,Ch;function S2(){if(Ch)return Uo;Ch=1;var i=Zi(),e=Lt();function t(f){return 48<=f&&f<=57||65<=f&&f<=70||97<=f&&f<=102}function r(f){return 48<=f&&f<=55}function n(f){return 48<=f&&f<=57}function s(f){if(f===null)return!1;var m=f.length,p=0,d=!1,g;if(!m)return!1;if(g=f[p],(g==="-"||g==="+")&&(g=f[++p]),g==="0"){if(p+1===m)return!0;if(g=f[++p],g==="b"){for(p++;p<m;p++)if(g=f[p],g!=="_"){if(g!=="0"&&g!=="1")return!1;d=!0}return d&&g!=="_"}if(g==="x"){for(p++;p<m;p++)if(g=f[p],g!=="_"){if(!t(f.charCodeAt(p)))return!1;d=!0}return d&&g!=="_"}for(;p<m;p++)if(g=f[p],g!=="_"){if(!r(f.charCodeAt(p)))return!1;d=!0}return d&&g!=="_"}if(g==="_")return!1;for(;p<m;p++)if(g=f[p],g!=="_"){if(g===":")break;if(!n(f.charCodeAt(p)))return!1;d=!0}return!d||g==="_"?!1:g!==":"?!0:/^(:[0-5]?[0-9])+$/.test(f.slice(p))}function o(f){var m=f,p=1,d,g,h=[];return m.indexOf("_")!==-1&&(m=m.replace(/_/g,"")),d=m[0],(d==="-"||d==="+")&&(d==="-"&&(p=-1),m=m.slice(1),d=m[0]),m==="0"?0:d==="0"?m[1]==="b"?p*parseInt(m.slice(2),2):m[1]==="x"?p*parseInt(m,16):p*parseInt(m,8):m.indexOf(":")!==-1?(m.split(":").forEach(function(_){h.unshift(parseInt(_,10))}),m=0,g=1,h.forEach(function(_){m+=_*g,g*=60}),p*m):p*parseInt(m,10)}function l(f){return Object.prototype.toString.call(f)==="[object Number]"&&f%1===0&&!i.isNegativeZero(f)}return Uo=new e("tag:yaml.org,2002:int",{kind:"scalar",resolve:s,construct:o,predicate:l,represent:{binary:function(f){return f>=0?"0b"+f.toString(2):"-0b"+f.toString(2).slice(1)},octal:function(f){return f>=0?"0"+f.toString(8):"-0"+f.toString(8).slice(1)},decimal:function(f){return f.toString(10)},hexadecimal:function(f){return f>=0?"0x"+f.toString(16).toUpperCase():"-0x"+f.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Uo}var Mo,Rh;function O2(){if(Rh)return Mo;Rh=1;var i=Zi(),e=Lt(),t=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function r(f){return!(f===null||!t.test(f)||f[f.length-1]==="_")}function n(f){var m,p,d,g;return m=f.replace(/_/g,"").toLowerCase(),p=m[0]==="-"?-1:1,g=[],"+-".indexOf(m[0])>=0&&(m=m.slice(1)),m===".inf"?p===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:m===".nan"?NaN:m.indexOf(":")>=0?(m.split(":").forEach(function(h){g.unshift(parseFloat(h,10))}),m=0,d=1,g.forEach(function(h){m+=h*d,d*=60}),p*m):p*parseFloat(m,10)}var s=/^[-+]?[0-9]+e/;function o(f,m){var p;if(isNaN(f))switch(m){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===f)switch(m){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===f)switch(m){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(f))return"-0.0";return p=f.toString(10),s.test(p)?p.replace("e",".e"):p}function l(f){return Object.prototype.toString.call(f)==="[object Number]"&&(f%1!==0||i.isNegativeZero(f))}return Mo=new e("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:n,predicate:l,represent:o,defaultStyle:"lowercase"}),Mo}var zo,Ih;function Ob(){if(Ih)return zo;Ih=1;var i=en();return zo=new i({include:[Ff()],implicit:[E2(),T2(),S2(),O2()]}),zo}var jo,Nh;function kb(){if(Nh)return jo;Nh=1;var i=en();return jo=new i({include:[Ob()]}),jo}var Go,Dh;function k2(){if(Dh)return Go;Dh=1;var i=Lt(),e=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),t=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function r(o){return o===null?!1:e.exec(o)!==null||t.exec(o)!==null}function n(o){var l,f,m,p,d,g,h,_=0,E=null,b,S,x;if(l=e.exec(o),l===null&&(l=t.exec(o)),l===null)throw new Error("Date resolve error");if(f=+l[1],m=+l[2]-1,p=+l[3],!l[4])return new Date(Date.UTC(f,m,p));if(d=+l[4],g=+l[5],h=+l[6],l[7]){for(_=l[7].slice(0,3);_.length<3;)_+="0";_=+_}return l[9]&&(b=+l[10],S=+(l[11]||0),E=(b*60+S)*6e4,l[9]==="-"&&(E=-E)),x=new Date(Date.UTC(f,m,p,d,g,h,_)),E&&x.setTime(x.getTime()-E),x}function s(o){return o.toISOString()}return Go=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:n,instanceOf:Date,represent:s}),Go}var Ho,Fh;function C2(){if(Fh)return Ho;Fh=1;var i=Lt();function e(t){return t==="<<"||t===null}return Ho=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:e}),Ho}function Cb(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xo,Lh;function R2(){if(Lh)return Xo;Lh=1;var i;try{var e=Cb;i=e("buffer").Buffer}catch{}var t=Lt(),r=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function n(f){if(f===null)return!1;var m,p,d=0,g=f.length,h=r;for(p=0;p<g;p++)if(m=h.indexOf(f.charAt(p)),!(m>64)){if(m<0)return!1;d+=6}return d%8===0}function s(f){var m,p,d=f.replace(/[\r\n=]/g,""),g=d.length,h=r,_=0,E=[];for(m=0;m<g;m++)m%4===0&&m&&(E.push(_>>16&255),E.push(_>>8&255),E.push(_&255)),_=_<<6|h.indexOf(d.charAt(m));return p=g%4*6,p===0?(E.push(_>>16&255),E.push(_>>8&255),E.push(_&255)):p===18?(E.push(_>>10&255),E.push(_>>2&255)):p===12&&E.push(_>>4&255),i?i.from?i.from(E):new i(E):E}function o(f){var m="",p=0,d,g,h=f.length,_=r;for(d=0;d<h;d++)d%3===0&&d&&(m+=_[p>>18&63],m+=_[p>>12&63],m+=_[p>>6&63],m+=_[p&63]),p=(p<<8)+f[d];return g=h%3,g===0?(m+=_[p>>18&63],m+=_[p>>12&63],m+=_[p>>6&63],m+=_[p&63]):g===2?(m+=_[p>>10&63],m+=_[p>>4&63],m+=_[p<<2&63],m+=_[64]):g===1&&(m+=_[p>>2&63],m+=_[p<<4&63],m+=_[64],m+=_[64]),m}function l(f){return i&&i.isBuffer(f)}return Xo=new t("tag:yaml.org,2002:binary",{kind:"scalar",resolve:n,construct:s,predicate:l,represent:o}),Xo}var $o,Bh;function I2(){if(Bh)return $o;Bh=1;var i=Lt(),e=Object.prototype.hasOwnProperty,t=Object.prototype.toString;function r(s){if(s===null)return!0;var o=[],l,f,m,p,d,g=s;for(l=0,f=g.length;l<f;l+=1){if(m=g[l],d=!1,t.call(m)!=="[object Object]")return!1;for(p in m)if(e.call(m,p))if(!d)d=!0;else return!1;if(!d)return!1;if(o.indexOf(p)===-1)o.push(p);else return!1}return!0}function n(s){return s!==null?s:[]}return $o=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:n}),$o}var Wo,Ph;function N2(){if(Ph)return Wo;Ph=1;var i=Lt(),e=Object.prototype.toString;function t(n){if(n===null)return!0;var s,o,l,f,m,p=n;for(m=new Array(p.length),s=0,o=p.length;s<o;s+=1){if(l=p[s],e.call(l)!=="[object Object]"||(f=Object.keys(l),f.length!==1))return!1;m[s]=[f[0],l[f[0]]]}return!0}function r(n){if(n===null)return[];var s,o,l,f,m,p=n;for(m=new Array(p.length),s=0,o=p.length;s<o;s+=1)l=p[s],f=Object.keys(l),m[s]=[f[0],l[f[0]]];return m}return Wo=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:t,construct:r}),Wo}var Vo,qh;function D2(){if(qh)return Vo;qh=1;var i=Lt(),e=Object.prototype.hasOwnProperty;function t(n){if(n===null)return!0;var s,o=n;for(s in o)if(e.call(o,s)&&o[s]!==null)return!1;return!0}function r(n){return n!==null?n:{}}return Vo=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:t,construct:r}),Vo}var Ko,Uh;function Dn(){if(Uh)return Ko;Uh=1;var i=en();return Ko=new i({include:[kb()],implicit:[k2(),C2()],explicit:[R2(),I2(),N2(),D2()]}),Ko}var Jo,Mh;function F2(){if(Mh)return Jo;Mh=1;var i=Lt();function e(){return!0}function t(){}function r(){return""}function n(s){return typeof s>"u"}return Jo=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:e,construct:t,predicate:n,represent:r}),Jo}var Yo,zh;function L2(){if(zh)return Yo;zh=1;var i=Lt();function e(s){if(s===null||s.length===0)return!1;var o=s,l=/\/([gim]*)$/.exec(s),f="";return!(o[0]==="/"&&(l&&(f=l[1]),f.length>3||o[o.length-f.length-1]!=="/"))}function t(s){var o=s,l=/\/([gim]*)$/.exec(s),f="";return o[0]==="/"&&(l&&(f=l[1]),o=o.slice(1,o.length-f.length-1)),new RegExp(o,f)}function r(s){var o="/"+s.source+"/";return s.global&&(o+="g"),s.multiline&&(o+="m"),s.ignoreCase&&(o+="i"),o}function n(s){return Object.prototype.toString.call(s)==="[object RegExp]"}return Yo=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:e,construct:t,predicate:n,represent:r}),Yo}var Qo,jh;function B2(){if(jh)return Qo;jh=1;var i;try{var e=Cb;i=e("esprima")}catch{typeof window<"u"&&(i=window.esprima)}var t=Lt();function r(l){if(l===null)return!1;try{var f="("+l+")",m=i.parse(f,{range:!0});return!(m.type!=="Program"||m.body.length!==1||m.body[0].type!=="ExpressionStatement"||m.body[0].expression.type!=="ArrowFunctionExpression"&&m.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function n(l){var f="("+l+")",m=i.parse(f,{range:!0}),p=[],d;if(m.type!=="Program"||m.body.length!==1||m.body[0].type!=="ExpressionStatement"||m.body[0].expression.type!=="ArrowFunctionExpression"&&m.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return m.body[0].expression.params.forEach(function(g){p.push(g.name)}),d=m.body[0].expression.body.range,m.body[0].expression.body.type==="BlockStatement"?new Function(p,f.slice(d[0]+1,d[1]-1)):new Function(p,"return "+f.slice(d[0],d[1]))}function s(l){return l.toString()}function o(l){return Object.prototype.toString.call(l)==="[object Function]"}return Qo=new t("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:n,predicate:o,represent:s}),Qo}var Zo,Gh;function Hs(){if(Gh)return Zo;Gh=1;var i=en();return Zo=i.DEFAULT=new i({include:[Dn()],explicit:[F2(),L2(),B2()]}),Zo}var Hh;function P2(){if(Hh)return Gi;Hh=1;var i=Zi(),e=Mn(),t=y2(),r=Dn(),n=Hs(),s=Object.prototype.hasOwnProperty,o=1,l=2,f=3,m=4,p=1,d=2,g=3,h=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_=/[\x85\u2028\u2029]/,E=/[,\[\]\{\}]/,b=/^(?:!|!!|![a-z\-]+!)$/i,S=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function x(v){return Object.prototype.toString.call(v)}function O(v){return v===10||v===13}function w(v){return v===9||v===32}function T(v){return v===9||v===32||v===10||v===13}function q(v){return v===44||v===91||v===93||v===123||v===125}function N(v){var J;return 48<=v&&v<=57?v-48:(J=v|32,97<=J&&J<=102?J-97+10:-1)}function W(v){return v===120?2:v===117?4:v===85?8:0}function C(v){return 48<=v&&v<=57?v-48:-1}function I(v){return v===48?"\0":v===97?"\x07":v===98?"\b":v===116||v===9?"	":v===110?`
`:v===118?"\v":v===102?"\f":v===114?"\r":v===101?"\x1B":v===32?" ":v===34?'"':v===47?"/":v===92?"\\":v===78?"Â":v===95?"Â ":v===76?"\u2028":v===80?"\u2029":""}function z(v){return v<=65535?String.fromCharCode(v):String.fromCharCode((v-65536>>10)+55296,(v-65536&1023)+56320)}for(var X=new Array(256),ee=new Array(256),Y=0;Y<256;Y++)X[Y]=I(Y)?1:0,ee[Y]=I(Y);function K(v,J){this.input=v,this.filename=J.filename||null,this.schema=J.schema||n,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=v.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function se(v,J){return new e(J,new t(v.filename,v.input,v.position,v.line,v.position-v.lineStart))}function F(v,J){throw se(v,J)}function G(v,J){v.onWarning&&v.onWarning.call(null,se(v,J))}var V={YAML:function(J,le,ge){var he,ke,D;J.version!==null&&F(J,"duplication of %YAML directive"),ge.length!==1&&F(J,"YAML directive accepts exactly one argument"),he=/^([0-9]+)\.([0-9]+)$/.exec(ge[0]),he===null&&F(J,"ill-formed argument of the YAML directive"),ke=parseInt(he[1],10),D=parseInt(he[2],10),ke!==1&&F(J,"unacceptable YAML version of the document"),J.version=ge[0],J.checkLineBreaks=D<2,D!==1&&D!==2&&G(J,"unsupported YAML version of the document")},TAG:function(J,le,ge){var he,ke;ge.length!==2&&F(J,"TAG directive accepts exactly two arguments"),he=ge[0],ke=ge[1],b.test(he)||F(J,"ill-formed tag handle (first argument) of the TAG directive"),s.call(J.tagMap,he)&&F(J,'there is a previously declared suffix for "'+he+'" tag handle'),S.test(ke)||F(J,"ill-formed tag prefix (second argument) of the TAG directive"),J.tagMap[he]=ke}};function me(v,J,le,ge){var he,ke,D,ne;if(J<le){if(ne=v.input.slice(J,le),ge)for(he=0,ke=ne.length;he<ke;he+=1)D=ne.charCodeAt(he),D===9||32<=D&&D<=1114111||F(v,"expected valid JSON character");else h.test(ne)&&F(v,"the stream contains non-printable characters");v.result+=ne}}function ue(v,J,le,ge){var he,ke,D,ne;for(i.isObject(le)||F(v,"cannot merge mappings; the provided source object is unacceptable"),he=Object.keys(le),D=0,ne=he.length;D<ne;D+=1)ke=he[D],s.call(J,ke)||(J[ke]=le[ke],ge[ke]=!0)}function M(v,J,le,ge,he,ke,D,ne){var fe,be;if(Array.isArray(he))for(he=Array.prototype.slice.call(he),fe=0,be=he.length;fe<be;fe+=1)Array.isArray(he[fe])&&F(v,"nested arrays are not supported inside keys"),typeof he=="object"&&x(he[fe])==="[object Object]"&&(he[fe]="[object Object]");if(typeof he=="object"&&x(he)==="[object Object]"&&(he="[object Object]"),he=String(he),J===null&&(J={}),ge==="tag:yaml.org,2002:merge")if(Array.isArray(ke))for(fe=0,be=ke.length;fe<be;fe+=1)ue(v,J,ke[fe],le);else ue(v,J,ke,le);else!v.json&&!s.call(le,he)&&s.call(J,he)&&(v.line=D||v.line,v.position=ne||v.position,F(v,"duplicated mapping key")),J[he]=ke,delete le[he];return J}function te(v){var J;J=v.input.charCodeAt(v.position),J===10?v.position++:J===13?(v.position++,v.input.charCodeAt(v.position)===10&&v.position++):F(v,"a line break is expected"),v.line+=1,v.lineStart=v.position}function ie(v,J,le){for(var ge=0,he=v.input.charCodeAt(v.position);he!==0;){for(;w(he);)he=v.input.charCodeAt(++v.position);if(J&&he===35)do he=v.input.charCodeAt(++v.position);while(he!==10&&he!==13&&he!==0);if(O(he))for(te(v),he=v.input.charCodeAt(v.position),ge++,v.lineIndent=0;he===32;)v.lineIndent++,he=v.input.charCodeAt(++v.position);else break}return le!==-1&&ge!==0&&v.lineIndent<le&&G(v,"deficient indentation"),ge}function we(v){var J=v.position,le;return le=v.input.charCodeAt(J),!!((le===45||le===46)&&le===v.input.charCodeAt(J+1)&&le===v.input.charCodeAt(J+2)&&(J+=3,le=v.input.charCodeAt(J),le===0||T(le)))}function Re(v,J){J===1?v.result+=" ":J>1&&(v.result+=i.repeat(`
`,J-1))}function Te(v,J,le){var ge,he,ke,D,ne,fe,be,xe,ce=v.kind,Ce=v.result,ye;if(ye=v.input.charCodeAt(v.position),T(ye)||q(ye)||ye===35||ye===38||ye===42||ye===33||ye===124||ye===62||ye===39||ye===34||ye===37||ye===64||ye===96||(ye===63||ye===45)&&(he=v.input.charCodeAt(v.position+1),T(he)||le&&q(he)))return!1;for(v.kind="scalar",v.result="",ke=D=v.position,ne=!1;ye!==0;){if(ye===58){if(he=v.input.charCodeAt(v.position+1),T(he)||le&&q(he))break}else if(ye===35){if(ge=v.input.charCodeAt(v.position-1),T(ge))break}else{if(v.position===v.lineStart&&we(v)||le&&q(ye))break;if(O(ye))if(fe=v.line,be=v.lineStart,xe=v.lineIndent,ie(v,!1,-1),v.lineIndent>=J){ne=!0,ye=v.input.charCodeAt(v.position);continue}else{v.position=D,v.line=fe,v.lineStart=be,v.lineIndent=xe;break}}ne&&(me(v,ke,D,!1),Re(v,v.line-fe),ke=D=v.position,ne=!1),w(ye)||(D=v.position+1),ye=v.input.charCodeAt(++v.position)}return me(v,ke,D,!1),v.result?!0:(v.kind=ce,v.result=Ce,!1)}function Se(v,J){var le,ge,he;if(le=v.input.charCodeAt(v.position),le!==39)return!1;for(v.kind="scalar",v.result="",v.position++,ge=he=v.position;(le=v.input.charCodeAt(v.position))!==0;)if(le===39)if(me(v,ge,v.position,!0),le=v.input.charCodeAt(++v.position),le===39)ge=v.position,v.position++,he=v.position;else return!0;else O(le)?(me(v,ge,he,!0),Re(v,ie(v,!1,J)),ge=he=v.position):v.position===v.lineStart&&we(v)?F(v,"unexpected end of the document within a single quoted scalar"):(v.position++,he=v.position);F(v,"unexpected end of the stream within a single quoted scalar")}function Ie(v,J){var le,ge,he,ke,D,ne;if(ne=v.input.charCodeAt(v.position),ne!==34)return!1;for(v.kind="scalar",v.result="",v.position++,le=ge=v.position;(ne=v.input.charCodeAt(v.position))!==0;){if(ne===34)return me(v,le,v.position,!0),v.position++,!0;if(ne===92){if(me(v,le,v.position,!0),ne=v.input.charCodeAt(++v.position),O(ne))ie(v,!1,J);else if(ne<256&&X[ne])v.result+=ee[ne],v.position++;else if((D=W(ne))>0){for(he=D,ke=0;he>0;he--)ne=v.input.charCodeAt(++v.position),(D=N(ne))>=0?ke=(ke<<4)+D:F(v,"expected hexadecimal character");v.result+=z(ke),v.position++}else F(v,"unknown escape sequence");le=ge=v.position}else O(ne)?(me(v,le,ge,!0),Re(v,ie(v,!1,J)),le=ge=v.position):v.position===v.lineStart&&we(v)?F(v,"unexpected end of the document within a double quoted scalar"):(v.position++,ge=v.position)}F(v,"unexpected end of the stream within a double quoted scalar")}function Ne(v,J){var le=!0,ge,he=v.tag,ke,D=v.anchor,ne,fe,be,xe,ce,Ce={},ye,Fe,We,He;if(He=v.input.charCodeAt(v.position),He===91)fe=93,ce=!1,ke=[];else if(He===123)fe=125,ce=!0,ke={};else return!1;for(v.anchor!==null&&(v.anchorMap[v.anchor]=ke),He=v.input.charCodeAt(++v.position);He!==0;){if(ie(v,!0,J),He=v.input.charCodeAt(v.position),He===fe)return v.position++,v.tag=he,v.anchor=D,v.kind=ce?"mapping":"sequence",v.result=ke,!0;le||F(v,"missed comma between flow collection entries"),Fe=ye=We=null,be=xe=!1,He===63&&(ne=v.input.charCodeAt(v.position+1),T(ne)&&(be=xe=!0,v.position++,ie(v,!0,J))),ge=v.line,A(v,J,o,!1,!0),Fe=v.tag,ye=v.result,ie(v,!0,J),He=v.input.charCodeAt(v.position),(xe||v.line===ge)&&He===58&&(be=!0,He=v.input.charCodeAt(++v.position),ie(v,!0,J),A(v,J,o,!1,!0),We=v.result),ce?M(v,ke,Ce,Fe,ye,We):be?ke.push(M(v,null,Ce,Fe,ye,We)):ke.push(ye),ie(v,!0,J),He=v.input.charCodeAt(v.position),He===44?(le=!0,He=v.input.charCodeAt(++v.position)):le=!1}F(v,"unexpected end of the stream within a flow collection")}function je(v,J){var le,ge,he=p,ke=!1,D=!1,ne=J,fe=0,be=!1,xe,ce;if(ce=v.input.charCodeAt(v.position),ce===124)ge=!1;else if(ce===62)ge=!0;else return!1;for(v.kind="scalar",v.result="";ce!==0;)if(ce=v.input.charCodeAt(++v.position),ce===43||ce===45)p===he?he=ce===43?g:d:F(v,"repeat of a chomping mode identifier");else if((xe=C(ce))>=0)xe===0?F(v,"bad explicit indentation width of a block scalar; it cannot be less than one"):D?F(v,"repeat of an indentation width identifier"):(ne=J+xe-1,D=!0);else break;if(w(ce)){do ce=v.input.charCodeAt(++v.position);while(w(ce));if(ce===35)do ce=v.input.charCodeAt(++v.position);while(!O(ce)&&ce!==0)}for(;ce!==0;){for(te(v),v.lineIndent=0,ce=v.input.charCodeAt(v.position);(!D||v.lineIndent<ne)&&ce===32;)v.lineIndent++,ce=v.input.charCodeAt(++v.position);if(!D&&v.lineIndent>ne&&(ne=v.lineIndent),O(ce)){fe++;continue}if(v.lineIndent<ne){he===g?v.result+=i.repeat(`
`,ke?1+fe:fe):he===p&&ke&&(v.result+=`
`);break}for(ge?w(ce)?(be=!0,v.result+=i.repeat(`
`,ke?1+fe:fe)):be?(be=!1,v.result+=i.repeat(`
`,fe+1)):fe===0?ke&&(v.result+=" "):v.result+=i.repeat(`
`,fe):v.result+=i.repeat(`
`,ke?1+fe:fe),ke=!0,D=!0,fe=0,le=v.position;!O(ce)&&ce!==0;)ce=v.input.charCodeAt(++v.position);me(v,le,v.position,!1)}return!0}function Le(v,J){var le,ge=v.tag,he=v.anchor,ke=[],D,ne=!1,fe;for(v.anchor!==null&&(v.anchorMap[v.anchor]=ke),fe=v.input.charCodeAt(v.position);fe!==0&&!(fe!==45||(D=v.input.charCodeAt(v.position+1),!T(D)));){if(ne=!0,v.position++,ie(v,!0,-1)&&v.lineIndent<=J){ke.push(null),fe=v.input.charCodeAt(v.position);continue}if(le=v.line,A(v,J,f,!1,!0),ke.push(v.result),ie(v,!0,-1),fe=v.input.charCodeAt(v.position),(v.line===le||v.lineIndent>J)&&fe!==0)F(v,"bad indentation of a sequence entry");else if(v.lineIndent<J)break}return ne?(v.tag=ge,v.anchor=he,v.kind="sequence",v.result=ke,!0):!1}function Be(v,J,le){var ge,he,ke,D,ne=v.tag,fe=v.anchor,be={},xe={},ce=null,Ce=null,ye=null,Fe=!1,We=!1,He;for(v.anchor!==null&&(v.anchorMap[v.anchor]=be),He=v.input.charCodeAt(v.position);He!==0;){if(ge=v.input.charCodeAt(v.position+1),ke=v.line,D=v.position,(He===63||He===58)&&T(ge))He===63?(Fe&&(M(v,be,xe,ce,Ce,null),ce=Ce=ye=null),We=!0,Fe=!0,he=!0):Fe?(Fe=!1,he=!0):F(v,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),v.position+=1,He=ge;else if(A(v,le,l,!1,!0))if(v.line===ke){for(He=v.input.charCodeAt(v.position);w(He);)He=v.input.charCodeAt(++v.position);if(He===58)He=v.input.charCodeAt(++v.position),T(He)||F(v,"a whitespace character is expected after the key-value separator within a block mapping"),Fe&&(M(v,be,xe,ce,Ce,null),ce=Ce=ye=null),We=!0,Fe=!1,he=!1,ce=v.tag,Ce=v.result;else if(We)F(v,"can not read an implicit mapping pair; a colon is missed");else return v.tag=ne,v.anchor=fe,!0}else if(We)F(v,"can not read a block mapping entry; a multiline key may not be an implicit key");else return v.tag=ne,v.anchor=fe,!0;else break;if((v.line===ke||v.lineIndent>J)&&(A(v,J,m,!0,he)&&(Fe?Ce=v.result:ye=v.result),Fe||(M(v,be,xe,ce,Ce,ye,ke,D),ce=Ce=ye=null),ie(v,!0,-1),He=v.input.charCodeAt(v.position)),v.lineIndent>J&&He!==0)F(v,"bad indentation of a mapping entry");else if(v.lineIndent<J)break}return Fe&&M(v,be,xe,ce,Ce,null),We&&(v.tag=ne,v.anchor=fe,v.kind="mapping",v.result=be),We}function Ve(v){var J,le=!1,ge=!1,he,ke,D;if(D=v.input.charCodeAt(v.position),D!==33)return!1;if(v.tag!==null&&F(v,"duplication of a tag property"),D=v.input.charCodeAt(++v.position),D===60?(le=!0,D=v.input.charCodeAt(++v.position)):D===33?(ge=!0,he="!!",D=v.input.charCodeAt(++v.position)):he="!",J=v.position,le){do D=v.input.charCodeAt(++v.position);while(D!==0&&D!==62);v.position<v.length?(ke=v.input.slice(J,v.position),D=v.input.charCodeAt(++v.position)):F(v,"unexpected end of the stream within a verbatim tag")}else{for(;D!==0&&!T(D);)D===33&&(ge?F(v,"tag suffix cannot contain exclamation marks"):(he=v.input.slice(J-1,v.position+1),b.test(he)||F(v,"named tag handle cannot contain such characters"),ge=!0,J=v.position+1)),D=v.input.charCodeAt(++v.position);ke=v.input.slice(J,v.position),E.test(ke)&&F(v,"tag suffix cannot contain flow indicator characters")}return ke&&!S.test(ke)&&F(v,"tag name cannot contain such characters: "+ke),le?v.tag=ke:s.call(v.tagMap,he)?v.tag=v.tagMap[he]+ke:he==="!"?v.tag="!"+ke:he==="!!"?v.tag="tag:yaml.org,2002:"+ke:F(v,'undeclared tag handle "'+he+'"'),!0}function Je(v){var J,le;if(le=v.input.charCodeAt(v.position),le!==38)return!1;for(v.anchor!==null&&F(v,"duplication of an anchor property"),le=v.input.charCodeAt(++v.position),J=v.position;le!==0&&!T(le)&&!q(le);)le=v.input.charCodeAt(++v.position);return v.position===J&&F(v,"name of an anchor node must contain at least one character"),v.anchor=v.input.slice(J,v.position),!0}function B(v){var J,le,ge;if(ge=v.input.charCodeAt(v.position),ge!==42)return!1;for(ge=v.input.charCodeAt(++v.position),J=v.position;ge!==0&&!T(ge)&&!q(ge);)ge=v.input.charCodeAt(++v.position);return v.position===J&&F(v,"name of an alias node must contain at least one character"),le=v.input.slice(J,v.position),s.call(v.anchorMap,le)||F(v,'unidentified alias "'+le+'"'),v.result=v.anchorMap[le],ie(v,!0,-1),!0}function A(v,J,le,ge,he){var ke,D,ne,fe=1,be=!1,xe=!1,ce,Ce,ye,Fe,We;if(v.listener!==null&&v.listener("open",v),v.tag=null,v.anchor=null,v.kind=null,v.result=null,ke=D=ne=m===le||f===le,ge&&ie(v,!0,-1)&&(be=!0,v.lineIndent>J?fe=1:v.lineIndent===J?fe=0:v.lineIndent<J&&(fe=-1)),fe===1)for(;Ve(v)||Je(v);)ie(v,!0,-1)?(be=!0,ne=ke,v.lineIndent>J?fe=1:v.lineIndent===J?fe=0:v.lineIndent<J&&(fe=-1)):ne=!1;if(ne&&(ne=be||he),(fe===1||m===le)&&(o===le||l===le?Fe=J:Fe=J+1,We=v.position-v.lineStart,fe===1?ne&&(Le(v,We)||Be(v,We,Fe))||Ne(v,Fe)?xe=!0:(D&&je(v,Fe)||Se(v,Fe)||Ie(v,Fe)?xe=!0:B(v)?(xe=!0,(v.tag!==null||v.anchor!==null)&&F(v,"alias node should not have any properties")):Te(v,Fe,o===le)&&(xe=!0,v.tag===null&&(v.tag="?")),v.anchor!==null&&(v.anchorMap[v.anchor]=v.result)):fe===0&&(xe=ne&&Le(v,We))),v.tag!==null&&v.tag!=="!")if(v.tag==="?"){for(v.result!==null&&v.kind!=="scalar"&&F(v,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+v.kind+'"'),ce=0,Ce=v.implicitTypes.length;ce<Ce;ce+=1)if(ye=v.implicitTypes[ce],ye.resolve(v.result)){v.result=ye.construct(v.result),v.tag=ye.tag,v.anchor!==null&&(v.anchorMap[v.anchor]=v.result);break}}else s.call(v.typeMap[v.kind||"fallback"],v.tag)?(ye=v.typeMap[v.kind||"fallback"][v.tag],v.result!==null&&ye.kind!==v.kind&&F(v,"unacceptable node kind for !<"+v.tag+'> tag; it should be "'+ye.kind+'", not "'+v.kind+'"'),ye.resolve(v.result)?(v.result=ye.construct(v.result),v.anchor!==null&&(v.anchorMap[v.anchor]=v.result)):F(v,"cannot resolve a node with !<"+v.tag+"> explicit tag")):F(v,"unknown tag !<"+v.tag+">");return v.listener!==null&&v.listener("close",v),v.tag!==null||v.anchor!==null||xe}function k(v){var J=v.position,le,ge,he,ke=!1,D;for(v.version=null,v.checkLineBreaks=v.legacy,v.tagMap={},v.anchorMap={};(D=v.input.charCodeAt(v.position))!==0&&(ie(v,!0,-1),D=v.input.charCodeAt(v.position),!(v.lineIndent>0||D!==37));){for(ke=!0,D=v.input.charCodeAt(++v.position),le=v.position;D!==0&&!T(D);)D=v.input.charCodeAt(++v.position);for(ge=v.input.slice(le,v.position),he=[],ge.length<1&&F(v,"directive name must not be less than one character in length");D!==0;){for(;w(D);)D=v.input.charCodeAt(++v.position);if(D===35){do D=v.input.charCodeAt(++v.position);while(D!==0&&!O(D));break}if(O(D))break;for(le=v.position;D!==0&&!T(D);)D=v.input.charCodeAt(++v.position);he.push(v.input.slice(le,v.position))}D!==0&&te(v),s.call(V,ge)?V[ge](v,ge,he):G(v,'unknown document directive "'+ge+'"')}if(ie(v,!0,-1),v.lineIndent===0&&v.input.charCodeAt(v.position)===45&&v.input.charCodeAt(v.position+1)===45&&v.input.charCodeAt(v.position+2)===45?(v.position+=3,ie(v,!0,-1)):ke&&F(v,"directives end mark is expected"),A(v,v.lineIndent-1,m,!1,!0),ie(v,!0,-1),v.checkLineBreaks&&_.test(v.input.slice(J,v.position))&&G(v,"non-ASCII line breaks are interpreted as content"),v.documents.push(v.result),v.position===v.lineStart&&we(v)){v.input.charCodeAt(v.position)===46&&(v.position+=3,ie(v,!0,-1));return}if(v.position<v.length-1)F(v,"end of the stream or a document separator is expected");else return}function U(v,J){v=String(v),J=J||{},v.length!==0&&(v.charCodeAt(v.length-1)!==10&&v.charCodeAt(v.length-1)!==13&&(v+=`
`),v.charCodeAt(0)===65279&&(v=v.slice(1)));var le=new K(v,J),ge=v.indexOf("\0");for(ge!==-1&&(le.position=ge,F(le,"null byte is not allowed in input")),le.input+="\0";le.input.charCodeAt(le.position)===32;)le.lineIndent+=1,le.position+=1;for(;le.position<le.length-1;)k(le);return le.documents}function H(v,J,le){J!==null&&typeof J=="object"&&typeof le>"u"&&(le=J,J=null);var ge=U(v,le);if(typeof J!="function")return ge;for(var he=0,ke=ge.length;he<ke;he+=1)J(ge[he])}function ae(v,J){var le=U(v,J);if(le.length!==0){if(le.length===1)return le[0];throw new e("expected a single document in the stream, but found more")}}function pe(v,J,le){return typeof J=="object"&&J!==null&&typeof le>"u"&&(le=J,J=null),H(v,J,i.extend({schema:r},le))}function Pe(v,J){return ae(v,i.extend({schema:r},J))}return Gi.loadAll=H,Gi.load=ae,Gi.safeLoadAll=pe,Gi.safeLoad=Pe,Gi}var qs={},Xh;function q2(){if(Xh)return qs;Xh=1;var i=Zi(),e=Mn(),t=Hs(),r=Dn(),n=Object.prototype.toString,s=Object.prototype.hasOwnProperty,o=9,l=10,f=13,m=32,p=33,d=34,g=35,h=37,_=38,E=39,b=42,S=44,x=45,O=58,w=61,T=62,q=63,N=64,W=91,C=93,I=96,z=123,X=124,ee=125,Y={};Y[0]="\\0",Y[7]="\\a",Y[8]="\\b",Y[9]="\\t",Y[10]="\\n",Y[11]="\\v",Y[12]="\\f",Y[13]="\\r",Y[27]="\\e",Y[34]='\\"',Y[92]="\\\\",Y[133]="\\N",Y[160]="\\_",Y[8232]="\\L",Y[8233]="\\P";var K=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function se(D,ne){var fe,be,xe,ce,Ce,ye,Fe;if(ne===null)return{};for(fe={},be=Object.keys(ne),xe=0,ce=be.length;xe<ce;xe+=1)Ce=be[xe],ye=String(ne[Ce]),Ce.slice(0,2)==="!!"&&(Ce="tag:yaml.org,2002:"+Ce.slice(2)),Fe=D.compiledTypeMap.fallback[Ce],Fe&&s.call(Fe.styleAliases,ye)&&(ye=Fe.styleAliases[ye]),fe[Ce]=ye;return fe}function F(D){var ne,fe,be;if(ne=D.toString(16).toUpperCase(),D<=255)fe="x",be=2;else if(D<=65535)fe="u",be=4;else if(D<=4294967295)fe="U",be=8;else throw new e("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+fe+i.repeat("0",be-ne.length)+ne}function G(D){this.schema=D.schema||t,this.indent=Math.max(1,D.indent||2),this.noArrayIndent=D.noArrayIndent||!1,this.skipInvalid=D.skipInvalid||!1,this.flowLevel=i.isNothing(D.flowLevel)?-1:D.flowLevel,this.styleMap=se(this.schema,D.styles||null),this.sortKeys=D.sortKeys||!1,this.lineWidth=D.lineWidth||80,this.noRefs=D.noRefs||!1,this.noCompatMode=D.noCompatMode||!1,this.condenseFlow=D.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function V(D,ne){for(var fe=i.repeat(" ",ne),be=0,xe=-1,ce="",Ce,ye=D.length;be<ye;)xe=D.indexOf(`
`,be),xe===-1?(Ce=D.slice(be),be=ye):(Ce=D.slice(be,xe+1),be=xe+1),Ce.length&&Ce!==`
`&&(ce+=fe),ce+=Ce;return ce}function me(D,ne){return`
`+i.repeat(" ",D.indent*ne)}function ue(D,ne){var fe,be,xe;for(fe=0,be=D.implicitTypes.length;fe<be;fe+=1)if(xe=D.implicitTypes[fe],xe.resolve(ne))return!0;return!1}function M(D){return D===m||D===o}function te(D){return 32<=D&&D<=126||161<=D&&D<=55295&&D!==8232&&D!==8233||57344<=D&&D<=65533&&D!==65279||65536<=D&&D<=1114111}function ie(D){return te(D)&&!M(D)&&D!==65279&&D!==f&&D!==l}function we(D,ne){return te(D)&&D!==65279&&D!==S&&D!==W&&D!==C&&D!==z&&D!==ee&&D!==O&&(D!==g||ne&&ie(ne))}function Re(D){return te(D)&&D!==65279&&!M(D)&&D!==x&&D!==q&&D!==O&&D!==S&&D!==W&&D!==C&&D!==z&&D!==ee&&D!==g&&D!==_&&D!==b&&D!==p&&D!==X&&D!==w&&D!==T&&D!==E&&D!==d&&D!==h&&D!==N&&D!==I}function Te(D){var ne=/^\n* /;return ne.test(D)}var Se=1,Ie=2,Ne=3,je=4,Le=5;function Be(D,ne,fe,be,xe){var ce,Ce,ye,Fe=!1,We=!1,He=be!==-1,kt=-1,pt=Re(D.charCodeAt(0))&&!M(D.charCodeAt(D.length-1));if(ne)for(ce=0;ce<D.length;ce++){if(Ce=D.charCodeAt(ce),!te(Ce))return Le;ye=ce>0?D.charCodeAt(ce-1):null,pt=pt&&we(Ce,ye)}else{for(ce=0;ce<D.length;ce++){if(Ce=D.charCodeAt(ce),Ce===l)Fe=!0,He&&(We=We||ce-kt-1>be&&D[kt+1]!==" ",kt=ce);else if(!te(Ce))return Le;ye=ce>0?D.charCodeAt(ce-1):null,pt=pt&&we(Ce,ye)}We=We||He&&ce-kt-1>be&&D[kt+1]!==" "}return!Fe&&!We?pt&&!xe(D)?Se:Ie:fe>9&&Te(D)?Le:We?je:Ne}function Ve(D,ne,fe,be){D.dump=function(){if(ne.length===0)return"''";if(!D.noCompatMode&&K.indexOf(ne)!==-1)return"'"+ne+"'";var xe=D.indent*Math.max(1,fe),ce=D.lineWidth===-1?-1:Math.max(Math.min(D.lineWidth,40),D.lineWidth-xe),Ce=be||D.flowLevel>-1&&fe>=D.flowLevel;function ye(Fe){return ue(D,Fe)}switch(Be(ne,Ce,D.indent,ce,ye)){case Se:return ne;case Ie:return"'"+ne.replace(/'/g,"''")+"'";case Ne:return"|"+Je(ne,D.indent)+B(V(ne,xe));case je:return">"+Je(ne,D.indent)+B(V(A(ne,ce),xe));case Le:return'"'+U(ne)+'"';default:throw new e("impossible error: invalid scalar style")}}()}function Je(D,ne){var fe=Te(D)?String(ne):"",be=D[D.length-1]===`
`,xe=be&&(D[D.length-2]===`
`||D===`
`),ce=xe?"+":be?"":"-";return fe+ce+`
`}function B(D){return D[D.length-1]===`
`?D.slice(0,-1):D}function A(D,ne){for(var fe=/(\n+)([^\n]*)/g,be=function(){var We=D.indexOf(`
`);return We=We!==-1?We:D.length,fe.lastIndex=We,k(D.slice(0,We),ne)}(),xe=D[0]===`
`||D[0]===" ",ce,Ce;Ce=fe.exec(D);){var ye=Ce[1],Fe=Ce[2];ce=Fe[0]===" ",be+=ye+(!xe&&!ce&&Fe!==""?`
`:"")+k(Fe,ne),xe=ce}return be}function k(D,ne){if(D===""||D[0]===" ")return D;for(var fe=/ [^ ]/g,be,xe=0,ce,Ce=0,ye=0,Fe="";be=fe.exec(D);)ye=be.index,ye-xe>ne&&(ce=Ce>xe?Ce:ye,Fe+=`
`+D.slice(xe,ce),xe=ce+1),Ce=ye;return Fe+=`
`,D.length-xe>ne&&Ce>xe?Fe+=D.slice(xe,Ce)+`
`+D.slice(Ce+1):Fe+=D.slice(xe),Fe.slice(1)}function U(D){for(var ne="",fe,be,xe,ce=0;ce<D.length;ce++){if(fe=D.charCodeAt(ce),fe>=55296&&fe<=56319&&(be=D.charCodeAt(ce+1),be>=56320&&be<=57343)){ne+=F((fe-55296)*1024+be-56320+65536),ce++;continue}xe=Y[fe],ne+=!xe&&te(fe)?D[ce]:xe||F(fe)}return ne}function H(D,ne,fe){var be="",xe=D.tag,ce,Ce;for(ce=0,Ce=fe.length;ce<Ce;ce+=1)J(D,ne,fe[ce],!1,!1)&&(ce!==0&&(be+=","+(D.condenseFlow?"":" ")),be+=D.dump);D.tag=xe,D.dump="["+be+"]"}function ae(D,ne,fe,be){var xe="",ce=D.tag,Ce,ye;for(Ce=0,ye=fe.length;Ce<ye;Ce+=1)J(D,ne+1,fe[Ce],!0,!0)&&((!be||Ce!==0)&&(xe+=me(D,ne)),D.dump&&l===D.dump.charCodeAt(0)?xe+="-":xe+="- ",xe+=D.dump);D.tag=ce,D.dump=xe||"[]"}function pe(D,ne,fe){var be="",xe=D.tag,ce=Object.keys(fe),Ce,ye,Fe,We,He;for(Ce=0,ye=ce.length;Ce<ye;Ce+=1)He="",Ce!==0&&(He+=", "),D.condenseFlow&&(He+='"'),Fe=ce[Ce],We=fe[Fe],J(D,ne,Fe,!1,!1)&&(D.dump.length>1024&&(He+="? "),He+=D.dump+(D.condenseFlow?'"':"")+":"+(D.condenseFlow?"":" "),J(D,ne,We,!1,!1)&&(He+=D.dump,be+=He));D.tag=xe,D.dump="{"+be+"}"}function Pe(D,ne,fe,be){var xe="",ce=D.tag,Ce=Object.keys(fe),ye,Fe,We,He,kt,pt;if(D.sortKeys===!0)Ce.sort();else if(typeof D.sortKeys=="function")Ce.sort(D.sortKeys);else if(D.sortKeys)throw new e("sortKeys must be a boolean or a function");for(ye=0,Fe=Ce.length;ye<Fe;ye+=1)pt="",(!be||ye!==0)&&(pt+=me(D,ne)),We=Ce[ye],He=fe[We],J(D,ne+1,We,!0,!0,!0)&&(kt=D.tag!==null&&D.tag!=="?"||D.dump&&D.dump.length>1024,kt&&(D.dump&&l===D.dump.charCodeAt(0)?pt+="?":pt+="? "),pt+=D.dump,kt&&(pt+=me(D,ne)),J(D,ne+1,He,!0,kt)&&(D.dump&&l===D.dump.charCodeAt(0)?pt+=":":pt+=": ",pt+=D.dump,xe+=pt));D.tag=ce,D.dump=xe||"{}"}function v(D,ne,fe){var be,xe,ce,Ce,ye,Fe;for(xe=fe?D.explicitTypes:D.implicitTypes,ce=0,Ce=xe.length;ce<Ce;ce+=1)if(ye=xe[ce],(ye.instanceOf||ye.predicate)&&(!ye.instanceOf||typeof ne=="object"&&ne instanceof ye.instanceOf)&&(!ye.predicate||ye.predicate(ne))){if(D.tag=fe?ye.tag:"?",ye.represent){if(Fe=D.styleMap[ye.tag]||ye.defaultStyle,n.call(ye.represent)==="[object Function]")be=ye.represent(ne,Fe);else if(s.call(ye.represent,Fe))be=ye.represent[Fe](ne,Fe);else throw new e("!<"+ye.tag+'> tag resolver accepts not "'+Fe+'" style');D.dump=be}return!0}return!1}function J(D,ne,fe,be,xe,ce){D.tag=null,D.dump=fe,v(D,fe,!1)||v(D,fe,!0);var Ce=n.call(D.dump);be&&(be=D.flowLevel<0||D.flowLevel>ne);var ye=Ce==="[object Object]"||Ce==="[object Array]",Fe,We;if(ye&&(Fe=D.duplicates.indexOf(fe),We=Fe!==-1),(D.tag!==null&&D.tag!=="?"||We||D.indent!==2&&ne>0)&&(xe=!1),We&&D.usedDuplicates[Fe])D.dump="*ref_"+Fe;else{if(ye&&We&&!D.usedDuplicates[Fe]&&(D.usedDuplicates[Fe]=!0),Ce==="[object Object]")be&&Object.keys(D.dump).length!==0?(Pe(D,ne,D.dump,xe),We&&(D.dump="&ref_"+Fe+D.dump)):(pe(D,ne,D.dump),We&&(D.dump="&ref_"+Fe+" "+D.dump));else if(Ce==="[object Array]"){var He=D.noArrayIndent&&ne>0?ne-1:ne;be&&D.dump.length!==0?(ae(D,He,D.dump,xe),We&&(D.dump="&ref_"+Fe+D.dump)):(H(D,He,D.dump),We&&(D.dump="&ref_"+Fe+" "+D.dump))}else if(Ce==="[object String]")D.tag!=="?"&&Ve(D,D.dump,ne,ce);else{if(D.skipInvalid)return!1;throw new e("unacceptable kind of an object to dump "+Ce)}D.tag!==null&&D.tag!=="?"&&(D.dump="!<"+D.tag+"> "+D.dump)}return!0}function le(D,ne){var fe=[],be=[],xe,ce;for(ge(D,fe,be),xe=0,ce=be.length;xe<ce;xe+=1)ne.duplicates.push(fe[be[xe]]);ne.usedDuplicates=new Array(ce)}function ge(D,ne,fe){var be,xe,ce;if(D!==null&&typeof D=="object")if(xe=ne.indexOf(D),xe!==-1)fe.indexOf(xe)===-1&&fe.push(xe);else if(ne.push(D),Array.isArray(D))for(xe=0,ce=D.length;xe<ce;xe+=1)ge(D[xe],ne,fe);else for(be=Object.keys(D),xe=0,ce=be.length;xe<ce;xe+=1)ge(D[be[xe]],ne,fe)}function he(D,ne){ne=ne||{};var fe=new G(ne);return fe.noRefs||le(D,fe),J(fe,0,D,!0,!0)?fe.dump+`
`:""}function ke(D,ne){return he(D,i.extend({schema:r},ne))}return qs.dump=he,qs.safeDump=ke,qs}var $h;function U2(){if($h)return Tt;$h=1;var i=P2(),e=q2();function t(r){return function(){throw new Error("Function "+r+" is deprecated and cannot be used.")}}return Tt.Type=Lt(),Tt.Schema=en(),Tt.FAILSAFE_SCHEMA=Ff(),Tt.JSON_SCHEMA=Ob(),Tt.CORE_SCHEMA=kb(),Tt.DEFAULT_SAFE_SCHEMA=Dn(),Tt.DEFAULT_FULL_SCHEMA=Hs(),Tt.load=i.load,Tt.loadAll=i.loadAll,Tt.safeLoad=i.safeLoad,Tt.safeLoadAll=i.safeLoadAll,Tt.dump=e.dump,Tt.safeDump=e.safeDump,Tt.YAMLException=Mn(),Tt.MINIMAL_SCHEMA=Ff(),Tt.SAFE_SCHEMA=Dn(),Tt.DEFAULT_SCHEMA=Hs(),Tt.scan=t("scan"),Tt.parse=t("parse"),Tt.compose=t("compose"),Tt.addConstructor=t("addConstructor"),Tt}var el,Wh;function M2(){if(Wh)return el;Wh=1;var i=U2();return el=i,el}var Vh;function z2(){if(Vh)return Ps.exports;Vh=1;var i=M2(),e="\\ufeff?",t=typeof process<"u"?process.platform:"",r="^("+e+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(t==="win32"?"\\r?":"")+"(?:\\n)?)",n=new RegExp(r,"m");Ps.exports=s,Ps.exports.test=f;function s(m,p){m=m||"";var d={allowUnsafe:!1};p=p instanceof Object?{...d,...p}:d,p.allowUnsafe=!!p.allowUnsafe;var g=m.split(/(\r?\n)/);return g[0]&&/= yaml =|---/.test(g[0])?l(m,p.allowUnsafe):{attributes:{},body:m,bodyBegin:1}}function o(m,p){for(var d=1,g=p.indexOf(`
`),h=m.index+m[0].length;g!==-1;){if(g>=h)return d;d++,g=p.indexOf(`
`,g+1)}return d}function l(m,p){var d=n.exec(m);if(!d)return{attributes:{},body:m,bodyBegin:1};var g=p?i.load:i.safeLoad,h=d[d.length-1].replace(/^\s+|\s+$/g,""),_=g(h)||{},E=m.replace(d[0],""),b=o(d,m);return{attributes:_,body:E,bodyBegin:b,frontmatter:h}}function f(m){return m=m||"",n.test(m)}return Ps.exports}z2();function Rb(i,e){return xr.dropWhile(i,t=>!(t.text.indexOf(xr.first(e.ctsUrn.tokens)||"")>-1&&t.urn_index===xr.first(e.ctsUrn.tokenIndexes)))}function Kh(i="",e){return{type:"text_container",subtype:"span",text:i,urn:e}}function Ib(i,e=void 0){if(!e)return Ib(i.slice(1),i[0]);i=i.sort((r,n)=>r.start_offset-n.start_offset);function t(r){const n=r.urn;let s=[];for(let o=0;o<i.length;o++){const l=i[o];if(l.parentIndex===r.index){if(i.splice(o,1),o--,l.children=t(l),l.children.length>0){const f=r.text.slice(0,l.start_offset-r.start_offset);s.push(Kh(f,n))}if(s.push(l),l.children.length>0){const f=i[o+1],m=r.text.slice(l.end_offset-r.start_offset,f?f.start_offset-r.start_offset:r.end_offset);s.push(Kh(m,n))}}}return s}return e.children=t(e),e}function Nb(i,e){const t=xr.takeWhile(i,n=>!(n.text.indexOf(xr.last(e.ctsUrn.tokens)||"")>-1&&n.urn_index===xr.last(e.ctsUrn.tokenIndexes))),r=i.find(n=>n.text.indexOf(xr.last(e.ctsUrn.tokens)||"")>-1&&n.urn_index===xr.last(e.ctsUrn.tokenIndexes))||[];return t.concat(r)}function Db(i){return i.ctsUrn.integerCitations.length===1||i.ctsUrn.integerCitations[0].join("")===i.ctsUrn.integerCitations[1].join("")}function Fb(i,e,t){if(e.urn_index>0){const r=Rb(t,i);return Nb(r,i).find(s=>s.xml_id===e.xml_id)}}function Lb(i,e,t){return Nb(t,i).find(r=>r.xml_id===e.xml_id)}function Bb(i,e,t){return Rb(t,i).find(r=>r.xml_id===e.xml_id)}var j2=rt('<div class="openseadragon-iiif-viewer svelte-158togt"></div>');function G2(i,e){zt(e,!0);let t=Cr(void 0),r;vv(()=>{s()});function n(l){return l.image_paths?[...new Set(JSON.parse(l.image_paths))].map(f=>({type:"image",url:`${e.url.endsWith("/")?e.url:e.url+"/"}${f}`,crossOriginPolicy:"Anonymous",ajaxWithCredentials:!1,imagePath:f})):[]}async function s(){const{default:l}=await lT(async()=>{const{default:m}=await import("./n8Ccjfem.js").then(p=>p.o);return{default:m}},[],import.meta.url),f=n(e.comment).map(m=>{const p=JSON.parse(e.comment.overlays||"[]").filter(d=>m.url.indexOf(d.page_id)>-1).map(d=>({...d,className:"bg-sky-400 opacity-50"}));return m.overlays=p,m});r=l({element:re(t),maxZoomLevel:4,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.1.0/images/",preserveViewport:!0,sequenceMode:!0,tileSources:f}),r.addOnceHandler("add-overlay",({eventSource:m})=>{window.requestAnimationFrame(()=>{let p=m.currentOverlays.at(1);p==null&&(p=m.currentOverlays[0]);const d=m.viewport;d.fitBoundsWithConstraints(p.getBounds(d))})})}var o=j2();uT(o,l=>yt(t,l),()=>re(t)),ot(()=>dt(o,"id",`iiif_comment_viewer-${e.comment.citable_urn}`)),Me(i,o),jt()}var H2=(i,e)=>{i.key==="Enter"&&(i.stopPropagation(),e(i))},X2=rt('<small class="mt-1 mx-w-2xl text-sm text-slate-600"> </small>'),$2=(i,e)=>yt(e,!0),W2=rt('<button type="button" class="btn btn-xs btn-outline btn-secondary">Show page image</button>'),V2=rt('<div class="flex justify-center mt-2"><!></div>'),K2=rt('<div><div class="collapse-title" role="button" tabindex="0"><h3 class="text-sm font-bold text-b ase-content cursor-pointer"><span class="text-sm font-medium text-slate-600"><a data-sveltekit-reload=""> </a></span> </h3> <!></div> <div class="collapse-content float-right"><p class="max-w-2xl text-sm text-gray-800 prose comment-body font-serif svelte-f7t5p9"><!></p> <!></div></div>');function J2(i,e){zt(e,!0);let t=ut(()=>{var N;return(N=e.comment.commentaryAttributes)==null?void 0:N.creators}),r=ut(()=>e.comment.isHighlighted),n=ut(()=>re(r)),s=Cr(!1);function o(N){return(N.image_paths||[]).length>0}function l(N){yt(n,!re(n)),re(n)||yt(r,!1)}var f=K2();let m;var p=Oe(f);p.__click=l,p.__keyup=[H2,l];var d=Oe(p),g=Oe(d),h=Oe(g),_=Oe(h,!0);Ee(h),Ee(g);var E=Ue(g);Ee(d);var b=Ue(d,2);{var S=N=>{var W=X2(),C=Oe(W,!0);Ee(W),ot(()=>ht(C,e.comment.transcript||e.comment.lemma)),Me(N,W)};tt(b,N=>{e.comment.lemma&&N(S)})}Ee(p);var x=Ue(p,2),O=Oe(x),w=Oe(O);xf(w,()=>e.comment.body),Ee(O);var T=Ue(O,2);{var q=N=>{var W=V2(),C=Oe(W);{var I=X=>{G2(X,{get url(){return e.iiifURL},get comment(){return e.comment}})},z=X=>{var ee=W2();ee.__click=[$2,s],Me(X,ee)};tt(C,X=>{re(s)?X(I):X(z,!1)})}Ee(W),Me(N,W)};tt(T,N=>{o(e.comment)&&N(q)})}Ee(x),Ee(f),ot((N,W,C)=>{var I;m=$t(f,1,"border collapse collapse-arrow rounded-xs mb-2",null,m,N),dt(f,"id",e.comment.citable_urn),dt(h,"href",`?gloss=${e.comment.citable_urn}`),ht(_,W),ht(E,` ${C??""}
			${((I=e.comment.commentaryAttributes)==null?void 0:I.publication_date)??""}`)},[()=>({"border-2":re(r),"border-secondary":re(n)&&re(r),"collapse-open":re(n)}),()=>e.stringifyCommentCitation(e.comment),()=>re(t).map(N=>N.last_name||N.name).join(", ")]),Me(i,f),jt()}Nr(["click","keyup"]);var Y2=(i,e,t)=>e.handleOptionsChange(re(t)),Q2=rt('<span class="base-content float-right"> </span>'),Z2=rt('<div><label><input type="checkbox"/> <!></label></div>'),ek=rt('<div><input type="text" class="w-full input input-secondary input-sm mb-2" placeholder="Filter commentaries"/> <!></div>');function tk(i,e){zt(e,!0);const t=[];let r=It(e,"inputName",3,"filter-list"),n=It(e,"options",19,()=>[]),s=Cr(""),o=Cr(YE([])),l=ut(()=>re(s)===""?n():n().filter(d=>d.label.toLowerCase().includes(re(s).toLowerCase())));var f=ek(),m=Oe(f);Ms(m);var p=Ue(m,2);Zt(p,17,n,or,(d,g)=>{var h=Z2();let _;var E=Oe(h),b=Oe(E);Ms(b);var S;b.__change=[Y2,e,o];var x=Ue(b),O=Ue(x);{var w=T=>{var q=Q2(),N=Oe(q);Ee(q),ot(()=>ht(N,`(${re(g).extra??""})`)),Me(T,q)};tt(O,T=>{re(g).extra&&T(w)})}Ee(E),Ee(h),ot(T=>{_=$t(h,1,"text-sm mb-1",null,_,T),dt(E,"for",re(g).pid),dt(b,"id",re(g).pid),S!==(S=re(g).pid)&&(b.value=(b.__value=re(g).pid)??""),ht(x,` ${re(g).label??""} `)},[()=>({hidden:!re(l).some(T=>T.pid===re(g).pid)})]),ET(t,[],b,()=>(re(g).pid,re(o)),T=>yt(o,T)),Me(d,h)}),Ee(f),ot(()=>dt(m,"name",r())),wT(m,()=>re(s),d=>yt(s,d)),Me(i,f),jt()}Nr(["change"]);var rk=rt("<details><summary><span><!></span> </summary> <ul></ul></details>"),ik=rt("<a><span><!></span> </a>"),nk=rt("<li><!></li>");function Pb(i,e){zt(e,!0);let t=ut(()=>new Hr(e.currentPassageUrn)),r=ut(()=>new Hr(e.passage.urn)),n=ut(()=>{var p;return re(r).contains(re(t))||!((p=e.passage.subpassages)!=null&&p.length)&&re(r).isEqual(re(t))});var s=nk();let o;var l=Oe(s);{var f=p=>{var d=rk(),g=Oe(d),h=Oe(g);let _;var E=Oe(h);xf(E,()=>mt(e.passage.label)),Ee(h);var b=Ue(h);Ee(g);var S=Ue(g,2);Zt(S,21,()=>e.passage.subpassages,or,(x,O)=>{Pb(x,{get passage(){return re(O)},get currentPassageUrn(){return e.currentPassageUrn}})}),Ee(S),Ee(d),ot(x=>{d.open=re(n),_=$t(h,1,"",null,_,x),ht(b,` ${e.passage.ref??""}`)},[()=>({underline:re(n)})]),Me(p,d)},m=p=>{var d=ik(),g=Oe(d);let h;var _=Oe(g);xf(_,()=>mt(e.passage.label)),Ee(g);var E=Ue(g);Ee(d),ot(b=>{dt(d,"href",`${mT??""}/passages/${e.passage.urn??""}`),h=$t(g,1,"",null,h,b),ht(E,` ${e.passage.ref??""}`)},[()=>({underline:re(n)})]),Me(p,d)};tt(l,p=>{var d;(d=e.passage.subpassages)!=null&&d.length?p(f):p(m,!1)})}Ee(s),ot(p=>o=$t(s,1,"rounded-none",null,o,p),[()=>({"bg-secondary":re(n)})]),Me(i,s),jt()}var sk=rt('<ul class="menu bg-base-200 p-0"></ul>');function ak(i,e){var t=sk();Zt(t,21,()=>e.passages,or,(r,n)=>{Pb(r,{get passage(){return re(n)},get currentPassageUrn(){return e.currentPassageUrn}})}),Ee(t),Me(i,t)}/**
 * @license @lucide/svelte v0.488.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var lk=Ei("<svg><!><!></svg>");function uk(i,e){zt(e,!0);const t=It(e,"color",3,"currentColor"),r=It(e,"size",3,24),n=It(e,"strokeWidth",3,2),s=It(e,"absoluteStrokeWidth",3,!1),o=It(e,"iconNode",19,()=>[]),l=Nv(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var f=lk();wf(f,d=>({...ok,...l,width:r(),height:r(),stroke:t(),"stroke-width":d,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(n())*24/Number(r()):n()]);var m=Oe(f);Zt(m,17,o,or,(d,g)=>{var h=ut(()=>QE(re(g),2));let _=()=>re(h)[0],E=()=>re(h)[1];var b=Mt(),S=Ot(b);Lv(S,_,!0,(x,O)=>{wf(x,()=>({...E()}))}),Me(d,b)});var p=Ue(m);Fv(p,()=>e.children??qf),Ee(f),Me(i,f),jt()}function fk(i,e){zt(e,!0);let t=Nv(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];uk(i,fT({name:"info"},()=>t,{get iconNode(){return r},children:(n,s)=>{var o=Mt(),l=Ot(o);Fv(l,()=>e.children??qf),Me(n,o)},$$slots:{default:!0}})),jt()}var mk=rt('<div class="prose text-justify tooltip tooltip-neutral"><!></div>');function Us(i,e){var t=mk(),r=Oe(t);fk(r,{}),Ee(t),ot(()=>dt(t,"data-tip",e.text)),Me(i,t)}const qb=Symbol("comments");function Ub(){return Rv(qb)}function pk(i){Cv(qb,i)}const Mb=Symbol("tokenSelection");function ck(){return Rv(Mb)}function hk(i){Cv(Mb,i)}Nr(["change"]);var tl,Jh;function dk(){if(Jh)return tl;Jh=1;function i(){this.__data__=[],this.size=0}return tl=i,tl}var rl,Yh;function zb(){if(Yh)return rl;Yh=1;function i(e,t){return e===t||e!==e&&t!==t}return rl=i,rl}var il,Qh;function Ks(){if(Qh)return il;Qh=1;var i=zb();function e(t,r){for(var n=t.length;n--;)if(i(t[n][0],r))return n;return-1}return il=e,il}var nl,Zh;function gk(){if(Zh)return nl;Zh=1;var i=Ks(),e=Array.prototype,t=e.splice;function r(n){var s=this.__data__,o=i(s,n);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():t.call(s,o,1),--this.size,!0}return nl=r,nl}var sl,ed;function vk(){if(ed)return sl;ed=1;var i=Ks();function e(t){var r=this.__data__,n=i(r,t);return n<0?void 0:r[n][1]}return sl=e,sl}var al,td;function bk(){if(td)return al;td=1;var i=Ks();function e(t){return i(this.__data__,t)>-1}return al=e,al}var ol,rd;function _k(){if(rd)return ol;rd=1;var i=Ks();function e(t,r){var n=this.__data__,s=i(n,t);return s<0?(++this.size,n.push([t,r])):n[s][1]=r,this}return ol=e,ol}var ll,id;function Js(){if(id)return ll;id=1;var i=dk(),e=gk(),t=vk(),r=bk(),n=_k();function s(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}return s.prototype.clear=i,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=n,ll=s,ll}var ul,nd;function yk(){if(nd)return ul;nd=1;var i=Js();function e(){this.__data__=new i,this.size=0}return ul=e,ul}var fl,sd;function xk(){if(sd)return fl;sd=1;function i(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return fl=i,fl}var ml,ad;function Ak(){if(ad)return ml;ad=1;function i(e){return this.__data__.get(e)}return ml=i,ml}var pl,od;function wk(){if(od)return pl;od=1;function i(e){return this.__data__.has(e)}return pl=i,pl}var cl,ld;function jb(){if(ld)return cl;ld=1;var i=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr;return cl=i,cl}var hl,ud;function $r(){if(ud)return hl;ud=1;var i=jb(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=i||e||Function("return this")();return hl=t,hl}var dl,fd;function Ys(){if(fd)return dl;fd=1;var i=$r(),e=i.Symbol;return dl=e,dl}var gl,md;function Ek(){if(md)return gl;md=1;var i=Ys(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,n=i?i.toStringTag:void 0;function s(o){var l=t.call(o,n),f=o[n];try{o[n]=void 0;var m=!0}catch{}var p=r.call(o);return m&&(l?o[n]=f:delete o[n]),p}return gl=s,gl}var vl,pd;function Tk(){if(pd)return vl;pd=1;var i=Object.prototype,e=i.toString;function t(r){return e.call(r)}return vl=t,vl}var bl,cd;function zn(){if(cd)return bl;cd=1;var i=Ys(),e=Ek(),t=Tk(),r="[object Null]",n="[object Undefined]",s=i?i.toStringTag:void 0;function o(l){return l==null?l===void 0?n:r:s&&s in Object(l)?e(l):t(l)}return bl=o,bl}var _l,hd;function Kf(){if(hd)return _l;hd=1;function i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return _l=i,_l}var yl,dd;function Gb(){if(dd)return yl;dd=1;var i=zn(),e=Kf(),t="[object AsyncFunction]",r="[object Function]",n="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var f=i(l);return f==r||f==n||f==t||f==s}return yl=o,yl}var xl,gd;function Sk(){if(gd)return xl;gd=1;var i=$r(),e=i["__core-js_shared__"];return xl=e,xl}var Al,vd;function Ok(){if(vd)return Al;vd=1;var i=Sk(),e=function(){var r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Al=t,Al}var wl,bd;function Hb(){if(bd)return wl;bd=1;var i=Function.prototype,e=i.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return wl=t,wl}var El,_d;function kk(){if(_d)return El;_d=1;var i=Gb(),e=Ok(),t=Kf(),r=Hb(),n=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,f=o.toString,m=l.hasOwnProperty,p=RegExp("^"+f.call(m).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(g){if(!t(g)||e(g))return!1;var h=i(g)?p:s;return h.test(r(g))}return El=d,El}var Tl,yd;function Ck(){if(yd)return Tl;yd=1;function i(e,t){return e==null?void 0:e[t]}return Tl=i,Tl}var Sl,xd;function tn(){if(xd)return Sl;xd=1;var i=kk(),e=Ck();function t(r,n){var s=e(r,n);return i(s)?s:void 0}return Sl=t,Sl}var Ol,Ad;function Jf(){if(Ad)return Ol;Ad=1;var i=tn(),e=$r(),t=i(e,"Map");return Ol=t,Ol}var kl,wd;function Qs(){if(wd)return kl;wd=1;var i=tn(),e=i(Object,"create");return kl=e,kl}var Cl,Ed;function Rk(){if(Ed)return Cl;Ed=1;var i=Qs();function e(){this.__data__=i?i(null):{},this.size=0}return Cl=e,Cl}var Rl,Td;function Ik(){if(Td)return Rl;Td=1;function i(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Rl=i,Rl}var Il,Sd;function Nk(){if(Sd)return Il;Sd=1;var i=Qs(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function n(s){var o=this.__data__;if(i){var l=o[s];return l===e?void 0:l}return r.call(o,s)?o[s]:void 0}return Il=n,Il}var Nl,Od;function Dk(){if(Od)return Nl;Od=1;var i=Qs(),e=Object.prototype,t=e.hasOwnProperty;function r(n){var s=this.__data__;return i?s[n]!==void 0:t.call(s,n)}return Nl=r,Nl}var Dl,kd;function Fk(){if(kd)return Dl;kd=1;var i=Qs(),e="__lodash_hash_undefined__";function t(r,n){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=i&&n===void 0?e:n,this}return Dl=t,Dl}var Fl,Cd;function Lk(){if(Cd)return Fl;Cd=1;var i=Rk(),e=Ik(),t=Nk(),r=Dk(),n=Fk();function s(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}return s.prototype.clear=i,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=n,Fl=s,Fl}var Ll,Rd;function Bk(){if(Rd)return Ll;Rd=1;var i=Lk(),e=Js(),t=Jf();function r(){this.size=0,this.__data__={hash:new i,map:new(t||e),string:new i}}return Ll=r,Ll}var Bl,Id;function Pk(){if(Id)return Bl;Id=1;function i(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Bl=i,Bl}var Pl,Nd;function Zs(){if(Nd)return Pl;Nd=1;var i=Pk();function e(t,r){var n=t.__data__;return i(r)?n[typeof r=="string"?"string":"hash"]:n.map}return Pl=e,Pl}var ql,Dd;function qk(){if(Dd)return ql;Dd=1;var i=Zs();function e(t){var r=i(this,t).delete(t);return this.size-=r?1:0,r}return ql=e,ql}var Ul,Fd;function Uk(){if(Fd)return Ul;Fd=1;var i=Zs();function e(t){return i(this,t).get(t)}return Ul=e,Ul}var Ml,Ld;function Mk(){if(Ld)return Ml;Ld=1;var i=Zs();function e(t){return i(this,t).has(t)}return Ml=e,Ml}var zl,Bd;function zk(){if(Bd)return zl;Bd=1;var i=Zs();function e(t,r){var n=i(this,t),s=n.size;return n.set(t,r),this.size+=n.size==s?0:1,this}return zl=e,zl}var jl,Pd;function Yf(){if(Pd)return jl;Pd=1;var i=Bk(),e=qk(),t=Uk(),r=Mk(),n=zk();function s(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}return s.prototype.clear=i,s.prototype.delete=e,s.prototype.get=t,s.prototype.has=r,s.prototype.set=n,jl=s,jl}var Gl,qd;function jk(){if(qd)return Gl;qd=1;var i=Js(),e=Jf(),t=Yf(),r=200;function n(s,o){var l=this.__data__;if(l instanceof i){var f=l.__data__;if(!e||f.length<r-1)return f.push([s,o]),this.size=++l.size,this;l=this.__data__=new t(f)}return l.set(s,o),this.size=l.size,this}return Gl=n,Gl}var Hl,Ud;function Xb(){if(Ud)return Hl;Ud=1;var i=Js(),e=yk(),t=xk(),r=Ak(),n=wk(),s=jk();function o(l){var f=this.__data__=new i(l);this.size=f.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=s,Hl=o,Hl}var Xl,Md;function Gk(){if(Md)return Xl;Md=1;var i="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,i),this}return Xl=e,Xl}var $l,zd;function Hk(){if(zd)return $l;zd=1;function i(e){return this.__data__.has(e)}return $l=i,$l}var Wl,jd;function Xk(){if(jd)return Wl;jd=1;var i=Yf(),e=Gk(),t=Hk();function r(n){var s=-1,o=n==null?0:n.length;for(this.__data__=new i;++s<o;)this.add(n[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Wl=r,Wl}var Vl,Gd;function $k(){if(Gd)return Vl;Gd=1;function i(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}return Vl=i,Vl}var Kl,Hd;function Wk(){if(Hd)return Kl;Hd=1;function i(e,t){return e.has(t)}return Kl=i,Kl}var Jl,Xd;function $b(){if(Xd)return Jl;Xd=1;var i=Xk(),e=$k(),t=Wk(),r=1,n=2;function s(o,l,f,m,p,d){var g=f&r,h=o.length,_=l.length;if(h!=_&&!(g&&_>h))return!1;var E=d.get(o),b=d.get(l);if(E&&b)return E==l&&b==o;var S=-1,x=!0,O=f&n?new i:void 0;for(d.set(o,l),d.set(l,o);++S<h;){var w=o[S],T=l[S];if(m)var q=g?m(T,w,S,l,o,d):m(w,T,S,o,l,d);if(q!==void 0){if(q)continue;x=!1;break}if(O){if(!e(l,function(N,W){if(!t(O,W)&&(w===N||p(w,N,f,m,d)))return O.push(W)})){x=!1;break}}else if(!(w===T||p(w,T,f,m,d))){x=!1;break}}return d.delete(o),d.delete(l),x}return Jl=s,Jl}var Yl,$d;function Vk(){if($d)return Yl;$d=1;var i=$r(),e=i.Uint8Array;return Yl=e,Yl}var Ql,Wd;function Kk(){if(Wd)return Ql;Wd=1;function i(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}return Ql=i,Ql}var Zl,Vd;function Jk(){if(Vd)return Zl;Vd=1;function i(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}return Zl=i,Zl}var eu,Kd;function Yk(){if(Kd)return eu;Kd=1;var i=Ys(),e=Vk(),t=zb(),r=$b(),n=Kk(),s=Jk(),o=1,l=2,f="[object Boolean]",m="[object Date]",p="[object Error]",d="[object Map]",g="[object Number]",h="[object RegExp]",_="[object Set]",E="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",x="[object DataView]",O=i?i.prototype:void 0,w=O?O.valueOf:void 0;function T(q,N,W,C,I,z,X){switch(W){case x:if(q.byteLength!=N.byteLength||q.byteOffset!=N.byteOffset)return!1;q=q.buffer,N=N.buffer;case S:return!(q.byteLength!=N.byteLength||!z(new e(q),new e(N)));case f:case m:case g:return t(+q,+N);case p:return q.name==N.name&&q.message==N.message;case h:case E:return q==N+"";case d:var ee=n;case _:var Y=C&o;if(ee||(ee=s),q.size!=N.size&&!Y)return!1;var K=X.get(q);if(K)return K==N;C|=l,X.set(q,N);var se=r(ee(q),ee(N),C,I,z,X);return X.delete(q),se;case b:if(w)return w.call(q)==w.call(N)}return!1}return eu=T,eu}var tu,Jd;function Qk(){if(Jd)return tu;Jd=1;function i(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}return tu=i,tu}var ru,Yd;function Dr(){if(Yd)return ru;Yd=1;var i=Array.isArray;return ru=i,ru}var iu,Qd;function Zk(){if(Qd)return iu;Qd=1;var i=Qk(),e=Dr();function t(r,n,s){var o=n(r);return e(r)?o:i(o,s(r))}return iu=t,iu}var nu,Zd;function eC(){if(Zd)return nu;Zd=1;function i(e,t){for(var r=-1,n=e==null?0:e.length,s=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[s++]=l)}return o}return nu=i,nu}var su,eg;function tC(){if(eg)return su;eg=1;function i(){return[]}return su=i,su}var au,tg;function rC(){if(tg)return au;tg=1;var i=eC(),e=tC(),t=Object.prototype,r=t.propertyIsEnumerable,n=Object.getOwnPropertySymbols,s=n?function(o){return o==null?[]:(o=Object(o),i(n(o),function(l){return r.call(o,l)}))}:e;return au=s,au}var ou,rg;function iC(){if(rg)return ou;rg=1;function i(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}return ou=i,ou}var lu,ig;function jn(){if(ig)return lu;ig=1;function i(e){return e!=null&&typeof e=="object"}return lu=i,lu}var uu,ng;function nC(){if(ng)return uu;ng=1;var i=zn(),e=jn(),t="[object Arguments]";function r(n){return e(n)&&i(n)==t}return uu=r,uu}var fu,sg;function Wb(){if(sg)return fu;sg=1;var i=nC(),e=jn(),t=Object.prototype,r=t.hasOwnProperty,n=t.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(o){return e(o)&&r.call(o,"callee")&&!n.call(o,"callee")};return fu=s,fu}var Sn={exports:{}},mu,ag;function sC(){if(ag)return mu;ag=1;function i(){return!1}return mu=i,mu}Sn.exports;var og;function Vb(){return og||(og=1,function(i,e){var t=$r(),r=sC(),n=e&&!e.nodeType&&e,s=n&&!0&&i&&!i.nodeType&&i,o=s&&s.exports===n,l=o?t.Buffer:void 0,f=l?l.isBuffer:void 0,m=f||r;i.exports=m}(Sn,Sn.exports)),Sn.exports}var pu,lg;function Kb(){if(lg)return pu;lg=1;var i=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,n){var s=typeof r;return n=n??i,!!n&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<n}return pu=t,pu}var cu,ug;function Qf(){if(ug)return cu;ug=1;var i=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=i}return cu=e,cu}var hu,fg;function aC(){if(fg)return hu;fg=1;var i=zn(),e=Qf(),t=jn(),r="[object Arguments]",n="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",f="[object Function]",m="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",h="[object Set]",_="[object String]",E="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",x="[object Float32Array]",O="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",q="[object Int32Array]",N="[object Uint8Array]",W="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",z={};z[x]=z[O]=z[w]=z[T]=z[q]=z[N]=z[W]=z[C]=z[I]=!0,z[r]=z[n]=z[b]=z[s]=z[S]=z[o]=z[l]=z[f]=z[m]=z[p]=z[d]=z[g]=z[h]=z[_]=z[E]=!1;function X(ee){return t(ee)&&e(ee.length)&&!!z[i(ee)]}return hu=X,hu}var du,mg;function Jb(){if(mg)return du;mg=1;function i(e){return function(t){return e(t)}}return du=i,du}var On={exports:{}};On.exports;var pg;function oC(){return pg||(pg=1,function(i,e){var t=jb(),r=e&&!e.nodeType&&e,n=r&&!0&&i&&!i.nodeType&&i,s=n&&n.exports===r,o=s&&t.process,l=function(){try{var f=n&&n.require&&n.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}}();i.exports=l}(On,On.exports)),On.exports}var gu,cg;function Yb(){if(cg)return gu;cg=1;var i=aC(),e=Jb(),t=oC(),r=t&&t.isTypedArray,n=r?e(r):i;return gu=n,gu}var vu,hg;function lC(){if(hg)return vu;hg=1;var i=iC(),e=Wb(),t=Dr(),r=Vb(),n=Kb(),s=Yb(),o=Object.prototype,l=o.hasOwnProperty;function f(m,p){var d=t(m),g=!d&&e(m),h=!d&&!g&&r(m),_=!d&&!g&&!h&&s(m),E=d||g||h||_,b=E?i(m.length,String):[],S=b.length;for(var x in m)(p||l.call(m,x))&&!(E&&(x=="length"||h&&(x=="offset"||x=="parent")||_&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||n(x,S)))&&b.push(x);return b}return vu=f,vu}var bu,dg;function uC(){if(dg)return bu;dg=1;var i=Object.prototype;function e(t){var r=t&&t.constructor,n=typeof r=="function"&&r.prototype||i;return t===n}return bu=e,bu}var _u,gg;function fC(){if(gg)return _u;gg=1;function i(e,t){return function(r){return e(t(r))}}return _u=i,_u}var yu,vg;function mC(){if(vg)return yu;vg=1;var i=fC(),e=i(Object.keys,Object);return yu=e,yu}var xu,bg;function pC(){if(bg)return xu;bg=1;var i=uC(),e=mC(),t=Object.prototype,r=t.hasOwnProperty;function n(s){if(!i(s))return e(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return xu=n,xu}var Au,_g;function Zf(){if(_g)return Au;_g=1;var i=Gb(),e=Qf();function t(r){return r!=null&&e(r.length)&&!i(r)}return Au=t,Au}var wu,yg;function em(){if(yg)return wu;yg=1;var i=lC(),e=pC(),t=Zf();function r(n){return t(n)?i(n):e(n)}return wu=r,wu}var Eu,xg;function cC(){if(xg)return Eu;xg=1;var i=Zk(),e=rC(),t=em();function r(n){return i(n,t,e)}return Eu=r,Eu}var Tu,Ag;function hC(){if(Ag)return Tu;Ag=1;var i=cC(),e=1,t=Object.prototype,r=t.hasOwnProperty;function n(s,o,l,f,m,p){var d=l&e,g=i(s),h=g.length,_=i(o),E=_.length;if(h!=E&&!d)return!1;for(var b=h;b--;){var S=g[b];if(!(d?S in o:r.call(o,S)))return!1}var x=p.get(s),O=p.get(o);if(x&&O)return x==o&&O==s;var w=!0;p.set(s,o),p.set(o,s);for(var T=d;++b<h;){S=g[b];var q=s[S],N=o[S];if(f)var W=d?f(N,q,S,o,s,p):f(q,N,S,s,o,p);if(!(W===void 0?q===N||m(q,N,l,f,p):W)){w=!1;break}T||(T=S=="constructor")}if(w&&!T){var C=s.constructor,I=o.constructor;C!=I&&"constructor"in s&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof I=="function"&&I instanceof I)&&(w=!1)}return p.delete(s),p.delete(o),w}return Tu=n,Tu}var Su,wg;function dC(){if(wg)return Su;wg=1;var i=tn(),e=$r(),t=i(e,"DataView");return Su=t,Su}var Ou,Eg;function gC(){if(Eg)return Ou;Eg=1;var i=tn(),e=$r(),t=i(e,"Promise");return Ou=t,Ou}var ku,Tg;function vC(){if(Tg)return ku;Tg=1;var i=tn(),e=$r(),t=i(e,"Set");return ku=t,ku}var Cu,Sg;function bC(){if(Sg)return Cu;Sg=1;var i=tn(),e=$r(),t=i(e,"WeakMap");return Cu=t,Cu}var Ru,Og;function _C(){if(Og)return Ru;Og=1;var i=dC(),e=Jf(),t=gC(),r=vC(),n=bC(),s=zn(),o=Hb(),l="[object Map]",f="[object Object]",m="[object Promise]",p="[object Set]",d="[object WeakMap]",g="[object DataView]",h=o(i),_=o(e),E=o(t),b=o(r),S=o(n),x=s;return(i&&x(new i(new ArrayBuffer(1)))!=g||e&&x(new e)!=l||t&&x(t.resolve())!=m||r&&x(new r)!=p||n&&x(new n)!=d)&&(x=function(O){var w=s(O),T=w==f?O.constructor:void 0,q=T?o(T):"";if(q)switch(q){case h:return g;case _:return l;case E:return m;case b:return p;case S:return d}return w}),Ru=x,Ru}var Iu,kg;function yC(){if(kg)return Iu;kg=1;var i=Xb(),e=$b(),t=Yk(),r=hC(),n=_C(),s=Dr(),o=Vb(),l=Yb(),f=1,m="[object Arguments]",p="[object Array]",d="[object Object]",g=Object.prototype,h=g.hasOwnProperty;function _(E,b,S,x,O,w){var T=s(E),q=s(b),N=T?p:n(E),W=q?p:n(b);N=N==m?d:N,W=W==m?d:W;var C=N==d,I=W==d,z=N==W;if(z&&o(E)){if(!o(b))return!1;T=!0,C=!1}if(z&&!C)return w||(w=new i),T||l(E)?e(E,b,S,x,O,w):t(E,b,N,S,x,O,w);if(!(S&f)){var X=C&&h.call(E,"__wrapped__"),ee=I&&h.call(b,"__wrapped__");if(X||ee){var Y=X?E.value():E,K=ee?b.value():b;return w||(w=new i),O(Y,K,S,x,w)}}return z?(w||(w=new i),r(E,b,S,x,O,w)):!1}return Iu=_,Iu}var Nu,Cg;function tm(){if(Cg)return Nu;Cg=1;var i=yC(),e=jn();function t(r,n,s,o,l){return r===n?!0:r==null||n==null||!e(r)&&!e(n)?r!==r&&n!==n:i(r,n,s,o,t,l)}return Nu=t,Nu}var Du,Rg;function xC(){if(Rg)return Du;Rg=1;var i=tm();function e(t,r){return i(t,r)}return Du=e,Du}var AC=xC();const wC=Ln(AC);var EC=(i,e,t)=>{e(t.token.urn)},TC=(i,e,t)=>{e(t.token.urn)},SC=rt('<span role="button" tabindex="0"> </span>');function OC(i,e){zt(e,!0);const{handleEndSelection:t,handleStartSelection:r}=ck();var n=SC();n.__mousedown=[EC,r,e],n.__mouseup=[TC,t,e];var s=Oe(n,!0);Ee(n),ot(()=>{dt(n,"id",e.token.xml_id),dt(n,"data-urn",e.token.urn),ht(s,e.token.text)}),Me(i,n),jt()}Nr(["mousedown","mouseup"]);var kC=(i,e,t)=>e(re(t)),CC=(i,e,t)=>{i.key==="Enter"&&e(re(t))},RC=rt("<!> ",1),IC=rt('<a class="bg-secondary font-semibold leading-6 p-1 rounded-r text-sm text-white" target="_blank"> </a>'),NC=rt('<span role="button" tabindex="0"><!> <!></span>');function DC(i,e){zt(e,!0);let t=It(e,"showHeatmap",3,!0);const{highlightComments:r}=Ub();let n=ut(()=>[...new Set(e.run.flatMap(b=>b.commentURNs))]),s=ut(()=>re(n).length||0),o=ut(()=>e.run[0].xml_id),l=ut(()=>e.run.flatMap(b=>b.textElements)),f=ut(()=>`${re(s)} ${re(s)===1?"gloss":"glosses"} on this lemma`),m=ut(()=>re(l).find(b=>(b==null?void 0:b.subtype)==="named_entity")),p=ut(()=>!!re(m));var d=NC();let g;d.__click=[kC,r,n],d.__keyup=[CC,r,n];var h=Oe(d);Zt(h,17,()=>e.run,b=>b.xml_id,(b,S)=>{var x=RC(),O=Ot(x);OC(O,{get token(){return re(S)}});var w=Ue(O,1,!0);w.nodeValue=" ",Me(b,x)});var _=Ue(h,2);{var E=b=>{var S=IC(),x=Oe(S,!0);Ee(S),ot(()=>{dt(S,"href",re(m).attributes.entity_link),dt(S,"title",re(m).attributes.entity_link),ht(x,re(m).attributes.entity_type)}),Me(b,S)};tt(_,b=>{re(m)&&b(E)})}Ee(d),ot((b,S)=>{dt(d,"id",re(o)),g=$t(d,1,b,"svelte-btbx9p",g,S),dt(d,"title",re(f))},[()=>`comments-${Math.min(re(s),10)} 
		${re(p)?"bg-secondary/30 mr-1 pl-1 py-1 rounded-sm":""}
	`,()=>({"comment-box-shadow":t(),"cursor-pointer":re(s)>0})]),Me(i,d),jt()}Nr(["click","keyup"]);var FC=rt('<div class="container"><!></div>');function Qb(i,e){zt(e,!0);const t={quote:"div",l:"div",p:"p"};function r(d,g){return g.start_offset<=d.offset&&d.offset<=g.end_offset}function n(d,g){return d.urn===g.attributes.entity_urn}let s=ut(()=>t[e.textContainer.subtype]||"div"),o=ut(()=>new Hr(e.textContainer.urn)),l=ut(()=>e.textContainer.text.split(/\s/).map((d,g,h)=>{const E=h.slice(g).indexOf(d)+g,b=d,S=h.slice(0,g).filter(O=>O===d).length+1,x=`${e.textContainer.urn}@${b}[${S}]`;return{commentURNs:[],offset:E,text:b,urn_index:S,xml_id:x,urn:x}}).map((d,g,h)=>{var _,E;return{...d,commentURNs:(_=e.comments)==null?void 0:_.filter(b=>b.ctsUrn.tokens.some(S=>!!S)).filter(b=>{const S=new Hr(b.ctsUrn.__urn);return Db(b)?Fb(b,d,h):re(o).hasEqualStart(b.ctsUrn)?Bb(b,d,h):S.contains(re(o))?!0:re(o).hasEqualEnd(b.ctsUrn)?Lb(b,d,h):!1}).map(b=>b.citable_urn),textElements:(E=e.textContainer.textElements)==null?void 0:E.filter(b=>r(d,b)||n(d,b))}})),f=ut(()=>re(l).reduce((d,g)=>{const h=d.pop();if(typeof h>"u")return[[g]];const _=h.at(-1);if(typeof _>"u")return[...d,[g]];const E=_.commentURNs.every((O,w)=>{g.commentURNs[w]}),b=_.textElements||[],S=g.textElements||[],x=(b==null?void 0:b.length)===(S==null?void 0:S.length)&&(b==null?void 0:b.every((O,w)=>{var T,q,N,W;return((T=S[w])==null?void 0:T.start_offset)===(O==null?void 0:O.start_offset)&&((q=S[w])==null?void 0:q.end_offset)===(O==null?void 0:O.end_offset)&&((N=S[w])==null?void 0:N.subtype)===(O==null?void 0:O.subtype)&&wC((W=S[w])==null?void 0:W.attributes,O==null?void 0:O.attributes)}));return E&&x?(h.push(g),[...d,h]):[...d,h,[g]]},[]));var m=FC(),p=Oe(m);Lv(p,()=>re(s),!1,(d,g)=>{wf(d,S=>({class:`max-w-prose leading-6 ${e.textContainer.subtype??""}`,"data-urn":re(o).__urn,role:"presentation",[$i]:S}),[()=>({"indent-hanging":e.textContainer.subtype==="l"})],"svelte-1p8rzw6");var h=Mt(),_=Ot(h);{var E=S=>{var x=Mt(),O=Ot(x);Zt(O,17,()=>e.textContainer.children,or,(w,T)=>{Qb(w,{get showHeatmap(){return e.showHeatmap},get comments(){return e.comments},get textContainer(){return re(T)}})}),Me(S,x)},b=S=>{var x=Mt(),O=Ot(x);Zt(O,17,()=>re(f),or,(w,T)=>{DC(w,{get showHeatmap(){return e.showHeatmap},get run(){return re(T)}})}),Me(S,x)};tt(_,S=>{e.textContainer.children&&e.textContainer.children.length>0?S(E):S(b,!1)})}Me(g,h)}),Ee(m),Me(i,m),jt()}var LC=rt('<h3 class="font-bold pt-4"> </h3>');function BC(i,e){var t=LC(),r=Oe(t,!0);Ee(t),ot(()=>ht(r,e.name)),Me(i,t)}var PC=rt("<!> <!>",1),qC=(i,e,t)=>e(re(t).map(r=>r.citable_urn||r.urn)),UC=(i,e,t)=>{i.key==="Enter"&&e(re(t).map(r=>r.citable_urn))},MC=rt('<a role="button" tabindex="0"> </a>'),zC=rt('<span class="base-content inline-block w-12 text-center select-none"> </span>'),jC=rt('<div class="rounded-sm"><div class="rounded-sm bg-base-100 flex justify-between"><div></div> <div class="flex flex-col justify-center"><!></div></div></div>');function GC(i,e){zt(e,!0);const{highlightComments:t}=Ub();let r=ut(()=>(e.locationContainer.children||[]).length>0?e.locationContainer.children:[e.locationContainer]),n=ut(()=>new Hr(e.locationContainer.urn)),s=ut(()=>{var h;return((h=e.comments)==null?void 0:h.filter(_=>!_.ctsUrn.tokens.some(E=>!!E)).filter(_=>re(n).hasEqualStart(_.ctsUrn)))||[]});var o=jC(),l=Oe(o),f=Oe(l);Zt(f,21,()=>re(r),or,(h,_)=>{var E=PC(),b=Ot(E);{var S=O=>{BC(O,{get name(){return re(_).speaker}})};tt(b,O=>{re(_).speaker&&O(S)})}var x=Ue(b,2);Qb(x,{get showHeatmap(){return e.showHeatmap},get comments(){return e.comments},get textContainer(){return re(_)}}),Me(h,E)}),Ee(f);var m=Ue(f,2),p=Oe(m);{var d=h=>{var _=MC();dt(_,"href","#");let E;_.__click=[qC,t,s],_.__keyup=[UC,t,s];var b=Oe(_,!0);Ee(_),ot(S=>{E=$t(_,1,`base-content hover:opacity-70 cursor-pointer w-12 text-center inline-block comments-${re(s).length} select-none`,"svelte-btbx9p",E,S),dt(_,"data-citation",re(n).citations[0]),ht(b,re(n).citations[0])},[()=>({"comment-box-shadow":e.showHeatmap})]),Me(h,_)},g=h=>{var _=zC(),E=Oe(_,!0);Ee(_),ot(b=>ht(E,b),[()=>re(n).citations.join(".")]),Me(h,_)};tt(p,h=>{re(s).length>0?h(d):h(g,!1)})}Ee(m),Ee(l),Ee(o),Me(i,o),jt()}Nr(["click","keyup"]);function HC(i,e){zt(e,!0);let t=ut(()=>e.textContainers.reduce((s,o)=>{var p;const l=s.at(-1)||{},f=((p=l.containers)==null?void 0:p.at(-1))||{};if(xr.isEqual(f.location,o.location))return s.at(-1).containers=l.containers.concat(o),s.at(-1).comments=l.comments.concat(o.comments),s;const m={containers:[o],comments:o.comments||[]};return[...s,m]},[]).map(s=>({comments:e.selectedCommentaries.length>0?(s.comments||[]).filter(o=>{var l;return e.selectedCommentaries.includes(((l=o.commentaryAttributes)==null?void 0:l.pid)||"")}):s.comments||[],container:Ib(s.containers.map(o=>{var l;return{...o,parentIndex:(l=s.containers.findLast(f=>f.index!==o.index&&o.start_offset>=f.start_offset&&o.end_offset<=f.end_offset))==null?void 0:l.index}}))})));var r=Mt(),n=Ot(r);Zt(n,17,()=>re(t),or,(s,o)=>{GC(s,{get locationContainer(){return re(o).container},get comments(){return re(o).comments},get showHeatmap(){return e.showHeatmap}})}),Me(i,r),jt()}var XC=rt('<tr><td class="border-b border-slate-300"> </td><td class="border-b border-slate-300"> </td><td class="border-b border-slate-300"> </td></tr>');function $C(i,e){zt(e,!0);let t=ut(()=>new Hr(e.textContainer.urn)),r=ut(()=>e.textContainer.words.map((o,l,f)=>{var m;return{...o,commentURNs:(m=e.comments)==null?void 0:m.filter(p=>p.ctsUrn.tokens.some(d=>!!d)).filter(p=>{const d=new Hr(p.ctsUrn.__urn);return Db(p)?Fb(p,o,f):re(t).hasEqualStart(p.ctsUrn)?Bb(p,o,f):d.contains(re(t))?!0:re(t).hasEqualEnd(p.ctsUrn)?Lb(p,o,f):!1}).map(p=>p.citable_urn)}}));var n=Mt(),s=Ot(n);Zt(s,17,()=>re(r),or,(o,l)=>{var f=XC(),m=Oe(f),p=Oe(m,!0);Ee(m);var d=Ue(m),g=Oe(d,!0);Ee(d);var h=Ue(d),_=Oe(h,!0);Ee(h),Ee(f),ot(E=>{ht(p,re(l).urn),ht(g,re(l).commentURNs.length),ht(_,E)},[()=>re(l).commentURNs.join(", ")]),Me(o,f)}),Me(i,n),jt()}var WC=rt('<table class="table-fixed"><thead><tr><th>URN</th><th>Number of Comments</th><th>Comment URNs</th></tr></thead><tbody></tbody></table>');function VC(i,e){zt(e,!0);var t=WC(),r=Ue(Oe(t));Zt(r,21,()=>e.textContainers,or,(n,s)=>{const o=ut(()=>e.selectedCommentaries.length>0?(re(s).comments||[]).filter(l=>{var f;return e.selectedCommentaries.includes(((f=l.commentaryAttributes)==null?void 0:f.pid)||"")}):re(s).comments||[]);$C(n,{get textContainer(){return re(s)},get comments(){return re(o)}})}),Ee(r),Ee(t),Me(i,t),jt()}var KC=rt('<p class="text-gray-500"> </p>'),JC=rt('<div class="py-2"></div> <div class="flex justify-between items-center mb-2"><h3 class="prose prose-h3 font-semibold text-sm">Filter Comments</h3> <!></div> <!>',1),YC=rt('<article class="mx-auto w-full"><div class="grid grid-cols-10 gap-x-8 gap-y-2 h-screen max-h-[64rem]"><div class="col-span-full flex justify-between"><div><!></div> <div class="flex justify-between items-center mb-2"><!> <form><div class="form-control"><label class="label cursor-pointer"><span class="label-text mr-2">Highlight lemmata</span> <input name="heatmap-toggle" type="checkbox" class="toggle" value="1"/></label></div></form> <!> <form><div class="form-control"><label class="label cursor-pointer"><span class="label-text mr-2">Show table view</span> <input name="table-view-toggle" type="checkbox" class="toggle" value="0"/></label></div></form></div></div> <section class="col-span-2"><div class="flex justify-between items-center mb-2"><h3 class="prose prose-h3 font-semibold text-sm">Navigation</h3> <!></div> <section class="col-span-1"><!></section> <!></section> <section class="col-span-5 overflow-y-scroll"><!></section> <section class="overflow-y-scroll col-span-3 max-h-screen"></section></div></article>');function pI(i,e){zt(e,!0);let t=It(e,"DaisyUITheme",3,"corporate"),r=It(e,"comments",15),n=It(e,"citationPrefix",3,"v."),s=It(e,"citationPrefixPlural",3,"vv."),o=It(e,"showCommentaryFilters",3,!0),l=It(e,"stringifyCommentCitation",3,U=>{const{integerCitations:H}=U.ctsUrn;return H.length===2&&H[0].join("")!==H[1].join("")?`${s()} ${H[0].join("")}-${H[1].join("")}`:`${n()} ${H[0].join("")}`}),f=Cr(null),m=null,p=null;vv(()=>{const U=e.currentURL.searchParams.get("gloss");U&&g([U])}),pk({highlightComments:g}),hk({handleEndSelection:E,handleStartSelection:b});function d(U){yt(O,U,!0)}async function g(U){let H;r(r().map(ae=>U.includes(ae.citable_urn)?(H||(H=ae),{...ae,isHighlighted:!0}):{...ae,isHighlighted:!1})),H&&H.citable_urn&&(await ZE(),setTimeout(()=>{var ae;(ae=document.getElementById(H.citable_urn))==null||ae.scrollIntoView({behavior:"smooth"})},200))}function h(){yt(T,!re(T)),yt(f,null)}function _(){yt(q,!re(q))}function E(U){if(re(T)){p=null;return}if(p=U,!m)return;if(m===p){yt(f,m,!0);return}const H=new Hr(m),ae=new Hr(p),pe=H.integerCitations;ae.integerCitations.some((J,le)=>J<pe[le])?yt(f,`${p}-${H.passageComponent}`):yt(f,`${m}-${ae.passageComponent}`)}function b(U){if(re(T)){m=null;return}m=U}let S=ut(()=>xr.countBy(r(),U=>{var H;return(H=U.commentaryAttributes)==null?void 0:H.pid})),x=ut(()=>xr.sortBy(Object.keys(re(S)).map(U=>{var pe,Pe;const H=((pe=r().find(v=>{var J;return((J=v.commentaryAttributes)==null?void 0:J.pid)===U}))==null?void 0:pe.commentaryAttributes)||{},ae=`${(Pe=H.creators)==null?void 0:Pe.map(v=>v.last_name).join(", ")} ${H.publication_date}`;return{extra:re(S)[U],label:ae,pid:U}}),U=>U.label)),O=ut(()=>[]),w=ut(()=>r().filter(U=>{var H;return re(O).length>0?re(O).includes(((H=U.commentaryAttributes)==null?void 0:H.pid)||""):!0})),T=Cr(!0),q=Cr(!1);var N=YC(),W=Oe(N),C=Oe(W),I=Oe(C),z=Oe(I);{var X=U=>{var H=KC(),ae=Oe(H);Ee(H),ot(()=>ht(ae,`Selected URN: ${re(f)??""}`)),Me(U,H)};tt(z,U=>{re(f)&&U(X)})}Ee(I);var ee=Ue(I,2),Y=Oe(ee);{var K=U=>{Us(U,{get text(){return e.heatmapTooltip}})};tt(Y,U=>{e.heatmapTooltip&&U(K)})}var se=Ue(Y,2),F=Oe(se),G=Oe(F),V=Ue(Oe(G),2);Ms(V),V.__change=h,Ee(G),Ee(F),Ee(se);var me=Ue(se,2);{var ue=U=>{Us(U,{get text(){return e.tableViewTooltip}})};tt(me,U=>{e.tableViewTooltip&&U(ue)})}var M=Ue(me,2),te=Oe(M),ie=Oe(te),we=Ue(Oe(ie),2);Ms(we),we.__change=_,Ee(ie),Ee(te),Ee(M),Ee(ee),Ee(C);var Re=Ue(C,2),Te=Oe(Re),Se=Ue(Oe(Te),2);{var Ie=U=>{Us(U,{get text(){return e.navigationTooltip}})};tt(Se,U=>{e.navigationTooltip&&U(Ie)})}Ee(Te);var Ne=Ue(Te,2),je=Oe(Ne);ak(je,{get passages(){return e.passages},get currentPassageUrn(){return e.currentPassage.urn}}),Ee(Ne);var Le=Ue(Ne,2);{var Be=U=>{var H=JC(),ae=Ue(Ot(H),2),pe=Ue(Oe(ae),2);{var Pe=J=>{Us(J,{get text(){return e.filterListTooltip}})};tt(pe,J=>{e.filterListTooltip&&J(Pe)})}Ee(ae);var v=Ue(ae,2);tk(v,{get options(){return re(x)},handleOptionsChange:d}),Me(U,H)};tt(Le,U=>{o()&&U(Be)})}Ee(Re);var Ve=Ue(Re,2),Je=Oe(Ve);{var B=U=>{VC(U,{get selectedCommentaries(){return re(O)},get textContainers(){return e.textContainers}})},A=U=>{HC(U,{get selectedCommentaries(){return re(O)},get showHeatmap(){return re(T)},get textContainers(){return e.textContainers}})};tt(Je,U=>{re(q)?U(B):U(A,!1)})}Ee(Ve);var k=Ue(Ve,2);Zt(k,21,()=>re(w),or,(U,H)=>{J2(U,{get iiifURL(){return e.iiifURL},get comment(){return re(H)},stringifyCommentCitation:l()})}),Ee(k),Ee(W),Ee(N),ot(()=>{dt(N,"data-theme",t()),Mc(V,re(T)),Mc(we,re(q))}),Lc("submit",se,h),Lc("submit",M,_),Me(i,N),jt()}Nr(["change"]);var Fu,Ig;function Zb(){if(Ig)return Fu;Ig=1;function i(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}return Fu=i,Fu}var Lu,Ng;function ea(){if(Ng)return Lu;Ng=1;var i=zn(),e=jn(),t="[object Symbol]";function r(n){return typeof n=="symbol"||e(n)&&i(n)==t}return Lu=r,Lu}var Bu,Dg;function rm(){if(Dg)return Bu;Dg=1;var i=Dr(),e=ea(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(s,o){if(i(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!t.test(s)||o!=null&&s in Object(o)}return Bu=n,Bu}var Pu,Fg;function QC(){if(Fg)return Pu;Fg=1;var i=Yf(),e="Expected a function";function t(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(e);var s=function(){var o=arguments,l=n?n.apply(this,o):o[0],f=s.cache;if(f.has(l))return f.get(l);var m=r.apply(this,o);return s.cache=f.set(l,m)||f,m};return s.cache=new(t.Cache||i),s}return t.Cache=i,Pu=t,Pu}var qu,Lg;function ZC(){if(Lg)return qu;Lg=1;var i=QC(),e=500;function t(r){var n=i(r,function(o){return s.size===e&&s.clear(),o}),s=n.cache;return n}return qu=t,qu}var Uu,Bg;function eR(){if(Bg)return Uu;Bg=1;var i=ZC(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=i(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(e,function(o,l,f,m){s.push(f?m.replace(t,"$1"):l||o)}),s});return Uu=r,Uu}var Mu,Pg;function tR(){if(Pg)return Mu;Pg=1;var i=Ys(),e=Zb(),t=Dr(),r=ea(),n=i?i.prototype:void 0,s=n?n.toString:void 0;function o(l){if(typeof l=="string")return l;if(t(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return Mu=o,Mu}var zu,qg;function rR(){if(qg)return zu;qg=1;var i=tR();function e(t){return t==null?"":i(t)}return zu=e,zu}var ju,Ug;function e0(){if(Ug)return ju;Ug=1;var i=Dr(),e=rm(),t=eR(),r=rR();function n(s,o){return i(s)?s:e(s,o)?[s]:t(r(s))}return ju=n,ju}var Gu,Mg;function ta(){if(Mg)return Gu;Mg=1;var i=ea();function e(t){if(typeof t=="string"||i(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Gu=e,Gu}var Hu,zg;function im(){if(zg)return Hu;zg=1;var i=e0(),e=ta();function t(r,n){n=i(n,r);for(var s=0,o=n.length;r!=null&&s<o;)r=r[e(n[s++])];return s&&s==o?r:void 0}return Hu=t,Hu}var Xu,jg;function iR(){if(jg)return Xu;jg=1;var i=Xb(),e=tm(),t=1,r=2;function n(s,o,l,f){var m=l.length,p=m,d=!f;if(s==null)return!p;for(s=Object(s);m--;){var g=l[m];if(d&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++m<p;){g=l[m];var h=g[0],_=s[h],E=g[1];if(d&&g[2]){if(_===void 0&&!(h in s))return!1}else{var b=new i;if(f)var S=f(_,E,h,s,o,b);if(!(S===void 0?e(E,_,t|r,f,b):S))return!1}}return!0}return Xu=n,Xu}var $u,Gg;function t0(){if(Gg)return $u;Gg=1;var i=Kf();function e(t){return t===t&&!i(t)}return $u=e,$u}var Wu,Hg;function nR(){if(Hg)return Wu;Hg=1;var i=t0(),e=em();function t(r){for(var n=e(r),s=n.length;s--;){var o=n[s],l=r[o];n[s]=[o,l,i(l)]}return n}return Wu=t,Wu}var Vu,Xg;function r0(){if(Xg)return Vu;Xg=1;function i(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return Vu=i,Vu}var Ku,$g;function sR(){if($g)return Ku;$g=1;var i=iR(),e=nR(),t=r0();function r(n){var s=e(n);return s.length==1&&s[0][2]?t(s[0][0],s[0][1]):function(o){return o===n||i(o,n,s)}}return Ku=r,Ku}var Ju,Wg;function aR(){if(Wg)return Ju;Wg=1;var i=im();function e(t,r,n){var s=t==null?void 0:i(t,r);return s===void 0?n:s}return Ju=e,Ju}var Yu,Vg;function oR(){if(Vg)return Yu;Vg=1;function i(e,t){return e!=null&&t in Object(e)}return Yu=i,Yu}var Qu,Kg;function lR(){if(Kg)return Qu;Kg=1;var i=e0(),e=Wb(),t=Dr(),r=Kb(),n=Qf(),s=ta();function o(l,f,m){f=i(f,l);for(var p=-1,d=f.length,g=!1;++p<d;){var h=s(f[p]);if(!(g=l!=null&&m(l,h)))break;l=l[h]}return g||++p!=d?g:(d=l==null?0:l.length,!!d&&n(d)&&r(h,d)&&(t(l)||e(l)))}return Qu=o,Qu}var Zu,Jg;function uR(){if(Jg)return Zu;Jg=1;var i=oR(),e=lR();function t(r,n){return r!=null&&e(r,n,i)}return Zu=t,Zu}var ef,Yg;function fR(){if(Yg)return ef;Yg=1;var i=tm(),e=aR(),t=uR(),r=rm(),n=t0(),s=r0(),o=ta(),l=1,f=2;function m(p,d){return r(p)&&n(d)?s(o(p),d):function(g){var h=e(g,p);return h===void 0&&h===d?t(g,p):i(d,h,l|f)}}return ef=m,ef}var tf,Qg;function i0(){if(Qg)return tf;Qg=1;function i(e){return e}return tf=i,tf}var rf,Zg;function mR(){if(Zg)return rf;Zg=1;function i(e){return function(t){return t==null?void 0:t[e]}}return rf=i,rf}var nf,ev;function pR(){if(ev)return nf;ev=1;var i=im();function e(t){return function(r){return i(r,t)}}return nf=e,nf}var sf,tv;function cR(){if(tv)return sf;tv=1;var i=mR(),e=pR(),t=rm(),r=ta();function n(s){return t(s)?i(r(s)):e(s)}return sf=n,sf}var af,rv;function hR(){if(rv)return af;rv=1;var i=sR(),e=fR(),t=i0(),r=Dr(),n=cR();function s(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):i(o):n(o)}return af=s,af}var of,iv;function dR(){if(iv)return of;iv=1;function i(e){return function(t,r,n){for(var s=-1,o=Object(t),l=n(t),f=l.length;f--;){var m=l[e?f:++s];if(r(o[m],m,o)===!1)break}return t}}return of=i,of}var lf,nv;function gR(){if(nv)return lf;nv=1;var i=dR(),e=i();return lf=e,lf}var uf,sv;function vR(){if(sv)return uf;sv=1;var i=gR(),e=em();function t(r,n){return r&&i(r,n,e)}return uf=t,uf}var ff,av;function bR(){if(av)return ff;av=1;var i=Zf();function e(t,r){return function(n,s){if(n==null)return n;if(!i(n))return t(n,s);for(var o=n.length,l=r?o:-1,f=Object(n);(r?l--:++l<o)&&s(f[l],l,f)!==!1;);return n}}return ff=e,ff}var mf,ov;function _R(){if(ov)return mf;ov=1;var i=vR(),e=bR(),t=e(i);return mf=t,mf}var pf,lv;function yR(){if(lv)return pf;lv=1;var i=_R(),e=Zf();function t(r,n){var s=-1,o=e(r)?Array(r.length):[];return i(r,function(l,f,m){o[++s]=n(l,f,m)}),o}return pf=t,pf}var cf,uv;function xR(){if(uv)return cf;uv=1;function i(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return cf=i,cf}var hf,fv;function AR(){if(fv)return hf;fv=1;var i=ea();function e(t,r){if(t!==r){var n=t!==void 0,s=t===null,o=t===t,l=i(t),f=r!==void 0,m=r===null,p=r===r,d=i(r);if(!m&&!d&&!l&&t>r||l&&f&&p&&!m&&!d||s&&f&&p||!n&&p||!o)return 1;if(!s&&!l&&!d&&t<r||d&&n&&o&&!s&&!l||m&&n&&o||!f&&o||!p)return-1}return 0}return hf=e,hf}var df,mv;function wR(){if(mv)return df;mv=1;var i=AR();function e(t,r,n){for(var s=-1,o=t.criteria,l=r.criteria,f=o.length,m=n.length;++s<f;){var p=i(o[s],l[s]);if(p){if(s>=m)return p;var d=n[s];return p*(d=="desc"?-1:1)}}return t.index-r.index}return df=e,df}var gf,pv;function ER(){if(pv)return gf;pv=1;var i=Zb(),e=im(),t=hR(),r=yR(),n=xR(),s=Jb(),o=wR(),l=i0(),f=Dr();function m(p,d,g){d.length?d=i(d,function(E){return f(E)?function(b){return e(b,E.length===1?E[0]:E)}:E}):d=[l];var h=-1;d=i(d,s(t));var _=r(p,function(E,b,S){var x=i(d,function(O){return O(E)});return{criteria:x,index:++h,value:E}});return n(_,function(E,b){return o(E,b,g)})}return gf=m,gf}var vf,cv;function TR(){if(cv)return vf;cv=1;var i=ER(),e=Dr();function t(r,n,s,o){return r==null?[]:(e(n)||(n=n==null?[]:[n]),s=o?void 0:s,e(s)||(s=s==null?[]:[s]),i(r,n,s))}return vf=t,vf}var SR=TR();const OR=Ln(SR);var kR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"></path></svg>');function Hi(i,e){let t=It(e,"className",8,"size-6");var r=kR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}var CR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"></path></svg>');function Xi(i,e){let t=It(e,"className",8,"size-6");var r=CR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}var RR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg>');function IR(i,e){let t=It(e,"className",8,"size-6");var r=RR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}var NR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path></svg>');function DR(i,e){let t=It(e,"className",8,"size-6");var r=NR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}var FR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"></path></svg>');function hv(i,e){let t=It(e,"className",8,"size-6");var r=FR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}const LR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='156'%20width='156'%20version='1.1'%3e%3ccircle%20r='70'%20stroke='%23FFF'%20cy='78'%20cx='78'%20stroke-width='12'%20fill='%23E6E6E6'/%3e%3ccircle%20cy='78'%20cx='78'%20r='56'%20fill='%23FFF'/%3e%3cg%20transform='matrix(.11441883%200%200%20.11441883%2018.053605%2044.469281)'%3e%3cpath%20d='m119.4207%20543.01679h29.16277v-499.96429h-29.16277v499.96429zm60.27256%200h89.42926v-499.96429h-89.42926v499.96429zm118.5981-499.96429v499.94645h89.42926v-499.94645h-89.42926z'%20fill='%23900'/%3e%3cpath%20d='m838.97933%20543.0524h29.16883v-499.99996h-29.16883v499.99996zm60.27862-499.99996v499.99996h29.16277v-499.99996h-29.16277zm-481.40408%20500.00003h29.16277v-499.99997h-29.16277v499.99997zm60.27862-499.99997v499.98213h29.16884v-499.98213h-29.16884z'%20fill='%23396'/%3e%3cpath%20d='m537.42244%20543.05247h89.4414v-499.99997h-89.4414v499.99997zm118.5981%200h31.10372v-499.99997h-31.10372v499.99997zm60.27256-499.99997v499.98213h89.42926v-499.98213h-89.42926z'%20fill='%23069'/%3e%3c/g%3e%3c/svg%3e";var BR=rt('<img alt="Wikidata Logo" class="w-8 h-8 max-w-8 max-h-8"/>');function dv(i){var e=BR();ot(()=>dt(e,"src",LR)),Me(i,e)}var PR=Ei('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg>');function gv(i,e){let t=It(e,"className",8,"size-6");var r=PR();ot(()=>$t(r,0,Ti(t()))),Me(i,r)}var qR=(i,e)=>yt(e,!re(e)),UR=rt('<span class="italic"> </span> ',1),MR=rt('<a title="Internet Archive link to resource"><!></a>'),zR=rt('<a title="JSTOR link to resource"><!></a>'),jR=rt('<span class="italic"> </span> ',1),GR=rt('<a title="Internet Archive link to resource"><!></a>'),HR=rt('<a title="JSTOR link to resource"><!></a>'),XR=rt('<tr class="bg-slate-200"><td><a title="Wikidata page"><!></a></td><td> </td><td> </td><td> </td><td> </td><td><!></td><td></td><td><!></td></tr>'),$R=rt('<tr><td><a title="Wikidata page"><!></a></td><td><div class="flex justify-start align-middle"><!> </div></td><td> </td><td> </td><td> </td><td><!></td><td> </td><td><!></td></tr> <!>',1);function WR(i,e){zt(e,!0);let t=Cr(!1);var r=$R(),n=Ot(r);n.__click=[qR,t];let s;var o=Oe(n),l=Oe(o),f=Oe(l);dv(f),Ee(l),Ee(o);var m=Ue(o),p=Oe(m),d=Oe(p);{var g=K=>{var se=Mt(),F=Ot(se);{var G=me=>{IR(me,{className:"size-4"})},V=me=>{DR(me,{className:"size-4"})};tt(F,me=>{re(t)?me(G):me(V,!1)})}Me(K,se)};tt(d,K=>{e.citation.citations.length>0&&K(g)})}var h=Ue(d,1,!0);Ee(p),Ee(m);var _=Ue(m),E=Oe(_,!0);Ee(_);var b=Ue(_),S=Oe(b,!0);Ee(b);var x=Ue(b),O=Oe(x);Ee(x);var w=Ue(x),T=Oe(w);{var q=K=>{var se=UR(),F=Ot(se),G=Oe(F,!0);Ee(F);var V=Ue(F);ot(()=>{var me,ue,M,te;ht(G,(me=e.citation.published_in_label)==null?void 0:me.value),ht(V,` ${((ue=e.citation.volume)==null?void 0:ue.value)??""}${(M=e.citation.issue)!=null&&M.value?` (${e.citation.issue.value})`:""}, pp. ${((te=e.citation.page_range)==null?void 0:te.value)??""}.`)}),Me(K,se)};tt(T,K=>{e.citation.item_typeLabel.value==="scholarly article"&&K(q)})}Ee(w);var N=Ue(w),W=Oe(N,!0);Ee(N);var C=Ue(N),I=Oe(C);{var z=K=>{var se=MR(),F=Oe(se);hv(F,{className:"size-6"}),Ee(se),ot(()=>dt(se,"href",e.citation.internet_archive_url.value)),Me(K,se)},X=(K,se)=>{{var F=G=>{var V=zR(),me=Oe(V);gv(me,{className:"size-6"}),Ee(V),ot(()=>dt(V,"href",e.citation.jstor_url.value)),Me(G,V)};tt(K,G=>{var V;(V=e.citation.jstor_url)!=null&&V.value&&G(F)},se)}};tt(I,K=>{var se;(se=e.citation.internet_archive_url)!=null&&se.value?K(z):K(X,!1)})}Ee(C),Ee(n);var ee=Ue(n,2);{var Y=K=>{var se=Mt(),F=Ot(se);Zt(F,17,()=>e.citation.citations,or,(G,V)=>{var me=Mt(),ue=Ot(me);{var M=te=>{var ie=XR(),we=Oe(ie),Re=Oe(we),Te=Oe(Re);dv(Te),Ee(Re),Ee(we);var Se=Ue(we),Ie=Oe(Se,!0);Ee(Se);var Ne=Ue(Se),je=Oe(Ne,!0);Ee(Ne);var Le=Ue(Ne),Be=Oe(Le,!0);Ee(Le);var Ve=Ue(Le),Je=Oe(Ve);Ee(Ve);var B=Ue(Ve),A=Oe(B);{var k=Pe=>{var v=jR(),J=Ot(v),le=Oe(J,!0);Ee(J);var ge=Ue(J);ot(()=>{var he,ke,D,ne;ht(le,(he=re(V).published_in_label)==null?void 0:he.value),ht(ge,` ${((ke=re(V).volume)==null?void 0:ke.value)??""}${(D=re(V).issue)!=null&&D.value?` (${re(V).issue.value})`:""}, pp. ${((ne=re(V).page_range)==null?void 0:ne.value)??""}.`)}),Me(Pe,v)};tt(A,Pe=>{re(V).item_typeLabel.value==="scholarly article"&&Pe(k)})}Ee(B);var U=Ue(B,2),H=Oe(U);{var ae=Pe=>{var v=GR(),J=Oe(v);hv(J,{className:"size-6"}),Ee(v),ot(()=>dt(v,"href",re(V).internet_archive_url.value)),Me(Pe,v)},pe=(Pe,v)=>{{var J=le=>{var ge=HR(),he=Oe(ge);gv(he,{className:"size-6"}),Ee(ge),ot(()=>dt(ge,"href",re(V).jstor_url.value)),Me(le,ge)};tt(Pe,le=>{var ge;(ge=re(V).jstor_url)!=null&&ge.value&&le(J)},v)}};tt(H,Pe=>{var v;(v=re(V).internet_archive_url)!=null&&v.value?Pe(ae):Pe(pe,!1)})}Ee(U),Ee(ie),ot(Pe=>{var v,J;dt(Re,"href",e.citation.wikidataURL),ht(Ie,(v=re(V).authors)==null?void 0:v.value),ht(je,Pe),ht(Be,re(V).title.value),ht(Je,`${re(V).publishers.value??""}
					${(J=re(V).publicationPlaces)!=null&&J.value?`(${re(V).publicationPlaces.value})`:""}`)},[()=>new Date(re(V).pubYear.value).getFullYear()]),Me(te,ie)};tt(ue,te=>{re(V)&&te(M)})}Me(G,me)}),Me(K,se)};tt(ee,K=>{re(t)&&K(Y)})}ot((K,se)=>{var F,G;s=$t(n,1,"",null,s,K),dt(l,"href",e.citation.wikidataURL),ht(h,(F=e.citation.authors)==null?void 0:F.value),ht(E,se),ht(S,e.citation.title.value),ht(O,`${e.citation.publishers.value??""}
		${(G=e.citation.publicationPlaces)!=null&&G.value?`(${e.citation.publicationPlaces.value})`:""}`),ht(W,e.citation.citations.length)},[()=>({"cursor-pointer":e.citation.citations.length>0}),()=>new Date(e.citation.pubYear.value).getFullYear()]),Me(i,r),jt()}Nr(["click"]);var VR=(i,e,t)=>{yt(e,"author"),yt(t,!re(t))},KR=(i,e,t)=>{yt(e,"pubdate"),yt(t,!re(t))},JR=(i,e,t)=>{yt(e,"title"),yt(t,!re(t))},YR=(i,e,t)=>{yt(e,"publisher"),yt(t,!re(t))},QR=(i,e,t)=>{yt(e,"published-in"),yt(t,!re(t))},ZR=(i,e,t)=>{yt(e,"citationCount"),yt(t,!re(t))},eI=rt('<table class="table table-pin-cols border-base-300"><thead><tr><th></th><th class="cursor-pointer"><div class="flex">Author <!></div></th><th class="cursor-pointer"><div class="flex">Year of Publication <!></div></th><th class="cursor-pointer"><div class="flex">Title <!></div></th><th class="cursor-pointer"><div class="flex">Publisher <!></div></th><th class="cursor-pointer"><div class="flex">Published In <!></div></th><th class="cursor-pointer"><div class="flex">Citations <!></div></th><th>Full-Text Link</th></tr></thead><tbody></tbody></table>');function cI(i,e){zt(e,!0);let t=Cr("author"),r=Cr(!0),n=ut(()=>OR(e.citations,[F=>{var G,V,me;if(re(t)==="author")return(V=(G=F.authors)==null?void 0:G.value.split(", ").at(0))==null?void 0:V.split(" ").at(-1);if(re(t)==="citationCount")return F.citations.length;if(re(t)==="pubdate")return new Date(F.pubYear.value);if(re(t)==="publisher")return F.publishers.value;if(re(t)==="published-in")return((me=F.published_in_label)==null?void 0:me.value)||F.publishers.value;if(re(t)==="title")return F.title.value}],[re(r)?"asc":"desc"]));var s=eI(),o=Oe(s),l=Oe(o),f=Ue(Oe(l));f.__click=[VR,t,r];var m=Oe(f),p=Ue(Oe(m));{var d=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(p,F=>{re(t)==="author"&&F(d)})}Ee(m),Ee(f);var g=Ue(f);g.__click=[KR,t,r];var h=Oe(g),_=Ue(Oe(h));{var E=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(_,F=>{re(t)==="pubdate"&&F(E)})}Ee(h),Ee(g);var b=Ue(g);b.__click=[JR,t,r];var S=Oe(b),x=Ue(Oe(S));{var O=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(x,F=>{re(t)==="title"&&F(O)})}Ee(S),Ee(b);var w=Ue(b);w.__click=[YR,t,r];var T=Oe(w),q=Ue(Oe(T));{var N=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(q,F=>{re(t)==="publisher"&&F(N)})}Ee(T),Ee(w);var W=Ue(w);W.__click=[QR,t,r];var C=Oe(W),I=Ue(Oe(C));{var z=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(I,F=>{re(t)==="published-in"&&F(z)})}Ee(C),Ee(W);var X=Ue(W);X.__click=[ZR,t,r];var ee=Oe(X),Y=Ue(Oe(ee));{var K=F=>{var G=Mt(),V=Ot(G);{var me=M=>{Hi(M,{className:"size-4"})},ue=M=>{Xi(M,{className:"size-4"})};tt(V,M=>{re(r)?M(me):M(ue,!1)})}Me(F,G)};tt(Y,F=>{re(t)==="citationCount"&&F(K)})}Ee(ee),Ee(X),eT(),Ee(l),Ee(o);var se=Ue(o);Zt(se,21,()=>re(n),or,(F,G)=>{WR(F,{get citation(){return re(G)}})}),Ee(se),Ee(s),Me(i,s),jt()}Nr(["click"]);export{Nn as C,pI as R,Us as T,cI as W,Fv as a,dt as b,Ln as c,Zt as e,aO as g,or as i,$t as s};
